var GM=Object.defineProperty;var qM=(t,e,n)=>e in t?GM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Mp=(t,e,n)=>qM(t,typeof e!="symbol"?e+"":e,n);function YM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ki(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dT={exports:{}},Rh={},fT={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lc=Symbol.for("react.element"),QM=Symbol.for("react.portal"),XM=Symbol.for("react.fragment"),JM=Symbol.for("react.strict_mode"),ZM=Symbol.for("react.profiler"),eL=Symbol.for("react.provider"),tL=Symbol.for("react.context"),nL=Symbol.for("react.forward_ref"),rL=Symbol.for("react.suspense"),iL=Symbol.for("react.memo"),sL=Symbol.for("react.lazy"),Fb=Symbol.iterator;function aL(t){return t===null||typeof t!="object"?null:(t=Fb&&t[Fb]||t["@@iterator"],typeof t=="function"?t:null)}var hT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mT=Object.assign,pT={};function Jo(t,e,n){this.props=t,this.context=e,this.refs=pT,this.updater=n||hT}Jo.prototype.isReactComponent={};Jo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Jo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function gT(){}gT.prototype=Jo.prototype;function d0(t,e,n){this.props=t,this.context=e,this.refs=pT,this.updater=n||hT}var f0=d0.prototype=new gT;f0.constructor=d0;mT(f0,Jo.prototype);f0.isPureReactComponent=!0;var Bb=Array.isArray,vT=Object.prototype.hasOwnProperty,h0={current:null},yT={key:!0,ref:!0,__self:!0,__source:!0};function wT(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)vT.call(e,r)&&!yT.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:lc,type:t,key:s,ref:a,props:i,_owner:h0.current}}function oL(t,e){return{$$typeof:lc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function m0(t){return typeof t=="object"&&t!==null&&t.$$typeof===lc}function lL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ub=/\/+/g;function Lp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?lL(""+t.key):e.toString(36)}function $d(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case lc:case QM:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Lp(a,0):r,Bb(i)?(n="",t!=null&&(n=t.replace(Ub,"$&/")+"/"),$d(i,e,n,"",function(u){return u})):i!=null&&(m0(i)&&(i=oL(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Ub,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Bb(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+Lp(s,o);a+=$d(s,e,n,l,i)}else if(l=aL(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+Lp(s,o++),a+=$d(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Zc(t,e,n){if(t==null)return t;var r=[],i=0;return $d(t,r,"","",function(s){return e.call(n,s,i++)}),r}function uL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var un={current:null},Vd={transition:null},cL={ReactCurrentDispatcher:un,ReactCurrentBatchConfig:Vd,ReactCurrentOwner:h0};function xT(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:Zc,forEach:function(t,e,n){Zc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zc(t,function(){e++}),e},toArray:function(t){return Zc(t,function(e){return e})||[]},only:function(t){if(!m0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Component=Jo;we.Fragment=XM;we.Profiler=ZM;we.PureComponent=d0;we.StrictMode=JM;we.Suspense=rL;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cL;we.act=xT;we.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=mT({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=h0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)vT.call(e,l)&&!yT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:lc,type:t.type,key:i,ref:s,props:r,_owner:a}};we.createContext=function(t){return t={$$typeof:tL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:eL,_context:t},t.Consumer=t};we.createElement=wT;we.createFactory=function(t){var e=wT.bind(null,t);return e.type=t,e};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:nL,render:t}};we.isValidElement=m0;we.lazy=function(t){return{$$typeof:sL,_payload:{_status:-1,_result:t},_init:uL}};we.memo=function(t,e){return{$$typeof:iL,type:t,compare:e===void 0?null:e}};we.startTransition=function(t){var e=Vd.transition;Vd.transition={};try{t()}finally{Vd.transition=e}};we.unstable_act=xT;we.useCallback=function(t,e){return un.current.useCallback(t,e)};we.useContext=function(t){return un.current.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t){return un.current.useDeferredValue(t)};we.useEffect=function(t,e){return un.current.useEffect(t,e)};we.useId=function(){return un.current.useId()};we.useImperativeHandle=function(t,e,n){return un.current.useImperativeHandle(t,e,n)};we.useInsertionEffect=function(t,e){return un.current.useInsertionEffect(t,e)};we.useLayoutEffect=function(t,e){return un.current.useLayoutEffect(t,e)};we.useMemo=function(t,e){return un.current.useMemo(t,e)};we.useReducer=function(t,e,n){return un.current.useReducer(t,e,n)};we.useRef=function(t){return un.current.useRef(t)};we.useState=function(t){return un.current.useState(t)};we.useSyncExternalStore=function(t,e,n){return un.current.useSyncExternalStore(t,e,n)};we.useTransition=function(){return un.current.useTransition()};we.version="18.3.1";fT.exports=we;var S=fT.exports;const ei=ki(S),dL=YM({__proto__:null,default:ei},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fL=S,hL=Symbol.for("react.element"),mL=Symbol.for("react.fragment"),pL=Object.prototype.hasOwnProperty,gL=fL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vL={key:!0,ref:!0,__self:!0,__source:!0};function _T(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)pL.call(e,r)&&!vL.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:hL,type:t,key:s,ref:a,props:i,_owner:gL.current}}Rh.Fragment=mL;Rh.jsx=_T;Rh.jsxs=_T;dT.exports=Rh;var m=dT.exports,bT={exports:{}},$n={},ET={exports:{}},ST={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,Z){var te=z.length;z.push(Z);e:for(;0<te;){var F=te-1>>>1,V=z[F];if(0<i(V,Z))z[F]=Z,z[te]=V,te=F;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var Z=z[0],te=z.pop();if(te!==Z){z[0]=te;e:for(var F=0,V=z.length,ne=V>>>1;F<ne;){var xe=2*(F+1)-1,ye=z[xe],Re=xe+1,ve=z[Re];if(0>i(ye,te))Re<V&&0>i(ve,ye)?(z[F]=ve,z[Re]=te,F=Re):(z[F]=ye,z[xe]=te,F=xe);else if(Re<V&&0>i(ve,te))z[F]=ve,z[Re]=te,F=Re;else break e}}return Z}function i(z,Z){var te=z.sortIndex-Z.sortIndex;return te!==0?te:z.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,d=null,h=3,p=!1,g=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(z){for(var Z=n(u);Z!==null;){if(Z.callback===null)r(u);else if(Z.startTime<=z)r(u),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=n(u)}}function P(z){if(y=!1,_(z),!g)if(n(l)!==null)g=!0,K(N);else{var Z=n(u);Z!==null&&J(P,Z.startTime-z)}}function N(z,Z){g=!1,y&&(y=!1,w(A),A=-1),p=!0;var te=h;try{for(_(Z),d=n(l);d!==null&&(!(d.expirationTime>Z)||z&&!O());){var F=d.callback;if(typeof F=="function"){d.callback=null,h=d.priorityLevel;var V=F(d.expirationTime<=Z);Z=t.unstable_now(),typeof V=="function"?d.callback=V:d===n(l)&&r(l),_(Z)}else r(l);d=n(l)}if(d!==null)var ne=!0;else{var xe=n(u);xe!==null&&J(P,xe.startTime-Z),ne=!1}return ne}finally{d=null,h=te,p=!1}}var D=!1,I=null,A=-1,k=5,T=-1;function O(){return!(t.unstable_now()-T<k)}function R(){if(I!==null){var z=t.unstable_now();T=z;var Z=!0;try{Z=I(!0,z)}finally{Z?C():(D=!1,I=null)}}else D=!1}var C;if(typeof x=="function")C=function(){x(R)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,L=G.port2;G.port1.onmessage=R,C=function(){L.postMessage(null)}}else C=function(){b(R,0)};function K(z){I=z,D||(D=!0,C())}function J(z,Z){A=b(function(){z(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,K(N))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(h){case 1:case 2:case 3:var Z=3;break;default:Z=h}var te=h;h=Z;try{return z()}finally{h=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,Z){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var te=h;h=z;try{return Z()}finally{h=te}},t.unstable_scheduleCallback=function(z,Z,te){var F=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?F+te:F):te=F,z){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=te+V,z={id:c++,callback:Z,priorityLevel:z,startTime:te,expirationTime:V,sortIndex:-1},te>F?(z.sortIndex=te,e(u,z),n(l)===null&&z===n(u)&&(y?(w(A),A=-1):y=!0,J(P,te-F))):(z.sortIndex=V,e(l,z),g||p||(g=!0,K(N))),z},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(z){var Z=h;return function(){var te=h;h=Z;try{return z.apply(this,arguments)}finally{h=te}}}})(ST);ET.exports=ST;var yL=ET.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wL=S,Rn=yL;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var AT=new Set,bu={};function ka(t,e){Io(t,e),Io(t+"Capture",e)}function Io(t,e){for(bu[t]=e,t=0;t<e.length;t++)AT.add(e[t])}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qg=Object.prototype.hasOwnProperty,xL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zb={},Wb={};function _L(t){return Qg.call(Wb,t)?!0:Qg.call(zb,t)?!1:xL.test(t)?Wb[t]=!0:(zb[t]=!0,!1)}function bL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function EL(t,e,n,r){if(e===null||typeof e>"u"||bL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function cn(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ft[t]=new cn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ft[e]=new cn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ft[t]=new cn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ft[t]=new cn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ft[t]=new cn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ft[t]=new cn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ft[t]=new cn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ft[t]=new cn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ft[t]=new cn(t,5,!1,t.toLowerCase(),null,!1,!1)});var p0=/[\-:]([a-z])/g;function g0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(p0,g0);Ft[e]=new cn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(p0,g0);Ft[e]=new cn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(p0,g0);Ft[e]=new cn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ft[t]=new cn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ft.xlinkHref=new cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ft[t]=new cn(t,1,!1,t.toLowerCase(),null,!0,!0)});function v0(t,e,n,r){var i=Ft.hasOwnProperty(e)?Ft[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(EL(e,n,i,r)&&(n=null),r||i===null?_L(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ci=wL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ed=Symbol.for("react.element"),Ja=Symbol.for("react.portal"),Za=Symbol.for("react.fragment"),y0=Symbol.for("react.strict_mode"),Xg=Symbol.for("react.profiler"),PT=Symbol.for("react.provider"),TT=Symbol.for("react.context"),w0=Symbol.for("react.forward_ref"),Jg=Symbol.for("react.suspense"),Zg=Symbol.for("react.suspense_list"),x0=Symbol.for("react.memo"),Wi=Symbol.for("react.lazy"),IT=Symbol.for("react.offscreen"),Hb=Symbol.iterator;function Cl(t){return t===null||typeof t!="object"?null:(t=Hb&&t[Hb]||t["@@iterator"],typeof t=="function"?t:null)}var Ze=Object.assign,$p;function Kl(t){if($p===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$p=e&&e[1]||""}return`
`+$p+t}var Vp=!1;function Fp(t,e){if(!t||Vp)return"";Vp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Vp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Kl(t):""}function SL(t){switch(t.tag){case 5:return Kl(t.type);case 16:return Kl("Lazy");case 13:return Kl("Suspense");case 19:return Kl("SuspenseList");case 0:case 2:case 15:return t=Fp(t.type,!1),t;case 11:return t=Fp(t.type.render,!1),t;case 1:return t=Fp(t.type,!0),t;default:return""}}function ev(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Za:return"Fragment";case Ja:return"Portal";case Xg:return"Profiler";case y0:return"StrictMode";case Jg:return"Suspense";case Zg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case TT:return(t.displayName||"Context")+".Consumer";case PT:return(t._context.displayName||"Context")+".Provider";case w0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x0:return e=t.displayName||null,e!==null?e:ev(t.type)||"Memo";case Wi:e=t._payload,t=t._init;try{return ev(t(e))}catch{}}return null}function AL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ev(e);case 8:return e===y0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ys(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function kT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function PL(t){var e=kT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function td(t){t._valueTracker||(t._valueTracker=PL(t))}function CT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=kT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function lf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function tv(t,e){var n=e.checked;return Ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Kb(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ys(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function NT(t,e){e=e.checked,e!=null&&v0(t,"checked",e,!1)}function nv(t,e){NT(t,e);var n=ys(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?rv(t,e.type,n):e.hasOwnProperty("defaultValue")&&rv(t,e.type,ys(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Gb(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function rv(t,e,n){(e!=="number"||lf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Gl=Array.isArray;function mo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ys(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function iv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return Ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function qb(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(X(92));if(Gl(n)){if(1<n.length)throw Error(X(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ys(n)}}function OT(t,e){var n=ys(e.value),r=ys(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Yb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function jT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?jT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nd,RT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(nd=nd||document.createElement("div"),nd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Eu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var iu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TL=["Webkit","ms","Moz","O"];Object.keys(iu).forEach(function(t){TL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),iu[e]=iu[t]})});function DT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||iu.hasOwnProperty(t)&&iu[t]?(""+e).trim():e+"px"}function MT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=DT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var IL=Ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function av(t,e){if(e){if(IL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function ov(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lv=null;function _0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var uv=null,po=null,go=null;function Qb(t){if(t=dc(t)){if(typeof uv!="function")throw Error(X(280));var e=t.stateNode;e&&(e=Vh(e),uv(t.stateNode,t.type,e))}}function LT(t){po?go?go.push(t):go=[t]:po=t}function $T(){if(po){var t=po,e=go;if(go=po=null,Qb(t),e)for(t=0;t<e.length;t++)Qb(e[t])}}function VT(t,e){return t(e)}function FT(){}var Bp=!1;function BT(t,e,n){if(Bp)return t(e,n);Bp=!0;try{return VT(t,e,n)}finally{Bp=!1,(po!==null||go!==null)&&(FT(),$T())}}function Su(t,e){var n=t.stateNode;if(n===null)return null;var r=Vh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var cv=!1;if(vi)try{var Nl={};Object.defineProperty(Nl,"passive",{get:function(){cv=!0}}),window.addEventListener("test",Nl,Nl),window.removeEventListener("test",Nl,Nl)}catch{cv=!1}function kL(t,e,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var su=!1,uf=null,cf=!1,dv=null,CL={onError:function(t){su=!0,uf=t}};function NL(t,e,n,r,i,s,a,o,l){su=!1,uf=null,kL.apply(CL,arguments)}function OL(t,e,n,r,i,s,a,o,l){if(NL.apply(this,arguments),su){if(su){var u=uf;su=!1,uf=null}else throw Error(X(198));cf||(cf=!0,dv=u)}}function Ca(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function UT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Xb(t){if(Ca(t)!==t)throw Error(X(188))}function jL(t){var e=t.alternate;if(!e){if(e=Ca(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Xb(i),t;if(s===r)return Xb(i),e;s=s.sibling}throw Error(X(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function zT(t){return t=jL(t),t!==null?WT(t):null}function WT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=WT(t);if(e!==null)return e;t=t.sibling}return null}var HT=Rn.unstable_scheduleCallback,Jb=Rn.unstable_cancelCallback,RL=Rn.unstable_shouldYield,DL=Rn.unstable_requestPaint,at=Rn.unstable_now,ML=Rn.unstable_getCurrentPriorityLevel,b0=Rn.unstable_ImmediatePriority,KT=Rn.unstable_UserBlockingPriority,df=Rn.unstable_NormalPriority,LL=Rn.unstable_LowPriority,GT=Rn.unstable_IdlePriority,Dh=null,Rr=null;function $L(t){if(Rr&&typeof Rr.onCommitFiberRoot=="function")try{Rr.onCommitFiberRoot(Dh,t,void 0,(t.current.flags&128)===128)}catch{}}var _r=Math.clz32?Math.clz32:BL,VL=Math.log,FL=Math.LN2;function BL(t){return t>>>=0,t===0?32:31-(VL(t)/FL|0)|0}var rd=64,id=4194304;function ql(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ff(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=ql(o):(s&=a,s!==0&&(r=ql(s)))}else a=n&~i,a!==0?r=ql(a):s!==0&&(r=ql(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-_r(e),i=1<<n,r|=t[n],e&=~i;return r}function UL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-_r(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=UL(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function fv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function qT(){var t=rd;return rd<<=1,!(rd&4194240)&&(rd=64),t}function Up(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function uc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_r(e),t[e]=n}function WL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-_r(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function E0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_r(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Oe=0;function YT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var QT,S0,XT,JT,ZT,hv=!1,sd=[],ts=null,ns=null,rs=null,Au=new Map,Pu=new Map,Gi=[],HL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zb(t,e){switch(t){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":Au.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pu.delete(e.pointerId)}}function Ol(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=dc(e),e!==null&&S0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function KL(t,e,n,r,i){switch(e){case"focusin":return ts=Ol(ts,t,e,n,r,i),!0;case"dragenter":return ns=Ol(ns,t,e,n,r,i),!0;case"mouseover":return rs=Ol(rs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Au.set(s,Ol(Au.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pu.set(s,Ol(Pu.get(s)||null,t,e,n,r,i)),!0}return!1}function eI(t){var e=Ys(t.target);if(e!==null){var n=Ca(e);if(n!==null){if(e=n.tag,e===13){if(e=UT(n),e!==null){t.blockedOn=e,ZT(t.priority,function(){XT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=mv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);lv=r,n.target.dispatchEvent(r),lv=null}else return e=dc(n),e!==null&&S0(e),t.blockedOn=n,!1;e.shift()}return!0}function e1(t,e,n){Fd(t)&&n.delete(e)}function GL(){hv=!1,ts!==null&&Fd(ts)&&(ts=null),ns!==null&&Fd(ns)&&(ns=null),rs!==null&&Fd(rs)&&(rs=null),Au.forEach(e1),Pu.forEach(e1)}function jl(t,e){t.blockedOn===e&&(t.blockedOn=null,hv||(hv=!0,Rn.unstable_scheduleCallback(Rn.unstable_NormalPriority,GL)))}function Tu(t){function e(i){return jl(i,t)}if(0<sd.length){jl(sd[0],t);for(var n=1;n<sd.length;n++){var r=sd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ts!==null&&jl(ts,t),ns!==null&&jl(ns,t),rs!==null&&jl(rs,t),Au.forEach(e),Pu.forEach(e),n=0;n<Gi.length;n++)r=Gi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Gi.length&&(n=Gi[0],n.blockedOn===null);)eI(n),n.blockedOn===null&&Gi.shift()}var vo=Ci.ReactCurrentBatchConfig,hf=!0;function qL(t,e,n,r){var i=Oe,s=vo.transition;vo.transition=null;try{Oe=1,A0(t,e,n,r)}finally{Oe=i,vo.transition=s}}function YL(t,e,n,r){var i=Oe,s=vo.transition;vo.transition=null;try{Oe=4,A0(t,e,n,r)}finally{Oe=i,vo.transition=s}}function A0(t,e,n,r){if(hf){var i=mv(t,e,n,r);if(i===null)Jp(t,e,r,mf,n),Zb(t,r);else if(KL(i,t,e,n,r))r.stopPropagation();else if(Zb(t,r),e&4&&-1<HL.indexOf(t)){for(;i!==null;){var s=dc(i);if(s!==null&&QT(s),s=mv(t,e,n,r),s===null&&Jp(t,e,r,mf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Jp(t,e,r,null,n)}}var mf=null;function mv(t,e,n,r){if(mf=null,t=_0(r),t=Ys(t),t!==null)if(e=Ca(t),e===null)t=null;else if(n=e.tag,n===13){if(t=UT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return mf=t,null}function tI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ML()){case b0:return 1;case KT:return 4;case df:case LL:return 16;case GT:return 536870912;default:return 16}default:return 16}}var Ji=null,P0=null,Bd=null;function nI(){if(Bd)return Bd;var t,e=P0,n=e.length,r,i="value"in Ji?Ji.value:Ji.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Bd=i.slice(t,1<r?1-r:void 0)}function Ud(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ad(){return!0}function t1(){return!1}function Vn(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ad:t1,this.isPropagationStopped=t1,this}return Ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ad)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ad)},persist:function(){},isPersistent:ad}),e}var Zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},T0=Vn(Zo),cc=Ze({},Zo,{view:0,detail:0}),QL=Vn(cc),zp,Wp,Rl,Mh=Ze({},cc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:I0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Rl&&(Rl&&t.type==="mousemove"?(zp=t.screenX-Rl.screenX,Wp=t.screenY-Rl.screenY):Wp=zp=0,Rl=t),zp)},movementY:function(t){return"movementY"in t?t.movementY:Wp}}),n1=Vn(Mh),XL=Ze({},Mh,{dataTransfer:0}),JL=Vn(XL),ZL=Ze({},cc,{relatedTarget:0}),Hp=Vn(ZL),e4=Ze({},Zo,{animationName:0,elapsedTime:0,pseudoElement:0}),t4=Vn(e4),n4=Ze({},Zo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),r4=Vn(n4),i4=Ze({},Zo,{data:0}),r1=Vn(i4),s4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=o4[t])?!!e[t]:!1}function I0(){return l4}var u4=Ze({},cc,{key:function(t){if(t.key){var e=s4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ud(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?a4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:I0,charCode:function(t){return t.type==="keypress"?Ud(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ud(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),c4=Vn(u4),d4=Ze({},Mh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),i1=Vn(d4),f4=Ze({},cc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:I0}),h4=Vn(f4),m4=Ze({},Zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),p4=Vn(m4),g4=Ze({},Mh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),v4=Vn(g4),y4=[9,13,27,32],k0=vi&&"CompositionEvent"in window,au=null;vi&&"documentMode"in document&&(au=document.documentMode);var w4=vi&&"TextEvent"in window&&!au,rI=vi&&(!k0||au&&8<au&&11>=au),s1=" ",a1=!1;function iI(t,e){switch(t){case"keyup":return y4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var eo=!1;function x4(t,e){switch(t){case"compositionend":return sI(e);case"keypress":return e.which!==32?null:(a1=!0,s1);case"textInput":return t=e.data,t===s1&&a1?null:t;default:return null}}function _4(t,e){if(eo)return t==="compositionend"||!k0&&iI(t,e)?(t=nI(),Bd=P0=Ji=null,eo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return rI&&e.locale!=="ko"?null:e.data;default:return null}}var b4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function o1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!b4[t.type]:e==="textarea"}function aI(t,e,n,r){LT(r),e=pf(e,"onChange"),0<e.length&&(n=new T0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ou=null,Iu=null;function E4(t){vI(t,0)}function Lh(t){var e=ro(t);if(CT(e))return t}function S4(t,e){if(t==="change")return e}var oI=!1;if(vi){var Kp;if(vi){var Gp="oninput"in document;if(!Gp){var l1=document.createElement("div");l1.setAttribute("oninput","return;"),Gp=typeof l1.oninput=="function"}Kp=Gp}else Kp=!1;oI=Kp&&(!document.documentMode||9<document.documentMode)}function u1(){ou&&(ou.detachEvent("onpropertychange",lI),Iu=ou=null)}function lI(t){if(t.propertyName==="value"&&Lh(Iu)){var e=[];aI(e,Iu,t,_0(t)),BT(E4,e)}}function A4(t,e,n){t==="focusin"?(u1(),ou=e,Iu=n,ou.attachEvent("onpropertychange",lI)):t==="focusout"&&u1()}function P4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lh(Iu)}function T4(t,e){if(t==="click")return Lh(e)}function I4(t,e){if(t==="input"||t==="change")return Lh(e)}function k4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Sr=typeof Object.is=="function"?Object.is:k4;function ku(t,e){if(Sr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Qg.call(e,i)||!Sr(t[i],e[i]))return!1}return!0}function c1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function d1(t,e){var n=c1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=c1(n)}}function uI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?uI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function cI(){for(var t=window,e=lf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=lf(t.document)}return e}function C0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function C4(t){var e=cI(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&uI(n.ownerDocument.documentElement,n)){if(r!==null&&C0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=d1(n,s);var a=d1(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var N4=vi&&"documentMode"in document&&11>=document.documentMode,to=null,pv=null,lu=null,gv=!1;function f1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gv||to==null||to!==lf(r)||(r=to,"selectionStart"in r&&C0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lu&&ku(lu,r)||(lu=r,r=pf(pv,"onSelect"),0<r.length&&(e=new T0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=to)))}function od(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var no={animationend:od("Animation","AnimationEnd"),animationiteration:od("Animation","AnimationIteration"),animationstart:od("Animation","AnimationStart"),transitionend:od("Transition","TransitionEnd")},qp={},dI={};vi&&(dI=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function $h(t){if(qp[t])return qp[t];if(!no[t])return t;var e=no[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in dI)return qp[t]=e[n];return t}var fI=$h("animationend"),hI=$h("animationiteration"),mI=$h("animationstart"),pI=$h("transitionend"),gI=new Map,h1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ts(t,e){gI.set(t,e),ka(e,[t])}for(var Yp=0;Yp<h1.length;Yp++){var Qp=h1[Yp],O4=Qp.toLowerCase(),j4=Qp[0].toUpperCase()+Qp.slice(1);Ts(O4,"on"+j4)}Ts(fI,"onAnimationEnd");Ts(hI,"onAnimationIteration");Ts(mI,"onAnimationStart");Ts("dblclick","onDoubleClick");Ts("focusin","onFocus");Ts("focusout","onBlur");Ts(pI,"onTransitionEnd");Io("onMouseEnter",["mouseout","mouseover"]);Io("onMouseLeave",["mouseout","mouseover"]);Io("onPointerEnter",["pointerout","pointerover"]);Io("onPointerLeave",["pointerout","pointerover"]);ka("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ka("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ka("onBeforeInput",["compositionend","keypress","textInput","paste"]);ka("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ka("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ka("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yl));function m1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,OL(r,e,void 0,t),t.currentTarget=null}function vI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;m1(i,o,u),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;m1(i,o,u),s=l}}}if(cf)throw t=dv,cf=!1,dv=null,t}function ze(t,e){var n=e[_v];n===void 0&&(n=e[_v]=new Set);var r=t+"__bubble";n.has(r)||(yI(e,t,2,!1),n.add(r))}function Xp(t,e,n){var r=0;e&&(r|=4),yI(n,t,r,e)}var ld="_reactListening"+Math.random().toString(36).slice(2);function Cu(t){if(!t[ld]){t[ld]=!0,AT.forEach(function(n){n!=="selectionchange"&&(R4.has(n)||Xp(n,!1,t),Xp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ld]||(e[ld]=!0,Xp("selectionchange",!1,e))}}function yI(t,e,n,r){switch(tI(e)){case 1:var i=qL;break;case 4:i=YL;break;default:i=A0}n=i.bind(null,e,n,t),i=void 0,!cv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Jp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Ys(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}BT(function(){var u=s,c=_0(n),d=[];e:{var h=gI.get(t);if(h!==void 0){var p=T0,g=t;switch(t){case"keypress":if(Ud(n)===0)break e;case"keydown":case"keyup":p=c4;break;case"focusin":g="focus",p=Hp;break;case"focusout":g="blur",p=Hp;break;case"beforeblur":case"afterblur":p=Hp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=n1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=JL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=h4;break;case fI:case hI:case mI:p=t4;break;case pI:p=p4;break;case"scroll":p=QL;break;case"wheel":p=v4;break;case"copy":case"cut":case"paste":p=r4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=i1}var y=(e&4)!==0,b=!y&&t==="scroll",w=y?h!==null?h+"Capture":null:h;y=[];for(var x=u,_;x!==null;){_=x;var P=_.stateNode;if(_.tag===5&&P!==null&&(_=P,w!==null&&(P=Su(x,w),P!=null&&y.push(Nu(x,P,_)))),b)break;x=x.return}0<y.length&&(h=new p(h,g,null,n,c),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==lv&&(g=n.relatedTarget||n.fromElement)&&(Ys(g)||g[yi]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?Ys(g):null,g!==null&&(b=Ca(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(y=n1,P="onMouseLeave",w="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(y=i1,P="onPointerLeave",w="onPointerEnter",x="pointer"),b=p==null?h:ro(p),_=g==null?h:ro(g),h=new y(P,x+"leave",p,n,c),h.target=b,h.relatedTarget=_,P=null,Ys(c)===u&&(y=new y(w,x+"enter",g,n,c),y.target=_,y.relatedTarget=b,P=y),b=P,p&&g)t:{for(y=p,w=g,x=0,_=y;_;_=Ha(_))x++;for(_=0,P=w;P;P=Ha(P))_++;for(;0<x-_;)y=Ha(y),x--;for(;0<_-x;)w=Ha(w),_--;for(;x--;){if(y===w||w!==null&&y===w.alternate)break t;y=Ha(y),w=Ha(w)}y=null}else y=null;p!==null&&p1(d,h,p,y,!1),g!==null&&b!==null&&p1(d,b,g,y,!0)}}e:{if(h=u?ro(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var N=S4;else if(o1(h))if(oI)N=I4;else{N=P4;var D=A4}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=T4);if(N&&(N=N(t,u))){aI(d,N,n,c);break e}D&&D(t,h,u),t==="focusout"&&(D=h._wrapperState)&&D.controlled&&h.type==="number"&&rv(h,"number",h.value)}switch(D=u?ro(u):window,t){case"focusin":(o1(D)||D.contentEditable==="true")&&(to=D,pv=u,lu=null);break;case"focusout":lu=pv=to=null;break;case"mousedown":gv=!0;break;case"contextmenu":case"mouseup":case"dragend":gv=!1,f1(d,n,c);break;case"selectionchange":if(N4)break;case"keydown":case"keyup":f1(d,n,c)}var I;if(k0)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else eo?iI(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(rI&&n.locale!=="ko"&&(eo||A!=="onCompositionStart"?A==="onCompositionEnd"&&eo&&(I=nI()):(Ji=c,P0="value"in Ji?Ji.value:Ji.textContent,eo=!0)),D=pf(u,A),0<D.length&&(A=new r1(A,t,null,n,c),d.push({event:A,listeners:D}),I?A.data=I:(I=sI(n),I!==null&&(A.data=I)))),(I=w4?x4(t,n):_4(t,n))&&(u=pf(u,"onBeforeInput"),0<u.length&&(c=new r1("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=I))}vI(d,e)})}function Nu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function pf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Su(t,n),s!=null&&r.unshift(Nu(t,s,i)),s=Su(t,e),s!=null&&r.push(Nu(t,s,i))),t=t.return}return r}function Ha(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function p1(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=Su(n,s),l!=null&&a.unshift(Nu(n,l,o))):i||(l=Su(n,s),l!=null&&a.push(Nu(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var D4=/\r\n?/g,M4=/\u0000|\uFFFD/g;function g1(t){return(typeof t=="string"?t:""+t).replace(D4,`
`).replace(M4,"")}function ud(t,e,n){if(e=g1(e),g1(t)!==e&&n)throw Error(X(425))}function gf(){}var vv=null,yv=null;function wv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xv=typeof setTimeout=="function"?setTimeout:void 0,L4=typeof clearTimeout=="function"?clearTimeout:void 0,v1=typeof Promise=="function"?Promise:void 0,$4=typeof queueMicrotask=="function"?queueMicrotask:typeof v1<"u"?function(t){return v1.resolve(null).then(t).catch(V4)}:xv;function V4(t){setTimeout(function(){throw t})}function Zp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Tu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Tu(e)}function is(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function y1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var el=Math.random().toString(36).slice(2),Nr="__reactFiber$"+el,Ou="__reactProps$"+el,yi="__reactContainer$"+el,_v="__reactEvents$"+el,F4="__reactListeners$"+el,B4="__reactHandles$"+el;function Ys(t){var e=t[Nr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[yi]||n[Nr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=y1(t);t!==null;){if(n=t[Nr])return n;t=y1(t)}return e}t=n,n=t.parentNode}return null}function dc(t){return t=t[Nr]||t[yi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ro(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function Vh(t){return t[Ou]||null}var bv=[],io=-1;function Is(t){return{current:t}}function Ke(t){0>io||(t.current=bv[io],bv[io]=null,io--)}function Be(t,e){io++,bv[io]=t.current,t.current=e}var ws={},en=Is(ws),vn=Is(!1),ha=ws;function ko(t,e){var n=t.type.contextTypes;if(!n)return ws;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function yn(t){return t=t.childContextTypes,t!=null}function vf(){Ke(vn),Ke(en)}function w1(t,e,n){if(en.current!==ws)throw Error(X(168));Be(en,e),Be(vn,n)}function wI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(X(108,AL(t)||"Unknown",i));return Ze({},n,r)}function yf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ws,ha=en.current,Be(en,t),Be(vn,vn.current),!0}function x1(t,e,n){var r=t.stateNode;if(!r)throw Error(X(169));n?(t=wI(t,e,ha),r.__reactInternalMemoizedMergedChildContext=t,Ke(vn),Ke(en),Be(en,t)):Ke(vn),Be(vn,n)}var ti=null,Fh=!1,eg=!1;function xI(t){ti===null?ti=[t]:ti.push(t)}function U4(t){Fh=!0,xI(t)}function ks(){if(!eg&&ti!==null){eg=!0;var t=0,e=Oe;try{var n=ti;for(Oe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ti=null,Fh=!1}catch(i){throw ti!==null&&(ti=ti.slice(t+1)),HT(b0,ks),i}finally{Oe=e,eg=!1}}return null}var so=[],ao=0,wf=null,xf=0,Kn=[],Gn=0,ma=null,ai=1,oi="";function Us(t,e){so[ao++]=xf,so[ao++]=wf,wf=t,xf=e}function _I(t,e,n){Kn[Gn++]=ai,Kn[Gn++]=oi,Kn[Gn++]=ma,ma=t;var r=ai;t=oi;var i=32-_r(r)-1;r&=~(1<<i),n+=1;var s=32-_r(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ai=1<<32-_r(e)+i|n<<i|r,oi=s+t}else ai=1<<s|n<<i|r,oi=t}function N0(t){t.return!==null&&(Us(t,1),_I(t,1,0))}function O0(t){for(;t===wf;)wf=so[--ao],so[ao]=null,xf=so[--ao],so[ao]=null;for(;t===ma;)ma=Kn[--Gn],Kn[Gn]=null,oi=Kn[--Gn],Kn[Gn]=null,ai=Kn[--Gn],Kn[Gn]=null}var Nn=null,Cn=null,Ge=!1,mr=null;function bI(t,e){var n=Zn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function _1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Nn=t,Cn=is(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Nn=t,Cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ma!==null?{id:ai,overflow:oi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Nn=t,Cn=null,!0):!1;default:return!1}}function Ev(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sv(t){if(Ge){var e=Cn;if(e){var n=e;if(!_1(t,e)){if(Ev(t))throw Error(X(418));e=is(n.nextSibling);var r=Nn;e&&_1(t,e)?bI(r,n):(t.flags=t.flags&-4097|2,Ge=!1,Nn=t)}}else{if(Ev(t))throw Error(X(418));t.flags=t.flags&-4097|2,Ge=!1,Nn=t}}}function b1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Nn=t}function cd(t){if(t!==Nn)return!1;if(!Ge)return b1(t),Ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wv(t.type,t.memoizedProps)),e&&(e=Cn)){if(Ev(t))throw EI(),Error(X(418));for(;e;)bI(t,e),e=is(e.nextSibling)}if(b1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Cn=is(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Cn=null}}else Cn=Nn?is(t.stateNode.nextSibling):null;return!0}function EI(){for(var t=Cn;t;)t=is(t.nextSibling)}function Co(){Cn=Nn=null,Ge=!1}function j0(t){mr===null?mr=[t]:mr.push(t)}var z4=Ci.ReactCurrentBatchConfig;function Dl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,t))}return t}function dd(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function E1(t){var e=t._init;return e(t._payload)}function SI(t){function e(w,x){if(t){var _=w.deletions;_===null?(w.deletions=[x],w.flags|=16):_.push(x)}}function n(w,x){if(!t)return null;for(;x!==null;)e(w,x),x=x.sibling;return null}function r(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function i(w,x){return w=ls(w,x),w.index=0,w.sibling=null,w}function s(w,x,_){return w.index=_,t?(_=w.alternate,_!==null?(_=_.index,_<x?(w.flags|=2,x):_):(w.flags|=2,x)):(w.flags|=1048576,x)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function o(w,x,_,P){return x===null||x.tag!==6?(x=og(_,w.mode,P),x.return=w,x):(x=i(x,_),x.return=w,x)}function l(w,x,_,P){var N=_.type;return N===Za?c(w,x,_.props.children,P,_.key):x!==null&&(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Wi&&E1(N)===x.type)?(P=i(x,_.props),P.ref=Dl(w,x,_),P.return=w,P):(P=Yd(_.type,_.key,_.props,null,w.mode,P),P.ref=Dl(w,x,_),P.return=w,P)}function u(w,x,_,P){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=lg(_,w.mode,P),x.return=w,x):(x=i(x,_.children||[]),x.return=w,x)}function c(w,x,_,P,N){return x===null||x.tag!==7?(x=oa(_,w.mode,P,N),x.return=w,x):(x=i(x,_),x.return=w,x)}function d(w,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return x=og(""+x,w.mode,_),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ed:return _=Yd(x.type,x.key,x.props,null,w.mode,_),_.ref=Dl(w,null,x),_.return=w,_;case Ja:return x=lg(x,w.mode,_),x.return=w,x;case Wi:var P=x._init;return d(w,P(x._payload),_)}if(Gl(x)||Cl(x))return x=oa(x,w.mode,_,null),x.return=w,x;dd(w,x)}return null}function h(w,x,_,P){var N=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return N!==null?null:o(w,x,""+_,P);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ed:return _.key===N?l(w,x,_,P):null;case Ja:return _.key===N?u(w,x,_,P):null;case Wi:return N=_._init,h(w,x,N(_._payload),P)}if(Gl(_)||Cl(_))return N!==null?null:c(w,x,_,P,null);dd(w,_)}return null}function p(w,x,_,P,N){if(typeof P=="string"&&P!==""||typeof P=="number")return w=w.get(_)||null,o(x,w,""+P,N);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case ed:return w=w.get(P.key===null?_:P.key)||null,l(x,w,P,N);case Ja:return w=w.get(P.key===null?_:P.key)||null,u(x,w,P,N);case Wi:var D=P._init;return p(w,x,_,D(P._payload),N)}if(Gl(P)||Cl(P))return w=w.get(_)||null,c(x,w,P,N,null);dd(x,P)}return null}function g(w,x,_,P){for(var N=null,D=null,I=x,A=x=0,k=null;I!==null&&A<_.length;A++){I.index>A?(k=I,I=null):k=I.sibling;var T=h(w,I,_[A],P);if(T===null){I===null&&(I=k);break}t&&I&&T.alternate===null&&e(w,I),x=s(T,x,A),D===null?N=T:D.sibling=T,D=T,I=k}if(A===_.length)return n(w,I),Ge&&Us(w,A),N;if(I===null){for(;A<_.length;A++)I=d(w,_[A],P),I!==null&&(x=s(I,x,A),D===null?N=I:D.sibling=I,D=I);return Ge&&Us(w,A),N}for(I=r(w,I);A<_.length;A++)k=p(I,w,A,_[A],P),k!==null&&(t&&k.alternate!==null&&I.delete(k.key===null?A:k.key),x=s(k,x,A),D===null?N=k:D.sibling=k,D=k);return t&&I.forEach(function(O){return e(w,O)}),Ge&&Us(w,A),N}function y(w,x,_,P){var N=Cl(_);if(typeof N!="function")throw Error(X(150));if(_=N.call(_),_==null)throw Error(X(151));for(var D=N=null,I=x,A=x=0,k=null,T=_.next();I!==null&&!T.done;A++,T=_.next()){I.index>A?(k=I,I=null):k=I.sibling;var O=h(w,I,T.value,P);if(O===null){I===null&&(I=k);break}t&&I&&O.alternate===null&&e(w,I),x=s(O,x,A),D===null?N=O:D.sibling=O,D=O,I=k}if(T.done)return n(w,I),Ge&&Us(w,A),N;if(I===null){for(;!T.done;A++,T=_.next())T=d(w,T.value,P),T!==null&&(x=s(T,x,A),D===null?N=T:D.sibling=T,D=T);return Ge&&Us(w,A),N}for(I=r(w,I);!T.done;A++,T=_.next())T=p(I,w,A,T.value,P),T!==null&&(t&&T.alternate!==null&&I.delete(T.key===null?A:T.key),x=s(T,x,A),D===null?N=T:D.sibling=T,D=T);return t&&I.forEach(function(R){return e(w,R)}),Ge&&Us(w,A),N}function b(w,x,_,P){if(typeof _=="object"&&_!==null&&_.type===Za&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case ed:e:{for(var N=_.key,D=x;D!==null;){if(D.key===N){if(N=_.type,N===Za){if(D.tag===7){n(w,D.sibling),x=i(D,_.props.children),x.return=w,w=x;break e}}else if(D.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Wi&&E1(N)===D.type){n(w,D.sibling),x=i(D,_.props),x.ref=Dl(w,D,_),x.return=w,w=x;break e}n(w,D);break}else e(w,D);D=D.sibling}_.type===Za?(x=oa(_.props.children,w.mode,P,_.key),x.return=w,w=x):(P=Yd(_.type,_.key,_.props,null,w.mode,P),P.ref=Dl(w,x,_),P.return=w,w=P)}return a(w);case Ja:e:{for(D=_.key;x!==null;){if(x.key===D)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){n(w,x.sibling),x=i(x,_.children||[]),x.return=w,w=x;break e}else{n(w,x);break}else e(w,x);x=x.sibling}x=lg(_,w.mode,P),x.return=w,w=x}return a(w);case Wi:return D=_._init,b(w,x,D(_._payload),P)}if(Gl(_))return g(w,x,_,P);if(Cl(_))return y(w,x,_,P);dd(w,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,x!==null&&x.tag===6?(n(w,x.sibling),x=i(x,_),x.return=w,w=x):(n(w,x),x=og(_,w.mode,P),x.return=w,w=x),a(w)):n(w,x)}return b}var No=SI(!0),AI=SI(!1),_f=Is(null),bf=null,oo=null,R0=null;function D0(){R0=oo=bf=null}function M0(t){var e=_f.current;Ke(_f),t._currentValue=e}function Av(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function yo(t,e){bf=t,R0=oo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pn=!0),t.firstContext=null)}function rr(t){var e=t._currentValue;if(R0!==t)if(t={context:t,memoizedValue:e,next:null},oo===null){if(bf===null)throw Error(X(308));oo=t,bf.dependencies={lanes:0,firstContext:t}}else oo=oo.next=t;return e}var Qs=null;function L0(t){Qs===null?Qs=[t]:Qs.push(t)}function PI(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,L0(e)):(n.next=i.next,i.next=n),e.interleaved=n,wi(t,r)}function wi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Hi=!1;function $0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ss(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,wi(t,n)}return i=r.interleaved,i===null?(e.next=e,L0(r)):(e.next=i.next,i.next=e),r.interleaved=e,wi(t,n)}function zd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,E0(t,n)}}function S1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ef(t,e,n,r){var i=t.updateQueue;Hi=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;a=0,c=u=l=null,o=s;do{var h=o.lane,p=o.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,y=o;switch(h=e,p=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=Ze({},d,h);break e;case 2:Hi=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,a|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ga|=a,t.lanes=a,t.memoizedState=d}}function A1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(X(191,i));i.call(r)}}}var fc={},Dr=Is(fc),ju=Is(fc),Ru=Is(fc);function Xs(t){if(t===fc)throw Error(X(174));return t}function V0(t,e){switch(Be(Ru,e),Be(ju,t),Be(Dr,fc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:sv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=sv(e,t)}Ke(Dr),Be(Dr,e)}function Oo(){Ke(Dr),Ke(ju),Ke(Ru)}function II(t){Xs(Ru.current);var e=Xs(Dr.current),n=sv(e,t.type);e!==n&&(Be(ju,t),Be(Dr,n))}function F0(t){ju.current===t&&(Ke(Dr),Ke(ju))}var Qe=Is(0);function Sf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var tg=[];function B0(){for(var t=0;t<tg.length;t++)tg[t]._workInProgressVersionPrimary=null;tg.length=0}var Wd=Ci.ReactCurrentDispatcher,ng=Ci.ReactCurrentBatchConfig,pa=0,Je=null,gt=null,Tt=null,Af=!1,uu=!1,Du=0,W4=0;function Kt(){throw Error(X(321))}function U0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Sr(t[n],e[n]))return!1;return!0}function z0(t,e,n,r,i,s){if(pa=s,Je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wd.current=t===null||t.memoizedState===null?q4:Y4,t=n(r,i),uu){s=0;do{if(uu=!1,Du=0,25<=s)throw Error(X(301));s+=1,Tt=gt=null,e.updateQueue=null,Wd.current=Q4,t=n(r,i)}while(uu)}if(Wd.current=Pf,e=gt!==null&&gt.next!==null,pa=0,Tt=gt=Je=null,Af=!1,e)throw Error(X(300));return t}function W0(){var t=Du!==0;return Du=0,t}function kr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Je.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function ir(){if(gt===null){var t=Je.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var e=Tt===null?Je.memoizedState:Tt.next;if(e!==null)Tt=e,gt=t;else{if(t===null)throw Error(X(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Tt===null?Je.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function Mu(t,e){return typeof e=="function"?e(t):e}function rg(t){var e=ir(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=gt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,u=s;do{var c=u.lane;if((pa&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,a=r):l=l.next=d,Je.lanes|=c,ga|=c}u=u.next}while(u!==null&&u!==s);l===null?a=r:l.next=o,Sr(r,e.memoizedState)||(pn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Je.lanes|=s,ga|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ig(t){var e=ir(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Sr(s,e.memoizedState)||(pn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function kI(){}function CI(t,e){var n=Je,r=ir(),i=e(),s=!Sr(r.memoizedState,i);if(s&&(r.memoizedState=i,pn=!0),r=r.queue,H0(jI.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Tt!==null&&Tt.memoizedState.tag&1){if(n.flags|=2048,Lu(9,OI.bind(null,n,r,i,e),void 0,null),It===null)throw Error(X(349));pa&30||NI(n,e,i)}return i}function NI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function OI(t,e,n,r){e.value=n,e.getSnapshot=r,RI(e)&&DI(t)}function jI(t,e,n){return n(function(){RI(e)&&DI(t)})}function RI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Sr(t,n)}catch{return!0}}function DI(t){var e=wi(t,1);e!==null&&br(e,t,1,-1)}function P1(t){var e=kr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mu,lastRenderedState:t},e.queue=t,t=t.dispatch=G4.bind(null,Je,t),[e.memoizedState,t]}function Lu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function MI(){return ir().memoizedState}function Hd(t,e,n,r){var i=kr();Je.flags|=t,i.memoizedState=Lu(1|e,n,void 0,r===void 0?null:r)}function Bh(t,e,n,r){var i=ir();r=r===void 0?null:r;var s=void 0;if(gt!==null){var a=gt.memoizedState;if(s=a.destroy,r!==null&&U0(r,a.deps)){i.memoizedState=Lu(e,n,s,r);return}}Je.flags|=t,i.memoizedState=Lu(1|e,n,s,r)}function T1(t,e){return Hd(8390656,8,t,e)}function H0(t,e){return Bh(2048,8,t,e)}function LI(t,e){return Bh(4,2,t,e)}function $I(t,e){return Bh(4,4,t,e)}function VI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function FI(t,e,n){return n=n!=null?n.concat([t]):null,Bh(4,4,VI.bind(null,e,t),n)}function K0(){}function BI(t,e){var n=ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&U0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function UI(t,e){var n=ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&U0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function zI(t,e,n){return pa&21?(Sr(n,e)||(n=qT(),Je.lanes|=n,ga|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pn=!0),t.memoizedState=n)}function H4(t,e){var n=Oe;Oe=n!==0&&4>n?n:4,t(!0);var r=ng.transition;ng.transition={};try{t(!1),e()}finally{Oe=n,ng.transition=r}}function WI(){return ir().memoizedState}function K4(t,e,n){var r=os(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},HI(t))KI(e,n);else if(n=PI(t,e,n,r),n!==null){var i=an();br(n,t,r,i),GI(n,e,r)}}function G4(t,e,n){var r=os(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(HI(t))KI(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Sr(o,a)){var l=e.interleaved;l===null?(i.next=i,L0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=PI(t,e,i,r),n!==null&&(i=an(),br(n,t,r,i),GI(n,e,r))}}function HI(t){var e=t.alternate;return t===Je||e!==null&&e===Je}function KI(t,e){uu=Af=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function GI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,E0(t,n)}}var Pf={readContext:rr,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},q4={readContext:rr,useCallback:function(t,e){return kr().memoizedState=[t,e===void 0?null:e],t},useContext:rr,useEffect:T1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Hd(4194308,4,VI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hd(4,2,t,e)},useMemo:function(t,e){var n=kr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=kr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=K4.bind(null,Je,t),[r.memoizedState,t]},useRef:function(t){var e=kr();return t={current:t},e.memoizedState=t},useState:P1,useDebugValue:K0,useDeferredValue:function(t){return kr().memoizedState=t},useTransition:function(){var t=P1(!1),e=t[0];return t=H4.bind(null,t[1]),kr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Je,i=kr();if(Ge){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),It===null)throw Error(X(349));pa&30||NI(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,T1(jI.bind(null,r,s,t),[t]),r.flags|=2048,Lu(9,OI.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=kr(),e=It.identifierPrefix;if(Ge){var n=oi,r=ai;n=(r&~(1<<32-_r(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Du++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=W4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Y4={readContext:rr,useCallback:BI,useContext:rr,useEffect:H0,useImperativeHandle:FI,useInsertionEffect:LI,useLayoutEffect:$I,useMemo:UI,useReducer:rg,useRef:MI,useState:function(){return rg(Mu)},useDebugValue:K0,useDeferredValue:function(t){var e=ir();return zI(e,gt.memoizedState,t)},useTransition:function(){var t=rg(Mu)[0],e=ir().memoizedState;return[t,e]},useMutableSource:kI,useSyncExternalStore:CI,useId:WI,unstable_isNewReconciler:!1},Q4={readContext:rr,useCallback:BI,useContext:rr,useEffect:H0,useImperativeHandle:FI,useInsertionEffect:LI,useLayoutEffect:$I,useMemo:UI,useReducer:ig,useRef:MI,useState:function(){return ig(Mu)},useDebugValue:K0,useDeferredValue:function(t){var e=ir();return gt===null?e.memoizedState=t:zI(e,gt.memoizedState,t)},useTransition:function(){var t=ig(Mu)[0],e=ir().memoizedState;return[t,e]},useMutableSource:kI,useSyncExternalStore:CI,useId:WI,unstable_isNewReconciler:!1};function fr(t,e){if(t&&t.defaultProps){e=Ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Pv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Uh={isMounted:function(t){return(t=t._reactInternals)?Ca(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=an(),i=os(t),s=fi(r,i);s.payload=e,n!=null&&(s.callback=n),e=ss(t,s,i),e!==null&&(br(e,t,i,r),zd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=an(),i=os(t),s=fi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ss(t,s,i),e!==null&&(br(e,t,i,r),zd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=an(),r=os(t),i=fi(n,r);i.tag=2,e!=null&&(i.callback=e),e=ss(t,i,r),e!==null&&(br(e,t,r,n),zd(e,t,r))}};function I1(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!ku(n,r)||!ku(i,s):!0}function qI(t,e,n){var r=!1,i=ws,s=e.contextType;return typeof s=="object"&&s!==null?s=rr(s):(i=yn(e)?ha:en.current,r=e.contextTypes,s=(r=r!=null)?ko(t,i):ws),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Uh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function k1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Uh.enqueueReplaceState(e,e.state,null)}function Tv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},$0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=rr(s):(s=yn(e)?ha:en.current,i.context=ko(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Pv(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Uh.enqueueReplaceState(i,i.state,null),Ef(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function jo(t,e){try{var n="",r=e;do n+=SL(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function sg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Iv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var X4=typeof WeakMap=="function"?WeakMap:Map;function YI(t,e,n){n=fi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){If||(If=!0,$v=r),Iv(t,e)},n}function QI(t,e,n){n=fi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Iv(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Iv(t,e),typeof r!="function"&&(as===null?as=new Set([this]):as.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function C1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new X4;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=d$.bind(null,t,e,n),e.then(t,t))}function N1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function O1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=fi(-1,1),e.tag=2,ss(n,e,1))),n.lanes|=1),t)}var J4=Ci.ReactCurrentOwner,pn=!1;function rn(t,e,n,r){e.child=t===null?AI(e,null,n,r):No(e,t.child,n,r)}function j1(t,e,n,r,i){n=n.render;var s=e.ref;return yo(e,i),r=z0(t,e,n,r,s,i),n=W0(),t!==null&&!pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xi(t,e,i)):(Ge&&n&&N0(e),e.flags|=1,rn(t,e,r,i),e.child)}function R1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!ew(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,XI(t,e,s,r,i)):(t=Yd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:ku,n(a,r)&&t.ref===e.ref)return xi(t,e,i)}return e.flags|=1,t=ls(s,r),t.ref=e.ref,t.return=e,e.child=t}function XI(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ku(s,r)&&t.ref===e.ref)if(pn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(pn=!0);else return e.lanes=t.lanes,xi(t,e,i)}return kv(t,e,n,r,i)}function JI(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(uo,Pn),Pn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(uo,Pn),Pn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Be(uo,Pn),Pn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Be(uo,Pn),Pn|=r;return rn(t,e,i,n),e.child}function ZI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function kv(t,e,n,r,i){var s=yn(n)?ha:en.current;return s=ko(e,s),yo(e,i),n=z0(t,e,n,r,s,i),r=W0(),t!==null&&!pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xi(t,e,i)):(Ge&&r&&N0(e),e.flags|=1,rn(t,e,n,i),e.child)}function D1(t,e,n,r,i){if(yn(n)){var s=!0;yf(e)}else s=!1;if(yo(e,i),e.stateNode===null)Kd(t,e),qI(e,n,r),Tv(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=rr(u):(u=yn(n)?ha:en.current,u=ko(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&k1(e,a,r,u),Hi=!1;var h=e.memoizedState;a.state=h,Ef(e,r,a,i),l=e.memoizedState,o!==r||h!==l||vn.current||Hi?(typeof c=="function"&&(Pv(e,n,c,r),l=e.memoizedState),(o=Hi||I1(e,n,o,r,h,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,TI(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:fr(e.type,o),a.props=u,d=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=rr(l):(l=yn(n)?ha:en.current,l=ko(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||h!==l)&&k1(e,a,r,l),Hi=!1,h=e.memoizedState,a.state=h,Ef(e,r,a,i);var g=e.memoizedState;o!==d||h!==g||vn.current||Hi?(typeof p=="function"&&(Pv(e,n,p,r),g=e.memoizedState),(u=Hi||I1(e,n,u,r,h,g,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Cv(t,e,n,r,s,i)}function Cv(t,e,n,r,i,s){ZI(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&x1(e,n,!1),xi(t,e,s);r=e.stateNode,J4.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=No(e,t.child,null,s),e.child=No(e,null,o,s)):rn(t,e,o,s),e.memoizedState=r.state,i&&x1(e,n,!0),e.child}function ek(t){var e=t.stateNode;e.pendingContext?w1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&w1(t,e.context,!1),V0(t,e.containerInfo)}function M1(t,e,n,r,i){return Co(),j0(i),e.flags|=256,rn(t,e,n,r),e.child}var Nv={dehydrated:null,treeContext:null,retryLane:0};function Ov(t){return{baseLanes:t,cachePool:null,transitions:null}}function tk(t,e,n){var r=e.pendingProps,i=Qe.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Be(Qe,i&1),t===null)return Sv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Hh(a,r,0,null),t=oa(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ov(n),e.memoizedState=Nv,t):G0(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Z4(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ls(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=ls(o,s):(s=oa(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?Ov(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=Nv,r}return s=t.child,t=s.sibling,r=ls(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function G0(t,e){return e=Hh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fd(t,e,n,r){return r!==null&&j0(r),No(e,t.child,null,n),t=G0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Z4(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=sg(Error(X(422))),fd(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Hh({mode:"visible",children:r.children},i,0,null),s=oa(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&No(e,t.child,null,a),e.child.memoizedState=Ov(a),e.memoizedState=Nv,s);if(!(e.mode&1))return fd(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(X(419)),r=sg(s,r,void 0),fd(t,e,a,r)}if(o=(a&t.childLanes)!==0,pn||o){if(r=It,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,wi(t,i),br(r,t,i,-1))}return Z0(),r=sg(Error(X(421))),fd(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=f$.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Cn=is(i.nextSibling),Nn=e,Ge=!0,mr=null,t!==null&&(Kn[Gn++]=ai,Kn[Gn++]=oi,Kn[Gn++]=ma,ai=t.id,oi=t.overflow,ma=e),e=G0(e,r.children),e.flags|=4096,e)}function L1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Av(t.return,e,n)}function ag(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function nk(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(rn(t,e,r.children,n),r=Qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&L1(t,n,e);else if(t.tag===19)L1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Be(Qe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Sf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ag(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Sf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ag(e,!0,n,null,s);break;case"together":ag(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Kd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ga|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=ls(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ls(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function e$(t,e,n){switch(e.tag){case 3:ek(e),Co();break;case 5:II(e);break;case 1:yn(e.type)&&yf(e);break;case 4:V0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Be(_f,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Be(Qe,Qe.current&1),e.flags|=128,null):n&e.child.childLanes?tk(t,e,n):(Be(Qe,Qe.current&1),t=xi(t,e,n),t!==null?t.sibling:null);Be(Qe,Qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return nk(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Be(Qe,Qe.current),r)break;return null;case 22:case 23:return e.lanes=0,JI(t,e,n)}return xi(t,e,n)}var rk,jv,ik,sk;rk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jv=function(){};ik=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Xs(Dr.current);var s=null;switch(n){case"input":i=tv(t,i),r=tv(t,r),s=[];break;case"select":i=Ze({},i,{value:void 0}),r=Ze({},r,{value:void 0}),s=[];break;case"textarea":i=iv(t,i),r=iv(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=gf)}av(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bu.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(bu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ze("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};sk=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ml(t,e){if(!Ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function t$(t,e,n){var r=e.pendingProps;switch(O0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(e),null;case 1:return yn(e.type)&&vf(),Gt(e),null;case 3:return r=e.stateNode,Oo(),Ke(vn),Ke(en),B0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(cd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,mr!==null&&(Bv(mr),mr=null))),jv(t,e),Gt(e),null;case 5:F0(e);var i=Xs(Ru.current);if(n=e.type,t!==null&&e.stateNode!=null)ik(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(X(166));return Gt(e),null}if(t=Xs(Dr.current),cd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Nr]=e,r[Ou]=s,t=(e.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(i=0;i<Yl.length;i++)ze(Yl[i],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":Kb(r,s),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ze("invalid",r);break;case"textarea":qb(r,s),ze("invalid",r)}av(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&ud(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&ud(r.textContent,o,t),i=["children",""+o]):bu.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ze("scroll",r)}switch(n){case"input":td(r),Gb(r,s,!0);break;case"textarea":td(r),Yb(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=gf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Nr]=e,t[Ou]=r,rk(t,e,!1,!1),e.stateNode=t;e:{switch(a=ov(n,r),n){case"dialog":ze("cancel",t),ze("close",t),i=r;break;case"iframe":case"object":case"embed":ze("load",t),i=r;break;case"video":case"audio":for(i=0;i<Yl.length;i++)ze(Yl[i],t);i=r;break;case"source":ze("error",t),i=r;break;case"img":case"image":case"link":ze("error",t),ze("load",t),i=r;break;case"details":ze("toggle",t),i=r;break;case"input":Kb(t,r),i=tv(t,r),ze("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ze({},r,{value:void 0}),ze("invalid",t);break;case"textarea":qb(t,r),i=iv(t,r),ze("invalid",t);break;default:i=r}av(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?MT(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&RT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Eu(t,l):typeof l=="number"&&Eu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(bu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ze("scroll",t):l!=null&&v0(t,s,l,a))}switch(n){case"input":td(t),Gb(t,r,!1);break;case"textarea":td(t),Yb(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ys(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?mo(t,!!r.multiple,s,!1):r.defaultValue!=null&&mo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=gf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gt(e),null;case 6:if(t&&e.stateNode!=null)sk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(X(166));if(n=Xs(Ru.current),Xs(Dr.current),cd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Nr]=e,(s=r.nodeValue!==n)&&(t=Nn,t!==null))switch(t.tag){case 3:ud(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ud(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nr]=e,e.stateNode=r}return Gt(e),null;case 13:if(Ke(Qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&Cn!==null&&e.mode&1&&!(e.flags&128))EI(),Co(),e.flags|=98560,s=!1;else if(s=cd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(X(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(X(317));s[Nr]=e}else Co(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gt(e),s=!1}else mr!==null&&(Bv(mr),mr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Qe.current&1?yt===0&&(yt=3):Z0())),e.updateQueue!==null&&(e.flags|=4),Gt(e),null);case 4:return Oo(),jv(t,e),t===null&&Cu(e.stateNode.containerInfo),Gt(e),null;case 10:return M0(e.type._context),Gt(e),null;case 17:return yn(e.type)&&vf(),Gt(e),null;case 19:if(Ke(Qe),s=e.memoizedState,s===null)return Gt(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Ml(s,!1);else{if(yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Sf(t),a!==null){for(e.flags|=128,Ml(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(Qe,Qe.current&1|2),e.child}t=t.sibling}s.tail!==null&&at()>Ro&&(e.flags|=128,r=!0,Ml(s,!1),e.lanes=4194304)}else{if(!r)if(t=Sf(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ml(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Ge)return Gt(e),null}else 2*at()-s.renderingStartTime>Ro&&n!==1073741824&&(e.flags|=128,r=!0,Ml(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=at(),e.sibling=null,n=Qe.current,Be(Qe,r?n&1|2:n&1),e):(Gt(e),null);case 22:case 23:return J0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Pn&1073741824&&(Gt(e),e.subtreeFlags&6&&(e.flags|=8192)):Gt(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function n$(t,e){switch(O0(e),e.tag){case 1:return yn(e.type)&&vf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Oo(),Ke(vn),Ke(en),B0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return F0(e),null;case 13:if(Ke(Qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));Co()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(Qe),null;case 4:return Oo(),null;case 10:return M0(e.type._context),null;case 22:case 23:return J0(),null;case 24:return null;default:return null}}var hd=!1,Xt=!1,r$=typeof WeakSet=="function"?WeakSet:Set,se=null;function lo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){it(t,e,r)}else n.current=null}function Rv(t,e,n){try{n()}catch(r){it(t,e,r)}}var $1=!1;function i$(t,e){if(vv=hf,t=cI(),C0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(o=a+i),d!==s||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++u===i&&(o=a),h===s&&++c===r&&(l=a),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(yv={focusedElem:t,selectionRange:n},hf=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,b=g.memoizedState,w=e.stateNode,x=w.getSnapshotBeforeUpdate(e.elementType===e.type?y:fr(e.type,y),b);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(P){it(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return g=$1,$1=!1,g}function cu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Rv(e,n,s)}i=i.next}while(i!==r)}}function zh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Dv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ak(t){var e=t.alternate;e!==null&&(t.alternate=null,ak(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Nr],delete e[Ou],delete e[_v],delete e[F4],delete e[B4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ok(t){return t.tag===5||t.tag===3||t.tag===4}function V1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ok(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=gf));else if(r!==4&&(t=t.child,t!==null))for(Mv(t,e,n),t=t.sibling;t!==null;)Mv(t,e,n),t=t.sibling}function Lv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Lv(t,e,n),t=t.sibling;t!==null;)Lv(t,e,n),t=t.sibling}var jt=null,hr=!1;function Fi(t,e,n){for(n=n.child;n!==null;)lk(t,e,n),n=n.sibling}function lk(t,e,n){if(Rr&&typeof Rr.onCommitFiberUnmount=="function")try{Rr.onCommitFiberUnmount(Dh,n)}catch{}switch(n.tag){case 5:Xt||lo(n,e);case 6:var r=jt,i=hr;jt=null,Fi(t,e,n),jt=r,hr=i,jt!==null&&(hr?(t=jt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):jt.removeChild(n.stateNode));break;case 18:jt!==null&&(hr?(t=jt,n=n.stateNode,t.nodeType===8?Zp(t.parentNode,n):t.nodeType===1&&Zp(t,n),Tu(t)):Zp(jt,n.stateNode));break;case 4:r=jt,i=hr,jt=n.stateNode.containerInfo,hr=!0,Fi(t,e,n),jt=r,hr=i;break;case 0:case 11:case 14:case 15:if(!Xt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Rv(n,e,a),i=i.next}while(i!==r)}Fi(t,e,n);break;case 1:if(!Xt&&(lo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){it(n,e,o)}Fi(t,e,n);break;case 21:Fi(t,e,n);break;case 22:n.mode&1?(Xt=(r=Xt)||n.memoizedState!==null,Fi(t,e,n),Xt=r):Fi(t,e,n);break;default:Fi(t,e,n)}}function F1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new r$),e.forEach(function(r){var i=h$.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function dr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:jt=o.stateNode,hr=!1;break e;case 3:jt=o.stateNode.containerInfo,hr=!0;break e;case 4:jt=o.stateNode.containerInfo,hr=!0;break e}o=o.return}if(jt===null)throw Error(X(160));lk(s,a,i),jt=null,hr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){it(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)uk(e,t),e=e.sibling}function uk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(dr(e,t),Ir(t),r&4){try{cu(3,t,t.return),zh(3,t)}catch(y){it(t,t.return,y)}try{cu(5,t,t.return)}catch(y){it(t,t.return,y)}}break;case 1:dr(e,t),Ir(t),r&512&&n!==null&&lo(n,n.return);break;case 5:if(dr(e,t),Ir(t),r&512&&n!==null&&lo(n,n.return),t.flags&32){var i=t.stateNode;try{Eu(i,"")}catch(y){it(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&NT(i,s),ov(o,a);var u=ov(o,s);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?MT(i,d):c==="dangerouslySetInnerHTML"?RT(i,d):c==="children"?Eu(i,d):v0(i,c,d,u)}switch(o){case"input":nv(i,s);break;case"textarea":OT(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?mo(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?mo(i,!!s.multiple,s.defaultValue,!0):mo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ou]=s}catch(y){it(t,t.return,y)}}break;case 6:if(dr(e,t),Ir(t),r&4){if(t.stateNode===null)throw Error(X(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){it(t,t.return,y)}}break;case 3:if(dr(e,t),Ir(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Tu(e.containerInfo)}catch(y){it(t,t.return,y)}break;case 4:dr(e,t),Ir(t);break;case 13:dr(e,t),Ir(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Q0=at())),r&4&&F1(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Xt=(u=Xt)||c,dr(e,t),Xt=u):dr(e,t),Ir(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(se=t,c=t.child;c!==null;){for(d=se=c;se!==null;){switch(h=se,p=h.child,h.tag){case 0:case 11:case 14:case 15:cu(4,h,h.return);break;case 1:lo(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){it(r,n,y)}}break;case 5:lo(h,h.return);break;case 22:if(h.memoizedState!==null){U1(d);continue}}p!==null?(p.return=h,se=p):U1(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=DT("display",a))}catch(y){it(t,t.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){it(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:dr(e,t),Ir(t),r&4&&F1(t);break;case 21:break;default:dr(e,t),Ir(t)}}function Ir(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ok(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Eu(i,""),r.flags&=-33);var s=V1(t);Lv(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=V1(t);Mv(t,o,a);break;default:throw Error(X(161))}}catch(l){it(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function s$(t,e,n){se=t,ck(t)}function ck(t,e,n){for(var r=(t.mode&1)!==0;se!==null;){var i=se,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||hd;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Xt;o=hd;var u=Xt;if(hd=a,(Xt=l)&&!u)for(se=i;se!==null;)a=se,l=a.child,a.tag===22&&a.memoizedState!==null?z1(i):l!==null?(l.return=a,se=l):z1(i);for(;s!==null;)se=s,ck(s),s=s.sibling;se=i,hd=o,Xt=u}B1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,se=s):B1(t)}}function B1(t){for(;se!==null;){var e=se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xt||zh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Xt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:fr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&A1(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}A1(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Tu(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}Xt||e.flags&512&&Dv(e)}catch(h){it(e,e.return,h)}}if(e===t){se=null;break}if(n=e.sibling,n!==null){n.return=e.return,se=n;break}se=e.return}}function U1(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,se=n;break}se=e.return}}function z1(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{zh(4,e)}catch(l){it(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){it(e,i,l)}}var s=e.return;try{Dv(e)}catch(l){it(e,s,l)}break;case 5:var a=e.return;try{Dv(e)}catch(l){it(e,a,l)}}}catch(l){it(e,e.return,l)}if(e===t){se=null;break}var o=e.sibling;if(o!==null){o.return=e.return,se=o;break}se=e.return}}var a$=Math.ceil,Tf=Ci.ReactCurrentDispatcher,q0=Ci.ReactCurrentOwner,nr=Ci.ReactCurrentBatchConfig,Pe=0,It=null,dt=null,$t=0,Pn=0,uo=Is(0),yt=0,$u=null,ga=0,Wh=0,Y0=0,du=null,mn=null,Q0=0,Ro=1/0,Zr=null,If=!1,$v=null,as=null,md=!1,Zi=null,kf=0,fu=0,Vv=null,Gd=-1,qd=0;function an(){return Pe&6?at():Gd!==-1?Gd:Gd=at()}function os(t){return t.mode&1?Pe&2&&$t!==0?$t&-$t:z4.transition!==null?(qd===0&&(qd=qT()),qd):(t=Oe,t!==0||(t=window.event,t=t===void 0?16:tI(t.type)),t):1}function br(t,e,n,r){if(50<fu)throw fu=0,Vv=null,Error(X(185));uc(t,n,r),(!(Pe&2)||t!==It)&&(t===It&&(!(Pe&2)&&(Wh|=n),yt===4&&qi(t,$t)),wn(t,r),n===1&&Pe===0&&!(e.mode&1)&&(Ro=at()+500,Fh&&ks()))}function wn(t,e){var n=t.callbackNode;zL(t,e);var r=ff(t,t===It?$t:0);if(r===0)n!==null&&Jb(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Jb(n),e===1)t.tag===0?U4(W1.bind(null,t)):xI(W1.bind(null,t)),$4(function(){!(Pe&6)&&ks()}),n=null;else{switch(YT(r)){case 1:n=b0;break;case 4:n=KT;break;case 16:n=df;break;case 536870912:n=GT;break;default:n=df}n=yk(n,dk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function dk(t,e){if(Gd=-1,qd=0,Pe&6)throw Error(X(327));var n=t.callbackNode;if(wo()&&t.callbackNode!==n)return null;var r=ff(t,t===It?$t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Cf(t,r);else{e=r;var i=Pe;Pe|=2;var s=hk();(It!==t||$t!==e)&&(Zr=null,Ro=at()+500,aa(t,e));do try{u$();break}catch(o){fk(t,o)}while(!0);D0(),Tf.current=s,Pe=i,dt!==null?e=0:(It=null,$t=0,e=yt)}if(e!==0){if(e===2&&(i=fv(t),i!==0&&(r=i,e=Fv(t,i))),e===1)throw n=$u,aa(t,0),qi(t,r),wn(t,at()),n;if(e===6)qi(t,r);else{if(i=t.current.alternate,!(r&30)&&!o$(i)&&(e=Cf(t,r),e===2&&(s=fv(t),s!==0&&(r=s,e=Fv(t,s))),e===1))throw n=$u,aa(t,0),qi(t,r),wn(t,at()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(X(345));case 2:zs(t,mn,Zr);break;case 3:if(qi(t,r),(r&130023424)===r&&(e=Q0+500-at(),10<e)){if(ff(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){an(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=xv(zs.bind(null,t,mn,Zr),e);break}zs(t,mn,Zr);break;case 4:if(qi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-_r(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=at()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*a$(r/1960))-r,10<r){t.timeoutHandle=xv(zs.bind(null,t,mn,Zr),r);break}zs(t,mn,Zr);break;case 5:zs(t,mn,Zr);break;default:throw Error(X(329))}}}return wn(t,at()),t.callbackNode===n?dk.bind(null,t):null}function Fv(t,e){var n=du;return t.current.memoizedState.isDehydrated&&(aa(t,e).flags|=256),t=Cf(t,e),t!==2&&(e=mn,mn=n,e!==null&&Bv(e)),t}function Bv(t){mn===null?mn=t:mn.push.apply(mn,t)}function o$(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Sr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qi(t,e){for(e&=~Y0,e&=~Wh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_r(e),r=1<<n;t[n]=-1,e&=~r}}function W1(t){if(Pe&6)throw Error(X(327));wo();var e=ff(t,0);if(!(e&1))return wn(t,at()),null;var n=Cf(t,e);if(t.tag!==0&&n===2){var r=fv(t);r!==0&&(e=r,n=Fv(t,r))}if(n===1)throw n=$u,aa(t,0),qi(t,e),wn(t,at()),n;if(n===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zs(t,mn,Zr),wn(t,at()),null}function X0(t,e){var n=Pe;Pe|=1;try{return t(e)}finally{Pe=n,Pe===0&&(Ro=at()+500,Fh&&ks())}}function va(t){Zi!==null&&Zi.tag===0&&!(Pe&6)&&wo();var e=Pe;Pe|=1;var n=nr.transition,r=Oe;try{if(nr.transition=null,Oe=1,t)return t()}finally{Oe=r,nr.transition=n,Pe=e,!(Pe&6)&&ks()}}function J0(){Pn=uo.current,Ke(uo)}function aa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,L4(n)),dt!==null)for(n=dt.return;n!==null;){var r=n;switch(O0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vf();break;case 3:Oo(),Ke(vn),Ke(en),B0();break;case 5:F0(r);break;case 4:Oo();break;case 13:Ke(Qe);break;case 19:Ke(Qe);break;case 10:M0(r.type._context);break;case 22:case 23:J0()}n=n.return}if(It=t,dt=t=ls(t.current,null),$t=Pn=e,yt=0,$u=null,Y0=Wh=ga=0,mn=du=null,Qs!==null){for(e=0;e<Qs.length;e++)if(n=Qs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Qs=null}return t}function fk(t,e){do{var n=dt;try{if(D0(),Wd.current=Pf,Af){for(var r=Je.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Af=!1}if(pa=0,Tt=gt=Je=null,uu=!1,Du=0,q0.current=null,n===null||n.return===null){yt=1,$u=e,dt=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=$t,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=N1(a);if(p!==null){p.flags&=-257,O1(p,a,o,s,e),p.mode&1&&C1(s,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){C1(s,u,e),Z0();break e}l=Error(X(426))}}else if(Ge&&o.mode&1){var b=N1(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),O1(b,a,o,s,e),j0(jo(l,o));break e}}s=l=jo(l,o),yt!==4&&(yt=2),du===null?du=[s]:du.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=YI(s,l,e);S1(s,w);break e;case 1:o=l;var x=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(as===null||!as.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=QI(s,o,e);S1(s,P);break e}}s=s.return}while(s!==null)}pk(n)}catch(N){e=N,dt===n&&n!==null&&(dt=n=n.return);continue}break}while(!0)}function hk(){var t=Tf.current;return Tf.current=Pf,t===null?Pf:t}function Z0(){(yt===0||yt===3||yt===2)&&(yt=4),It===null||!(ga&268435455)&&!(Wh&268435455)||qi(It,$t)}function Cf(t,e){var n=Pe;Pe|=2;var r=hk();(It!==t||$t!==e)&&(Zr=null,aa(t,e));do try{l$();break}catch(i){fk(t,i)}while(!0);if(D0(),Pe=n,Tf.current=r,dt!==null)throw Error(X(261));return It=null,$t=0,yt}function l$(){for(;dt!==null;)mk(dt)}function u$(){for(;dt!==null&&!RL();)mk(dt)}function mk(t){var e=vk(t.alternate,t,Pn);t.memoizedProps=t.pendingProps,e===null?pk(t):dt=e,q0.current=null}function pk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=n$(n,e),n!==null){n.flags&=32767,dt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yt=6,dt=null;return}}else if(n=t$(n,e,Pn),n!==null){dt=n;return}if(e=e.sibling,e!==null){dt=e;return}dt=e=t}while(e!==null);yt===0&&(yt=5)}function zs(t,e,n){var r=Oe,i=nr.transition;try{nr.transition=null,Oe=1,c$(t,e,n,r)}finally{nr.transition=i,Oe=r}return null}function c$(t,e,n,r){do wo();while(Zi!==null);if(Pe&6)throw Error(X(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(WL(t,s),t===It&&(dt=It=null,$t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||md||(md=!0,yk(df,function(){return wo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=nr.transition,nr.transition=null;var a=Oe;Oe=1;var o=Pe;Pe|=4,q0.current=null,i$(t,n),uk(n,t),C4(yv),hf=!!vv,yv=vv=null,t.current=n,s$(n),DL(),Pe=o,Oe=a,nr.transition=s}else t.current=n;if(md&&(md=!1,Zi=t,kf=i),s=t.pendingLanes,s===0&&(as=null),$L(n.stateNode),wn(t,at()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(If)throw If=!1,t=$v,$v=null,t;return kf&1&&t.tag!==0&&wo(),s=t.pendingLanes,s&1?t===Vv?fu++:(fu=0,Vv=t):fu=0,ks(),null}function wo(){if(Zi!==null){var t=YT(kf),e=nr.transition,n=Oe;try{if(nr.transition=null,Oe=16>t?16:t,Zi===null)var r=!1;else{if(t=Zi,Zi=null,kf=0,Pe&6)throw Error(X(331));var i=Pe;for(Pe|=4,se=t.current;se!==null;){var s=se,a=s.child;if(se.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(se=u;se!==null;){var c=se;switch(c.tag){case 0:case 11:case 15:cu(8,c,s)}var d=c.child;if(d!==null)d.return=c,se=d;else for(;se!==null;){c=se;var h=c.sibling,p=c.return;if(ak(c),c===u){se=null;break}if(h!==null){h.return=p,se=h;break}se=p}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}se=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,se=a;else e:for(;se!==null;){if(s=se,s.flags&2048)switch(s.tag){case 0:case 11:case 15:cu(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,se=w;break e}se=s.return}}var x=t.current;for(se=x;se!==null;){a=se;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,se=_;else e:for(a=x;se!==null;){if(o=se,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:zh(9,o)}}catch(N){it(o,o.return,N)}if(o===a){se=null;break e}var P=o.sibling;if(P!==null){P.return=o.return,se=P;break e}se=o.return}}if(Pe=i,ks(),Rr&&typeof Rr.onPostCommitFiberRoot=="function")try{Rr.onPostCommitFiberRoot(Dh,t)}catch{}r=!0}return r}finally{Oe=n,nr.transition=e}}return!1}function H1(t,e,n){e=jo(n,e),e=YI(t,e,1),t=ss(t,e,1),e=an(),t!==null&&(uc(t,1,e),wn(t,e))}function it(t,e,n){if(t.tag===3)H1(t,t,n);else for(;e!==null;){if(e.tag===3){H1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(as===null||!as.has(r))){t=jo(n,t),t=QI(e,t,1),e=ss(e,t,1),t=an(),e!==null&&(uc(e,1,t),wn(e,t));break}}e=e.return}}function d$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=an(),t.pingedLanes|=t.suspendedLanes&n,It===t&&($t&n)===n&&(yt===4||yt===3&&($t&130023424)===$t&&500>at()-Q0?aa(t,0):Y0|=n),wn(t,e)}function gk(t,e){e===0&&(t.mode&1?(e=id,id<<=1,!(id&130023424)&&(id=4194304)):e=1);var n=an();t=wi(t,e),t!==null&&(uc(t,e,n),wn(t,n))}function f$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),gk(t,n)}function h$(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(e),gk(t,n)}var vk;vk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||vn.current)pn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return pn=!1,e$(t,e,n);pn=!!(t.flags&131072)}else pn=!1,Ge&&e.flags&1048576&&_I(e,xf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Kd(t,e),t=e.pendingProps;var i=ko(e,en.current);yo(e,n),i=z0(null,e,r,t,i,n);var s=W0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yn(r)?(s=!0,yf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$0(e),i.updater=Uh,e.stateNode=i,i._reactInternals=e,Tv(e,r,t,n),e=Cv(null,e,r,!0,s,n)):(e.tag=0,Ge&&s&&N0(e),rn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Kd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=p$(r),t=fr(r,t),i){case 0:e=kv(null,e,r,t,n);break e;case 1:e=D1(null,e,r,t,n);break e;case 11:e=j1(null,e,r,t,n);break e;case 14:e=R1(null,e,r,fr(r.type,t),n);break e}throw Error(X(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fr(r,i),kv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fr(r,i),D1(t,e,r,i,n);case 3:e:{if(ek(e),t===null)throw Error(X(387));r=e.pendingProps,s=e.memoizedState,i=s.element,TI(t,e),Ef(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=jo(Error(X(423)),e),e=M1(t,e,r,n,i);break e}else if(r!==i){i=jo(Error(X(424)),e),e=M1(t,e,r,n,i);break e}else for(Cn=is(e.stateNode.containerInfo.firstChild),Nn=e,Ge=!0,mr=null,n=AI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Co(),r===i){e=xi(t,e,n);break e}rn(t,e,r,n)}e=e.child}return e;case 5:return II(e),t===null&&Sv(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,wv(r,i)?a=null:s!==null&&wv(r,s)&&(e.flags|=32),ZI(t,e),rn(t,e,a,n),e.child;case 6:return t===null&&Sv(e),null;case 13:return tk(t,e,n);case 4:return V0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=No(e,null,r,n):rn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fr(r,i),j1(t,e,r,i,n);case 7:return rn(t,e,e.pendingProps,n),e.child;case 8:return rn(t,e,e.pendingProps.children,n),e.child;case 12:return rn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Be(_f,r._currentValue),r._currentValue=a,s!==null)if(Sr(s.value,a)){if(s.children===i.children&&!vn.current){e=xi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=fi(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Av(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(X(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Av(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}rn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,yo(e,n),i=rr(i),r=r(i),e.flags|=1,rn(t,e,r,n),e.child;case 14:return r=e.type,i=fr(r,e.pendingProps),i=fr(r.type,i),R1(t,e,r,i,n);case 15:return XI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fr(r,i),Kd(t,e),e.tag=1,yn(r)?(t=!0,yf(e)):t=!1,yo(e,n),qI(e,r,i),Tv(e,r,i,n),Cv(null,e,r,!0,t,n);case 19:return nk(t,e,n);case 22:return JI(t,e,n)}throw Error(X(156,e.tag))};function yk(t,e){return HT(t,e)}function m$(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(t,e,n,r){return new m$(t,e,n,r)}function ew(t){return t=t.prototype,!(!t||!t.isReactComponent)}function p$(t){if(typeof t=="function")return ew(t)?1:0;if(t!=null){if(t=t.$$typeof,t===w0)return 11;if(t===x0)return 14}return 2}function ls(t,e){var n=t.alternate;return n===null?(n=Zn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Yd(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")ew(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Za:return oa(n.children,i,s,e);case y0:a=8,i|=8;break;case Xg:return t=Zn(12,n,e,i|2),t.elementType=Xg,t.lanes=s,t;case Jg:return t=Zn(13,n,e,i),t.elementType=Jg,t.lanes=s,t;case Zg:return t=Zn(19,n,e,i),t.elementType=Zg,t.lanes=s,t;case IT:return Hh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case PT:a=10;break e;case TT:a=9;break e;case w0:a=11;break e;case x0:a=14;break e;case Wi:a=16,r=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=Zn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function oa(t,e,n,r){return t=Zn(7,t,r,e),t.lanes=n,t}function Hh(t,e,n,r){return t=Zn(22,t,r,e),t.elementType=IT,t.lanes=n,t.stateNode={isHidden:!1},t}function og(t,e,n){return t=Zn(6,t,null,e),t.lanes=n,t}function lg(t,e,n){return e=Zn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function g$(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Up(0),this.expirationTimes=Up(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Up(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function tw(t,e,n,r,i,s,a,o,l){return t=new g$(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Zn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$0(s),t}function v$(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ja,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function wk(t){if(!t)return ws;t=t._reactInternals;e:{if(Ca(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var n=t.type;if(yn(n))return wI(t,n,e)}return e}function xk(t,e,n,r,i,s,a,o,l){return t=tw(n,r,!0,t,i,s,a,o,l),t.context=wk(null),n=t.current,r=an(),i=os(n),s=fi(r,i),s.callback=e??null,ss(n,s,i),t.current.lanes=i,uc(t,i,r),wn(t,r),t}function Kh(t,e,n,r){var i=e.current,s=an(),a=os(i);return n=wk(n),e.context===null?e.context=n:e.pendingContext=n,e=fi(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ss(i,e,a),t!==null&&(br(t,i,a,s),zd(t,i,a)),a}function Nf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function K1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function nw(t,e){K1(t,e),(t=t.alternate)&&K1(t,e)}function y$(){return null}var _k=typeof reportError=="function"?reportError:function(t){console.error(t)};function rw(t){this._internalRoot=t}Gh.prototype.render=rw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));Kh(t,e,null,null)};Gh.prototype.unmount=rw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;va(function(){Kh(null,t,null,null)}),e[yi]=null}};function Gh(t){this._internalRoot=t}Gh.prototype.unstable_scheduleHydration=function(t){if(t){var e=JT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Gi.length&&e!==0&&e<Gi[n].priority;n++);Gi.splice(n,0,t),n===0&&eI(t)}};function iw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function G1(){}function w$(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Nf(a);s.call(u)}}var a=xk(e,r,t,0,null,!1,!1,"",G1);return t._reactRootContainer=a,t[yi]=a.current,Cu(t.nodeType===8?t.parentNode:t),va(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=Nf(l);o.call(u)}}var l=tw(t,0,!1,null,null,!1,!1,"",G1);return t._reactRootContainer=l,t[yi]=l.current,Cu(t.nodeType===8?t.parentNode:t),va(function(){Kh(e,l,n,r)}),l}function Yh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=Nf(a);o.call(l)}}Kh(e,a,t,i)}else a=w$(n,e,t,i,r);return Nf(a)}QT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ql(e.pendingLanes);n!==0&&(E0(e,n|1),wn(e,at()),!(Pe&6)&&(Ro=at()+500,ks()))}break;case 13:va(function(){var r=wi(t,1);if(r!==null){var i=an();br(r,t,1,i)}}),nw(t,1)}};S0=function(t){if(t.tag===13){var e=wi(t,134217728);if(e!==null){var n=an();br(e,t,134217728,n)}nw(t,134217728)}};XT=function(t){if(t.tag===13){var e=os(t),n=wi(t,e);if(n!==null){var r=an();br(n,t,e,r)}nw(t,e)}};JT=function(){return Oe};ZT=function(t,e){var n=Oe;try{return Oe=t,e()}finally{Oe=n}};uv=function(t,e,n){switch(e){case"input":if(nv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Vh(r);if(!i)throw Error(X(90));CT(r),nv(r,i)}}}break;case"textarea":OT(t,n);break;case"select":e=n.value,e!=null&&mo(t,!!n.multiple,e,!1)}};VT=X0;FT=va;var x$={usingClientEntryPoint:!1,Events:[dc,ro,Vh,LT,$T,X0]},Ll={findFiberByHostInstance:Ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_$={bundleType:Ll.bundleType,version:Ll.version,rendererPackageName:Ll.rendererPackageName,rendererConfig:Ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ci.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=zT(t),t===null?null:t.stateNode},findFiberByHostInstance:Ll.findFiberByHostInstance||y$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pd.isDisabled&&pd.supportsFiber)try{Dh=pd.inject(_$),Rr=pd}catch{}}$n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x$;$n.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iw(e))throw Error(X(200));return v$(t,e,null,n)};$n.createRoot=function(t,e){if(!iw(t))throw Error(X(299));var n=!1,r="",i=_k;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=tw(t,1,!1,null,null,n,!1,r,i),t[yi]=e.current,Cu(t.nodeType===8?t.parentNode:t),new rw(e)};$n.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=zT(e),t=t===null?null:t.stateNode,t};$n.flushSync=function(t){return va(t)};$n.hydrate=function(t,e,n){if(!qh(e))throw Error(X(200));return Yh(null,t,e,!0,n)};$n.hydrateRoot=function(t,e,n){if(!iw(t))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=_k;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=xk(e,null,t,1,n??null,i,!1,s,a),t[yi]=e.current,Cu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Gh(e)};$n.render=function(t,e,n){if(!qh(e))throw Error(X(200));return Yh(null,t,e,!1,n)};$n.unmountComponentAtNode=function(t){if(!qh(t))throw Error(X(40));return t._reactRootContainer?(va(function(){Yh(null,null,t,!1,function(){t._reactRootContainer=null,t[yi]=null})}),!0):!1};$n.unstable_batchedUpdates=X0;$n.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!qh(n))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return Yh(t,e,n,!1,r)};$n.version="18.3.1-next-f1338f8080-20240426";function bk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bk)}catch(t){console.error(t)}}bk(),bT.exports=$n;var sw=bT.exports,Ek,q1=sw;Ek=q1.createRoot,q1.hydrateRoot;const b$="modulepreload",E$=function(t){return"/"+t},Y1={},aw=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=E$(l),l in Y1)return;Y1[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":b$,u||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),u)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},S$=()=>{};var Q1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},A$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},Ak={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|o>>4;let h=(o&15)<<2|u>>6,p=u&63;l||(p=64,a||(h=64)),r.push(n[c],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Sk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):A$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||u==null||d==null)throw new P$;const h=s<<2|o>>4;if(r.push(h),u!==64){const p=o<<4&240|u>>2;if(r.push(p),d!==64){const g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class P$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const T$=function(t){const e=Sk(t);return Ak.encodeByteArray(e,!0)},Of=function(t){return T$(t).replace(/\./g,"")},Pk=function(t){try{return Ak.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$=()=>I$().__FIREBASE_DEFAULTS__,C$=()=>{if(typeof process>"u"||typeof Q1>"u")return;const t=Q1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},N$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Pk(t[1]);return e&&JSON.parse(e)},Qh=()=>{try{return S$()||k$()||C$()||N$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Tk=t=>{var e,n;return(n=(e=Qh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},O$=t=>{const e=Tk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ik=()=>{var t;return(t=Qh())==null?void 0:t.config},kk=t=>{var e;return(e=Qh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ck(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Of(JSON.stringify(n)),Of(JSON.stringify(a)),""].join(".")}const hu={};function D$(){const t={prod:[],emulator:[]};for(const e of Object.keys(hu))hu[e]?t.emulator.push(e):t.prod.push(e);return t}function M$(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let X1=!1;function Nk(t,e){if(typeof window>"u"||typeof document>"u"||!tl(window.location.host)||hu[t]===e||hu[t]||X1)return;hu[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",s=D$().prod.length>0;function a(){const h=document.getElementById(r);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{X1=!0,a()},h}function c(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){const h=M$(r),p=n("text"),g=document.getElementById(p)||document.createElement("span"),y=n("learnmore"),b=document.getElementById(y)||document.createElement("a"),w=n("preprendIcon"),x=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const _=h.element;o(_),c(b,y);const P=u();l(x,w),_.append(x,g,b,P),document.body.appendChild(_)}s?(g.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function L$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function $$(){var e;const t=(e=Qh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function V$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function F$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function B$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function U$(){const t=tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function z$(){return!$$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W$(){try{return typeof indexedDB=="object"}catch{return!1}}function H$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K$="FirebaseError";class Ni extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=K$,Object.setPrototypeOf(this,Ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hc.prototype.create)}}class hc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?G$(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Ni(i,o,r)}}function G$(t,e){return t.replace(q$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const q$=/\{\$([^}]+)}/g;function Y$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ya(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(J1(s)&&J1(a)){if(!ya(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function J1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ql(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Xl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Q$(t,e){const n=new X$(t,e);return n.subscribe.bind(n)}class X${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");J$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ug),i.error===void 0&&(i.error=ug),i.complete===void 0&&(i.complete=ug);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function J$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ug(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(t){return t&&t._delegate?t._delegate:t}class wa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Z$=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new j$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(t3(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:e3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function e3(t){return t===Ws?void 0:t}function t3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Z$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const r3={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},i3=_e.INFO,s3={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},a3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=s3[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ow{constructor(e){this.name=e,this._logLevel=i3,this._logHandler=a3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?r3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const o3=(t,e)=>e.some(n=>t instanceof n);let Z1,eE;function l3(){return Z1||(Z1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function u3(){return eE||(eE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ok=new WeakMap,Uv=new WeakMap,jk=new WeakMap,cg=new WeakMap,lw=new WeakMap;function c3(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(us(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Ok.set(n,t)}).catch(()=>{}),lw.set(e,t),e}function d3(t){if(Uv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Uv.set(t,e)}let zv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Uv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return us(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function f3(t){zv=t(zv)}function h3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(dg(this),e,...n);return jk.set(r,e.sort?e.sort():[e]),us(r)}:u3().includes(t)?function(...e){return t.apply(dg(this),e),us(Ok.get(this))}:function(...e){return us(t.apply(dg(this),e))}}function m3(t){return typeof t=="function"?h3(t):(t instanceof IDBTransaction&&d3(t),o3(t,l3())?new Proxy(t,zv):t)}function us(t){if(t instanceof IDBRequest)return c3(t);if(cg.has(t))return cg.get(t);const e=m3(t);return e!==t&&(cg.set(t,e),lw.set(e,t)),e}const dg=t=>lw.get(t);function p3(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=us(a);return r&&a.addEventListener("upgradeneeded",l=>{r(us(a.result),l.oldVersion,l.newVersion,us(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const g3=["get","getKey","getAll","getAllKeys","count"],v3=["put","add","delete","clear"],fg=new Map;function tE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fg.get(e))return fg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=v3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||g3.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),i&&l.done]))[0]};return fg.set(e,s),s}f3(t=>({...t,get:(e,n,r)=>tE(e,n)||t.get(e,n,r),has:(e,n)=>!!tE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(w3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function w3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wv="@firebase/app",nE="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new ow("@firebase/app"),x3="@firebase/app-compat",_3="@firebase/analytics-compat",b3="@firebase/analytics",E3="@firebase/app-check-compat",S3="@firebase/app-check",A3="@firebase/auth",P3="@firebase/auth-compat",T3="@firebase/database",I3="@firebase/data-connect",k3="@firebase/database-compat",C3="@firebase/functions",N3="@firebase/functions-compat",O3="@firebase/installations",j3="@firebase/installations-compat",R3="@firebase/messaging",D3="@firebase/messaging-compat",M3="@firebase/performance",L3="@firebase/performance-compat",$3="@firebase/remote-config",V3="@firebase/remote-config-compat",F3="@firebase/storage",B3="@firebase/storage-compat",U3="@firebase/firestore",z3="@firebase/ai",W3="@firebase/firestore-compat",H3="firebase",K3="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="[DEFAULT]",G3={[Wv]:"fire-core",[x3]:"fire-core-compat",[b3]:"fire-analytics",[_3]:"fire-analytics-compat",[S3]:"fire-app-check",[E3]:"fire-app-check-compat",[A3]:"fire-auth",[P3]:"fire-auth-compat",[T3]:"fire-rtdb",[I3]:"fire-data-connect",[k3]:"fire-rtdb-compat",[C3]:"fire-fn",[N3]:"fire-fn-compat",[O3]:"fire-iid",[j3]:"fire-iid-compat",[R3]:"fire-fcm",[D3]:"fire-fcm-compat",[M3]:"fire-perf",[L3]:"fire-perf-compat",[$3]:"fire-rc",[V3]:"fire-rc-compat",[F3]:"fire-gcs",[B3]:"fire-gcs-compat",[U3]:"fire-fst",[W3]:"fire-fst-compat",[z3]:"fire-vertex","fire-js":"fire-js",[H3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu=new Map,q3=new Map,Kv=new Map;function rE(t,e){try{t.container.addComponent(e)}catch(n){_i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Do(t){const e=t.name;if(Kv.has(e))return _i.debug(`There were multiple attempts to register component ${e}.`),!1;Kv.set(e,t);for(const n of Vu.values())rE(n,t);for(const n of q3.values())rE(n,t);return!0}function uw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Qn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cs=new hc("app","Firebase",Y3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl=K3;function cw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Hv,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw cs.create("bad-app-name",{appName:String(i)});if(n||(n=Ik()),!n)throw cs.create("no-options");const s=Vu.get(i);if(s){if(ya(n,s.options)&&ya(r,s.config))return s;throw cs.create("duplicate-app",{appName:i})}const a=new n3(i);for(const l of Kv.values())a.addComponent(l);const o=new Q3(n,r,a);return Vu.set(i,o),o}function Xh(t=Hv){const e=Vu.get(t);if(!e&&t===Hv&&Ik())return cw();if(!e)throw cs.create("no-app",{appName:t});return e}function Rk(){return Array.from(Vu.values())}function ds(t,e,n){let r=G3[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_i.warn(a.join(" "));return}Do(new wa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3="firebase-heartbeat-database",J3=1,Fu="firebase-heartbeat-store";let hg=null;function Dk(){return hg||(hg=p3(X3,J3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fu)}catch(n){console.warn(n)}}}}).catch(t=>{throw cs.create("idb-open",{originalErrorMessage:t.message})})),hg}async function Z3(t){try{const n=(await Dk()).transaction(Fu),r=await n.objectStore(Fu).get(Mk(t));return await n.done,r}catch(e){if(e instanceof Ni)_i.warn(e.message);else{const n=cs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_i.warn(n.message)}}}async function iE(t,e){try{const r=(await Dk()).transaction(Fu,"readwrite");await r.objectStore(Fu).put(e,Mk(t)),await r.done}catch(n){if(n instanceof Ni)_i.warn(n.message);else{const r=cs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_i.warn(r.message)}}}function Mk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV=1024,tV=30;class nV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=sE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>tV){const a=sV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){_i.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=sE(),{heartbeatsToSend:r,unsentEntries:i}=rV(this._heartbeatsCache.heartbeats),s=Of(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return _i.warn(n),""}}}function sE(){return new Date().toISOString().substring(0,10)}function rV(t,e=eV){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),aE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),aE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class iV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return W$()?H$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Z3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return iE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return iE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function aE(t){return Of(JSON.stringify({version:2,heartbeats:t})).length}function sV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(t){Do(new wa("platform-logger",e=>new y3(e),"PRIVATE")),Do(new wa("heartbeat",e=>new nV(e),"PRIVATE")),ds(Wv,nE,t),ds(Wv,nE,"esm2020"),ds("fire-js","")}aV("");var oV="firebase",lV="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ds(oV,lV,"app");function Lk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uV=Lk,$k=new hc("auth","Firebase",Lk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf=new ow("@firebase/auth");function cV(t,...e){jf.logLevel<=_e.WARN&&jf.warn(`Auth (${nl}): ${t}`,...e)}function Qd(t,...e){jf.logLevel<=_e.ERROR&&jf.error(`Auth (${nl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(t,...e){throw fw(t,...e)}function Er(t,...e){return fw(t,...e)}function dw(t,e,n){const r={...uV(),[e]:n};return new hc("auth","Firebase",r).create(e,{appName:t.name})}function fs(t){return dw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dV(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&sr(t,"argument-error"),dw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return $k.create(t,...e)}function ue(t,e,...n){if(!t)throw fw(e,...n)}function li(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qd(e),new Error(e)}function bi(t,e){t||li(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function fV(){return oE()==="http:"||oE()==="https:"}function oE(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fV()||F$()||"connection"in navigator)?navigator.onLine:!0}function mV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n){this.shortDelay=e,this.longDelay=n,bi(n>e,"Short delay should be less than long delay!"),this.isMobile=L$()||B$()}get(){return hV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(t,e){bi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vV=new pc(3e4,6e4);function Cs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Kr(t,e,n,r,i={}){return Fk(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=mc({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...s};return V$()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&tl(t.emulatorConfig.host)&&(u.credentials="include"),Vk.fetch()(await Bk(t,t.config.apiHost,n,o),u)})}async function Fk(t,e,n){t._canInitEmulator=!1;const r={...pV,...e};try{const i=new wV(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw gd(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw gd(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw gd(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw gd(t,"user-disabled",a);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw dw(t,c,u);sr(t,c)}}catch(i){if(i instanceof Ni)throw i;sr(t,"network-request-failed",{message:String(i)})}}async function Jh(t,e,n,r,i={}){const s=await Kr(t,e,n,r,i);return"mfaPendingCredential"in s&&sr(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function Bk(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?hw(t.config,i):`${t.config.apiScheme}://${i}`;return gV.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function yV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Er(this.auth,"network-request-failed")),vV.get())})}}function gd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Er(t,e,r);return i.customData._tokenResponse=n,i}function lE(t){return t!==void 0&&t.enterprise!==void 0}class xV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return yV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _V(t,e){return Kr(t,"GET","/v2/recaptchaConfig",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bV(t,e){return Kr(t,"POST","/v1/accounts:delete",e)}async function Df(t,e){return Kr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function EV(t,e=!1){const n=on(t),r=await n.getIdToken(e),i=mw(r);ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:mu(mg(i.auth_time)),issuedAtTime:mu(mg(i.iat)),expirationTime:mu(mg(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function mg(t){return Number(t)*1e3}function mw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Qd("JWT malformed, contained fewer than 3 sections"),null;try{const i=Pk(n);return i?JSON.parse(i):(Qd("Failed to decode base64 JWT payload"),null)}catch(i){return Qd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function uE(t){const e=mw(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ni&&SV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function SV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mu(this.lastLoginAt),this.creationTime=mu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mf(t){var d;const e=t.auth,n=await t.getIdToken(),r=await Mo(t,Df(e,{idToken:n}));ue(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(d=i.providerUserInfo)!=null&&d.length?Uk(i.providerUserInfo):[],a=TV(t.providerData,s),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=o?l:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Gv(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,c)}async function PV(t){const e=on(t);await Mf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Uk(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IV(t,e){const n=await Fk(t,{},async()=>{const r=mc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await Bk(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&tl(t.emulatorConfig.host)&&(l.credentials="include"),Vk.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kV(t,e){return Kr(t,"POST","/v2/accounts:revokeToken",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const n=uE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await IV(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new xo;return r&&(ue(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(ue(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(ue(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xo,this.toJSON())}_performRefresh(){return li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class wr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new AV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Gv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Mo(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return EV(this,e)}reload(){return PV(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new wr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Mf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(fs(this.auth));const e=await this.getIdToken();return await Mo(this,bV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,c=n.lastLoginAt??void 0,{uid:d,emailVerified:h,isAnonymous:p,providerData:g,stsTokenManager:y}=n;ue(d&&y,e,"internal-error");const b=xo.fromJSON(this.name,y);ue(typeof d=="string",e,"internal-error"),Bi(r,e.name),Bi(i,e.name),ue(typeof h=="boolean",e,"internal-error"),ue(typeof p=="boolean",e,"internal-error"),Bi(s,e.name),Bi(a,e.name),Bi(o,e.name),Bi(l,e.name),Bi(u,e.name),Bi(c,e.name);const w=new wr({uid:d,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:p,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:b,createdAt:u,lastLoginAt:c});return g&&Array.isArray(g)&&(w.providerData=g.map(x=>({...x}))),l&&(w._redirectEventId=l),w}static async _fromIdTokenResponse(e,n,r=!1){const i=new xo;i.updateFromServerResponse(n);const s=new wr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Mf(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ue(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Uk(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new xo;o.updateFromIdToken(r);const l=new wr({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Gv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=new Map;function ui(t){bi(t instanceof Function,"Expected a class definition");let e=cE.get(t);return e?(bi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}zk.type="NONE";const dE=zk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(t,e,n){return`firebase:${t}:${e}:${n}`}class _o{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Xd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Xd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Df(this.auth,{idToken:e}).catch(()=>{});return n?wr._fromGetAccountInfoResponse(this.auth,n,e):null}return wr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new _o(ui(dE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||ui(dE);const a=Xd(r,e.config.apiKey,e.name);let o=null;for(const u of n)try{const c=await u._get(a);if(c){let d;if(typeof c=="string"){const h=await Df(e,{idToken:c}).catch(()=>{});if(!h)break;d=await wr._fromGetAccountInfoResponse(e,h,c)}else d=wr._fromJSON(e,c);u!==s&&(o=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new _o(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new _o(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Gk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Wk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Yk(e))return"Blackberry";if(Qk(e))return"Webos";if(Hk(e))return"Safari";if((e.includes("chrome/")||Kk(e))&&!e.includes("edge/"))return"Chrome";if(qk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Wk(t=tn()){return/firefox\//i.test(t)}function Hk(t=tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Kk(t=tn()){return/crios\//i.test(t)}function Gk(t=tn()){return/iemobile/i.test(t)}function qk(t=tn()){return/android/i.test(t)}function Yk(t=tn()){return/blackberry/i.test(t)}function Qk(t=tn()){return/webos/i.test(t)}function pw(t=tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function CV(t=tn()){var e;return pw(t)&&!!((e=window.navigator)!=null&&e.standalone)}function NV(){return U$()&&document.documentMode===10}function Xk(t=tn()){return pw(t)||qk(t)||Qk(t)||Yk(t)||/windows phone/i.test(t)||Gk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(t,e=[]){let n;switch(t){case"Browser":n=fE(tn());break;case"Worker":n=`${fE(tn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${nl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jV(t,e={}){return Kr(t,"GET","/v2/passwordPolicy",Cs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV=6;class DV{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??RV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hE(this),this.idTokenSubscription=new hE(this),this.beforeStateQueue=new OV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$k,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ui(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await _o.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Df(this,{idToken:e}),r=await wr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Qn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Mf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qn(this.app))return Promise.reject(fs(this));const n=e?on(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qn(this.app)?Promise.reject(fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ui(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jV(this),n=new DV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await kV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ui(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await _o.create(this,[ui(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Jk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&cV(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Na(t){return on(t)}class hE{constructor(e){this.auth=e,this.observer=null,this.addObserver=Q$(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LV(t){Zh=t}function Zk(t){return Zh.loadJS(t)}function $V(){return Zh.recaptchaEnterpriseScript}function VV(){return Zh.gapiScript}function FV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class BV{constructor(){this.enterprise=new UV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class UV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const zV="recaptcha-enterprise",eC="NO_RECAPTCHA";class WV{constructor(e){this.type=zV,this.auth=Na(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{_V(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new xV(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,a(u.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;lE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{a(u)}).catch(()=>{a(eC)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new BV().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(o=>{if(!n&&lE(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=$V();l.length!==0&&(l+=o),Zk(l).then(()=>{i(o,s,a)}).catch(u=>{a(u)})}}).catch(o=>{a(o)})})}}async function mE(t,e,n,r=!1,i=!1){const s=new WV(t);let a;if(i)a=eC;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function qv(t,e,n,r,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await mE(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await mE(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(t,e){const n=uw(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ya(s,e??{}))return i;sr(i,"already-initialized")}return n.initialize({options:e})}function KV(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ui);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function GV(t,e,n){const r=Na(t);ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=tC(e),{host:a,port:o}=qV(e),l=o===null?"":`:${o}`,u={url:`${s}//${a}${l}/`},c=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ue(ya(u,r.config.emulator)&&ya(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,tl(a)?(Ck(`${s}//${a}${l}`),Nk("Auth",!0)):YV()}function tC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function qV(t){const e=tC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:pE(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:pE(a)}}}function pE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function YV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return li("not implemented")}_getIdTokenResponse(e){return li("not implemented")}_linkToIdToken(e,n){return li("not implemented")}_getReauthenticationResolver(e){return li("not implemented")}}async function QV(t,e){return Kr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XV(t,e){return Jh(t,"POST","/v1/accounts:signInWithPassword",Cs(t,e))}async function JV(t,e){return Kr(t,"POST","/v1/accounts:sendOobCode",Cs(t,e))}async function ZV(t,e){return JV(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e6(t,e){return Jh(t,"POST","/v1/accounts:signInWithEmailLink",Cs(t,e))}async function t6(t,e){return Jh(t,"POST","/v1/accounts:signInWithEmailLink",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends gw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Bu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Bu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qv(e,n,"signInWithPassword",XV);case"emailLink":return e6(e,{email:this._email,oobCode:this._password});default:sr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qv(e,r,"signUpPassword",QV);case"emailLink":return t6(e,{idToken:n,email:this._email,oobCode:this._password});default:sr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(t,e){return Jh(t,"POST","/v1/accounts:signInWithIdp",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6="http://localhost";class xa extends gw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new xa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):sr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const a=new xa(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return bo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,bo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bo(e,n)}buildRequest(){const e={requestUri:n6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function i6(t){const e=Ql(Xl(t)).link,n=e?Ql(Xl(e)).deep_link_id:null,r=Ql(Xl(t)).deep_link_id;return(r?Ql(Xl(r)).link:null)||r||n||e||t}class em{constructor(e){const n=Ql(Xl(e)),r=n.apiKey??null,i=n.oobCode??null,s=r6(n.mode??null);ue(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=i6(e);try{return new em(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){this.providerId=rl.PROVIDER_ID}static credential(e,n){return Bu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=em.parseLink(n);return ue(r,"argument-error"),Bu._fromEmailAndCode(e,r.code,r.tenantId)}}rl.PROVIDER_ID="password";rl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends vw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends gc{constructor(){super("facebook.com")}static credential(e){return xa._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ni.credential(e.oauthAccessToken)}catch{return null}}}ni.FACEBOOK_SIGN_IN_METHOD="facebook.com";ni.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends gc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return xa._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ri.credential(n,r)}catch{return null}}}ri.GOOGLE_SIGN_IN_METHOD="google.com";ri.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends gc{constructor(){super("github.com")}static credential(e){return xa._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yi.credential(e.oauthAccessToken)}catch{return null}}}Yi.GITHUB_SIGN_IN_METHOD="github.com";Yi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends gc{constructor(){super("twitter.com")}static credential(e,n){return xa._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Qi.credential(n,r)}catch{return null}}}Qi.TWITTER_SIGN_IN_METHOD="twitter.com";Qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await wr._fromIdTokenResponse(e,r,i),a=gE(r);return new Lo({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=gE(r);return new Lo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function gE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf extends Ni{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Lf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Lf(e,n,r,i)}}function nC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Lf._fromErrorAndOperation(t,s,e,r):s})}async function s6(t,e,n=!1){const r=await Mo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Lo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a6(t,e,n=!1){const{auth:r}=t;if(Qn(r.app))return Promise.reject(fs(r));const i="reauthenticate";try{const s=await Mo(t,nC(r,i,e,t),n);ue(s.idToken,r,"internal-error");const a=mw(s.idToken);ue(a,r,"internal-error");const{sub:o}=a;return ue(t.uid===o,r,"user-mismatch"),Lo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&sr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rC(t,e,n=!1){if(Qn(t.app))return Promise.reject(fs(t));const r="signIn",i=await nC(t,r,e),s=await Lo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function o6(t,e){return rC(Na(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(t,e,n){var r;ue(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),ue(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),ue(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ue(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ue(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u6(t,e,n){const r=Na(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(a,o){ue(o.handleCodeInApp,r,"argument-error"),o&&l6(r,a,o)}s(i,n),await qv(r,i,"getOobCode",ZV)}function c6(t,e){const n=em.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function d6(t,e,n){if(Qn(t.app))return Promise.reject(fs(t));const r=on(t),i=rl.credentialWithLink(e,n||Rf());return ue(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),o6(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f6(t,e){return Kr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h6(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=on(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await Mo(r,f6(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const o=r.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function m6(t,e,n,r){return on(t).onIdTokenChanged(e,n,r)}function p6(t,e,n){return on(t).beforeAuthStateChanged(e,n)}function g6(t,e,n,r){return on(t).onAuthStateChanged(e,n,r)}function v6(t){return on(t).signOut()}const $f="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($f,"1"),this.storage.removeItem($f),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6=1e3,w6=10;class sC extends iC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Xk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);NV()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,w6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},y6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}sC.type="LOCAL";const x6=sC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC extends iC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}aC.type="SESSION";const oC=aC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new tm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async u=>u(n.origin,s)),l=await _6(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const u=yw("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(){return window}function E6(t){Mr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(){return typeof Mr().WorkerGlobalScope<"u"&&typeof Mr().importScripts=="function"}async function S6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function A6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function P6(){return lC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="firebaseLocalStorageDb",T6=1,Vf="firebaseLocalStorage",cC="fbase_key";class vc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nm(t,e){return t.transaction([Vf],e?"readwrite":"readonly").objectStore(Vf)}function I6(){const t=indexedDB.deleteDatabase(uC);return new vc(t).toPromise()}function Yv(){const t=indexedDB.open(uC,T6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Vf,{keyPath:cC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Vf)?e(r):(r.close(),await I6(),e(await Yv()))})})}async function vE(t,e,n){const r=nm(t,!0).put({[cC]:e,value:n});return new vc(r).toPromise()}async function k6(t,e){const n=nm(t,!1).get(e),r=await new vc(n).toPromise();return r===void 0?null:r.value}function yE(t,e){const n=nm(t,!0).delete(e);return new vc(n).toPromise()}const C6=800,N6=3;class dC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>N6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tm._getInstance(P6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await S6(),!this.activeServiceWorker)return;this.sender=new b6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||A6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yv();return await vE(e,$f,"1"),await yE(e,$f),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>vE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>k6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>yE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=nm(i,!1).getAll();return new vc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),C6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dC.type="LOCAL";const O6=dC;new pc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(t,e){return e?ui(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww extends gw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function j6(t){return rC(t.auth,new ww(t),t.bypassAuthState)}function R6(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),a6(n,new ww(t),t.bypassAuthState)}async function D6(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),s6(n,new ww(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return j6;case"linkViaPopup":case"linkViaRedirect":return D6;case"reauthViaPopup":case"reauthViaRedirect":return R6;default:sr(this.auth,"internal-error")}}resolve(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6=new pc(2e3,1e4);async function mC(t,e,n){if(Qn(t.app))return Promise.reject(Er(t,"operation-not-supported-in-this-environment"));const r=Na(t);dV(t,e,vw);const i=fC(r,n);return new Js(r,"signInViaPopup",e,i).executeNotNull()}class Js extends hC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Js.currentPopupAction&&Js.currentPopupAction.cancel(),Js.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){bi(this.filter.length===1,"Popup operations only handle one event");const e=yw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Js.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,M6.get())};e()}}Js.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6="pendingRedirect",Jd=new Map;class $6 extends hC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Jd.get(this.auth._key());if(!e){try{const r=await V6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jd.set(this.auth._key(),e)}return this.bypassAuthState||Jd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function V6(t,e){const n=U6(e),r=B6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function F6(t,e){Jd.set(t._key(),e)}function B6(t){return ui(t._redirectPersistence)}function U6(t){return Xd(L6,t.config.apiKey,t.name)}async function z6(t,e,n=!1){if(Qn(t.app))return Promise.reject(fs(t));const r=Na(t),i=fC(r,e),a=await new $6(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W6=10*60*1e3;class H6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!K6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!pC(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Er(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=W6&&this.cachedEventUids.clear(),this.cachedEventUids.has(wE(e))}saveEventToCache(e){this.cachedEventUids.add(wE(e)),this.lastProcessedEventTime=Date.now()}}function wE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function pC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function K6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G6(t,e={}){return Kr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Y6=/^https?/;async function Q6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await G6(t);for(const n of e)try{if(X6(n))return}catch{}sr(t,"unauthorized-domain")}function X6(t){const e=Rf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Y6.test(n))return!1;if(q6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=new pc(3e4,6e4);function xE(){const t=Mr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Z6(t){return new Promise((e,n)=>{var i,s,a;function r(){xE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xE(),n(Er(t,"network-request-failed"))},timeout:J6.get()})}if((s=(i=Mr().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=Mr().gapi)!=null&&a.load)r();else{const o=FV("iframefcb");return Mr()[o]=()=>{gapi.load?r():n(Er(t,"network-request-failed"))},Zk(`${VV()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw Zd=null,e})}let Zd=null;function e5(t){return Zd=Zd||Z6(t),Zd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5=new pc(5e3,15e3),n5="__/auth/iframe",r5="emulator/auth/iframe",i5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},s5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function a5(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?hw(e,r5):`https://${t.config.authDomain}/${n5}`,r={apiKey:e.apiKey,appName:t.name,v:nl},i=s5.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${mc(r).slice(1)}`}async function o5(t){const e=await e5(t),n=Mr().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:a5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:i5,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Er(t,"network-request-failed"),o=Mr().setTimeout(()=>{s(a)},t5.get());function l(){Mr().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},u5=500,c5=600,d5="_blank",f5="http://localhost";class _E{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function h5(t,e,n,r=u5,i=c5){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...l5,width:r.toString(),height:i.toString(),top:s,left:a},u=tn().toLowerCase();n&&(o=Kk(u)?d5:n),Wk(u)&&(e=e||f5,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(CV(u)&&o!=="_self")return m5(e||"",o),new _E(null);const d=window.open(e||"",o,c);ue(d,t,"popup-blocked");try{d.focus()}catch{}return new _E(d)}function m5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5="__/auth/handler",g5="emulator/auth/handler",v5=encodeURIComponent("fac");async function bE(t,e,n,r,i,s){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:nl,eventId:i};if(e instanceof vw){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Y$(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))a[c]=d}if(e instanceof gc){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(a.scopes=c.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const c of Object.keys(o))o[c]===void 0&&delete o[c];const l=await t._getAppCheckToken(),u=l?`#${v5}=${encodeURIComponent(l)}`:"";return`${y5(t)}?${mc(o).slice(1)}${u}`}function y5({config:t}){return t.emulator?hw(t,g5):`https://${t.authDomain}/${p5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="webStorageSupport";class w5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oC,this._completeRedirectFn=z6,this._overrideRedirectResult=F6}async _openPopup(e,n,r,i){var a;bi((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await bE(e,n,r,Rf(),i);return h5(e,s,yw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await bE(e,n,r,Rf(),i);return E6(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(bi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await o5(e),r=new H6(e);return n.register("authEvent",i=>(ue(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(pg,{type:pg},i=>{var a;const s=(a=i==null?void 0:i[0])==null?void 0:a[pg];s!==void 0&&n(!!s),sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Q6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Xk()||Hk()||pw()}}const x5=w5;var EE="@firebase/auth",SE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function E5(t){Do(new wa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;ue(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jk(t)},u=new MV(r,i,s,l);return KV(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Do(new wa("auth-internal",e=>{const n=Na(e.getProvider("auth").getImmediate());return(r=>new _5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ds(EE,SE,b5(t)),ds(EE,SE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5=5*60,A5=kk("authIdTokenMaxAge")||S5;let AE=null;const P5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>A5)return;const i=n==null?void 0:n.token;AE!==i&&(AE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function gC(t=Xh()){const e=uw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=HV(t,{popupRedirectResolver:x5,persistence:[O6,x6,oC]}),r=kk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=P5(s.toString());p6(n,a,()=>a(n.currentUser)),m6(n,o=>a(o))}}const i=Tk("auth");return i&&GV(n,`http://${i}`),n}function T5(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}LV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Er("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",T5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});E5("Browser");var PE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hs,vC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,A){function k(){}k.prototype=A.prototype,I.D=A.prototype,I.prototype=new k,I.prototype.constructor=I,I.C=function(T,O,R){for(var C=Array(arguments.length-2),G=2;G<arguments.length;G++)C[G-2]=arguments[G];return A.prototype[O].apply(T,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,A,k){k||(k=0);var T=Array(16);if(typeof A=="string")for(var O=0;16>O;++O)T[O]=A.charCodeAt(k++)|A.charCodeAt(k++)<<8|A.charCodeAt(k++)<<16|A.charCodeAt(k++)<<24;else for(O=0;16>O;++O)T[O]=A[k++]|A[k++]<<8|A[k++]<<16|A[k++]<<24;A=I.g[0],k=I.g[1],O=I.g[2];var R=I.g[3],C=A+(R^k&(O^R))+T[0]+3614090360&4294967295;A=k+(C<<7&4294967295|C>>>25),C=R+(O^A&(k^O))+T[1]+3905402710&4294967295,R=A+(C<<12&4294967295|C>>>20),C=O+(k^R&(A^k))+T[2]+606105819&4294967295,O=R+(C<<17&4294967295|C>>>15),C=k+(A^O&(R^A))+T[3]+3250441966&4294967295,k=O+(C<<22&4294967295|C>>>10),C=A+(R^k&(O^R))+T[4]+4118548399&4294967295,A=k+(C<<7&4294967295|C>>>25),C=R+(O^A&(k^O))+T[5]+1200080426&4294967295,R=A+(C<<12&4294967295|C>>>20),C=O+(k^R&(A^k))+T[6]+2821735955&4294967295,O=R+(C<<17&4294967295|C>>>15),C=k+(A^O&(R^A))+T[7]+4249261313&4294967295,k=O+(C<<22&4294967295|C>>>10),C=A+(R^k&(O^R))+T[8]+1770035416&4294967295,A=k+(C<<7&4294967295|C>>>25),C=R+(O^A&(k^O))+T[9]+2336552879&4294967295,R=A+(C<<12&4294967295|C>>>20),C=O+(k^R&(A^k))+T[10]+4294925233&4294967295,O=R+(C<<17&4294967295|C>>>15),C=k+(A^O&(R^A))+T[11]+2304563134&4294967295,k=O+(C<<22&4294967295|C>>>10),C=A+(R^k&(O^R))+T[12]+1804603682&4294967295,A=k+(C<<7&4294967295|C>>>25),C=R+(O^A&(k^O))+T[13]+4254626195&4294967295,R=A+(C<<12&4294967295|C>>>20),C=O+(k^R&(A^k))+T[14]+2792965006&4294967295,O=R+(C<<17&4294967295|C>>>15),C=k+(A^O&(R^A))+T[15]+1236535329&4294967295,k=O+(C<<22&4294967295|C>>>10),C=A+(O^R&(k^O))+T[1]+4129170786&4294967295,A=k+(C<<5&4294967295|C>>>27),C=R+(k^O&(A^k))+T[6]+3225465664&4294967295,R=A+(C<<9&4294967295|C>>>23),C=O+(A^k&(R^A))+T[11]+643717713&4294967295,O=R+(C<<14&4294967295|C>>>18),C=k+(R^A&(O^R))+T[0]+3921069994&4294967295,k=O+(C<<20&4294967295|C>>>12),C=A+(O^R&(k^O))+T[5]+3593408605&4294967295,A=k+(C<<5&4294967295|C>>>27),C=R+(k^O&(A^k))+T[10]+38016083&4294967295,R=A+(C<<9&4294967295|C>>>23),C=O+(A^k&(R^A))+T[15]+3634488961&4294967295,O=R+(C<<14&4294967295|C>>>18),C=k+(R^A&(O^R))+T[4]+3889429448&4294967295,k=O+(C<<20&4294967295|C>>>12),C=A+(O^R&(k^O))+T[9]+568446438&4294967295,A=k+(C<<5&4294967295|C>>>27),C=R+(k^O&(A^k))+T[14]+3275163606&4294967295,R=A+(C<<9&4294967295|C>>>23),C=O+(A^k&(R^A))+T[3]+4107603335&4294967295,O=R+(C<<14&4294967295|C>>>18),C=k+(R^A&(O^R))+T[8]+1163531501&4294967295,k=O+(C<<20&4294967295|C>>>12),C=A+(O^R&(k^O))+T[13]+2850285829&4294967295,A=k+(C<<5&4294967295|C>>>27),C=R+(k^O&(A^k))+T[2]+4243563512&4294967295,R=A+(C<<9&4294967295|C>>>23),C=O+(A^k&(R^A))+T[7]+1735328473&4294967295,O=R+(C<<14&4294967295|C>>>18),C=k+(R^A&(O^R))+T[12]+2368359562&4294967295,k=O+(C<<20&4294967295|C>>>12),C=A+(k^O^R)+T[5]+4294588738&4294967295,A=k+(C<<4&4294967295|C>>>28),C=R+(A^k^O)+T[8]+2272392833&4294967295,R=A+(C<<11&4294967295|C>>>21),C=O+(R^A^k)+T[11]+1839030562&4294967295,O=R+(C<<16&4294967295|C>>>16),C=k+(O^R^A)+T[14]+4259657740&4294967295,k=O+(C<<23&4294967295|C>>>9),C=A+(k^O^R)+T[1]+2763975236&4294967295,A=k+(C<<4&4294967295|C>>>28),C=R+(A^k^O)+T[4]+1272893353&4294967295,R=A+(C<<11&4294967295|C>>>21),C=O+(R^A^k)+T[7]+4139469664&4294967295,O=R+(C<<16&4294967295|C>>>16),C=k+(O^R^A)+T[10]+3200236656&4294967295,k=O+(C<<23&4294967295|C>>>9),C=A+(k^O^R)+T[13]+681279174&4294967295,A=k+(C<<4&4294967295|C>>>28),C=R+(A^k^O)+T[0]+3936430074&4294967295,R=A+(C<<11&4294967295|C>>>21),C=O+(R^A^k)+T[3]+3572445317&4294967295,O=R+(C<<16&4294967295|C>>>16),C=k+(O^R^A)+T[6]+76029189&4294967295,k=O+(C<<23&4294967295|C>>>9),C=A+(k^O^R)+T[9]+3654602809&4294967295,A=k+(C<<4&4294967295|C>>>28),C=R+(A^k^O)+T[12]+3873151461&4294967295,R=A+(C<<11&4294967295|C>>>21),C=O+(R^A^k)+T[15]+530742520&4294967295,O=R+(C<<16&4294967295|C>>>16),C=k+(O^R^A)+T[2]+3299628645&4294967295,k=O+(C<<23&4294967295|C>>>9),C=A+(O^(k|~R))+T[0]+4096336452&4294967295,A=k+(C<<6&4294967295|C>>>26),C=R+(k^(A|~O))+T[7]+1126891415&4294967295,R=A+(C<<10&4294967295|C>>>22),C=O+(A^(R|~k))+T[14]+2878612391&4294967295,O=R+(C<<15&4294967295|C>>>17),C=k+(R^(O|~A))+T[5]+4237533241&4294967295,k=O+(C<<21&4294967295|C>>>11),C=A+(O^(k|~R))+T[12]+1700485571&4294967295,A=k+(C<<6&4294967295|C>>>26),C=R+(k^(A|~O))+T[3]+2399980690&4294967295,R=A+(C<<10&4294967295|C>>>22),C=O+(A^(R|~k))+T[10]+4293915773&4294967295,O=R+(C<<15&4294967295|C>>>17),C=k+(R^(O|~A))+T[1]+2240044497&4294967295,k=O+(C<<21&4294967295|C>>>11),C=A+(O^(k|~R))+T[8]+1873313359&4294967295,A=k+(C<<6&4294967295|C>>>26),C=R+(k^(A|~O))+T[15]+4264355552&4294967295,R=A+(C<<10&4294967295|C>>>22),C=O+(A^(R|~k))+T[6]+2734768916&4294967295,O=R+(C<<15&4294967295|C>>>17),C=k+(R^(O|~A))+T[13]+1309151649&4294967295,k=O+(C<<21&4294967295|C>>>11),C=A+(O^(k|~R))+T[4]+4149444226&4294967295,A=k+(C<<6&4294967295|C>>>26),C=R+(k^(A|~O))+T[11]+3174756917&4294967295,R=A+(C<<10&4294967295|C>>>22),C=O+(A^(R|~k))+T[2]+718787259&4294967295,O=R+(C<<15&4294967295|C>>>17),C=k+(R^(O|~A))+T[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+R&4294967295}r.prototype.u=function(I,A){A===void 0&&(A=I.length);for(var k=A-this.blockSize,T=this.B,O=this.h,R=0;R<A;){if(O==0)for(;R<=k;)i(this,I,R),R+=this.blockSize;if(typeof I=="string"){for(;R<A;)if(T[O++]=I.charCodeAt(R++),O==this.blockSize){i(this,T),O=0;break}}else for(;R<A;)if(T[O++]=I[R++],O==this.blockSize){i(this,T),O=0;break}}this.h=O,this.o+=A},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;var k=8*this.o;for(A=I.length-8;A<I.length;++A)I[A]=k&255,k/=256;for(this.u(I),I=Array(16),A=k=0;4>A;++A)for(var T=0;32>T;T+=8)I[k++]=this.g[A]>>>T&255;return I};function s(I,A){var k=o;return Object.prototype.hasOwnProperty.call(k,I)?k[I]:k[I]=A(I)}function a(I,A){this.h=A;for(var k=[],T=!0,O=I.length-1;0<=O;O--){var R=I[O]|0;T&&R==A||(k[O]=R,T=!1)}this.g=k}var o={};function l(I){return-128<=I&&128>I?s(I,function(A){return new a([A|0],0>A?-1:0)}):new a([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return d;if(0>I)return b(u(-I));for(var A=[],k=1,T=0;I>=k;T++)A[T]=I/k|0,k*=4294967296;return new a(A,0)}function c(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return b(c(I.substring(1),A));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=u(Math.pow(A,8)),T=d,O=0;O<I.length;O+=8){var R=Math.min(8,I.length-O),C=parseInt(I.substring(O,O+R),A);8>R?(R=u(Math.pow(A,R)),T=T.j(R).add(u(C))):(T=T.j(k),T=T.add(u(C)))}return T}var d=l(0),h=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(y(this))return-b(this).m();for(var I=0,A=1,k=0;k<this.g.length;k++){var T=this.i(k);I+=(0<=T?T:4294967296+T)*A,A*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(g(this))return"0";if(y(this))return"-"+b(this).toString(I);for(var A=u(Math.pow(I,6)),k=this,T="";;){var O=P(k,A).g;k=w(k,O.j(A));var R=((0<k.g.length?k.g[0]:k.h)>>>0).toString(I);if(k=O,g(k))return R+T;for(;6>R.length;)R="0"+R;T=R+T}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function g(I){if(I.h!=0)return!1;for(var A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function y(I){return I.h==-1}t.l=function(I){return I=w(this,I),y(I)?-1:g(I)?0:1};function b(I){for(var A=I.g.length,k=[],T=0;T<A;T++)k[T]=~I.g[T];return new a(k,~I.h).add(h)}t.abs=function(){return y(this)?b(this):this},t.add=function(I){for(var A=Math.max(this.g.length,I.g.length),k=[],T=0,O=0;O<=A;O++){var R=T+(this.i(O)&65535)+(I.i(O)&65535),C=(R>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);T=C>>>16,R&=65535,C&=65535,k[O]=C<<16|R}return new a(k,k[k.length-1]&-2147483648?-1:0)};function w(I,A){return I.add(b(A))}t.j=function(I){if(g(this)||g(I))return d;if(y(this))return y(I)?b(this).j(b(I)):b(b(this).j(I));if(y(I))return b(this.j(b(I)));if(0>this.l(p)&&0>I.l(p))return u(this.m()*I.m());for(var A=this.g.length+I.g.length,k=[],T=0;T<2*A;T++)k[T]=0;for(T=0;T<this.g.length;T++)for(var O=0;O<I.g.length;O++){var R=this.i(T)>>>16,C=this.i(T)&65535,G=I.i(O)>>>16,L=I.i(O)&65535;k[2*T+2*O]+=C*L,x(k,2*T+2*O),k[2*T+2*O+1]+=R*L,x(k,2*T+2*O+1),k[2*T+2*O+1]+=C*G,x(k,2*T+2*O+1),k[2*T+2*O+2]+=R*G,x(k,2*T+2*O+2)}for(T=0;T<A;T++)k[T]=k[2*T+1]<<16|k[2*T];for(T=A;T<2*A;T++)k[T]=0;return new a(k,0)};function x(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function _(I,A){this.g=I,this.h=A}function P(I,A){if(g(A))throw Error("division by zero");if(g(I))return new _(d,d);if(y(I))return A=P(b(I),A),new _(b(A.g),b(A.h));if(y(A))return A=P(I,b(A)),new _(b(A.g),A.h);if(30<I.g.length){if(y(I)||y(A))throw Error("slowDivide_ only works with positive integers.");for(var k=h,T=A;0>=T.l(I);)k=N(k),T=N(T);var O=D(k,1),R=D(T,1);for(T=D(T,2),k=D(k,2);!g(T);){var C=R.add(T);0>=C.l(I)&&(O=O.add(k),R=C),T=D(T,1),k=D(k,1)}return A=w(I,O.j(A)),new _(O,A)}for(O=d;0<=I.l(A);){for(k=Math.max(1,Math.floor(I.m()/A.m())),T=Math.ceil(Math.log(k)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),R=u(k),C=R.j(A);y(C)||0<C.l(I);)k-=T,R=u(k),C=R.j(A);g(R)&&(R=h),O=O.add(R),I=w(I,C)}return new _(O,I)}t.A=function(I){return P(this,I).h},t.and=function(I){for(var A=Math.max(this.g.length,I.g.length),k=[],T=0;T<A;T++)k[T]=this.i(T)&I.i(T);return new a(k,this.h&I.h)},t.or=function(I){for(var A=Math.max(this.g.length,I.g.length),k=[],T=0;T<A;T++)k[T]=this.i(T)|I.i(T);return new a(k,this.h|I.h)},t.xor=function(I){for(var A=Math.max(this.g.length,I.g.length),k=[],T=0;T<A;T++)k[T]=this.i(T)^I.i(T);return new a(k,this.h^I.h)};function N(I){for(var A=I.g.length+1,k=[],T=0;T<A;T++)k[T]=I.i(T)<<1|I.i(T-1)>>>31;return new a(k,I.h)}function D(I,A){var k=A>>5;A%=32;for(var T=I.g.length-k,O=[],R=0;R<T;R++)O[R]=0<A?I.i(R+k)>>>A|I.i(R+k+1)<<32-A:I.i(R+k);return new a(O,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,vC=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=c,hs=a}).apply(typeof PE<"u"?PE:typeof self<"u"?self:typeof window<"u"?window:{});var vd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yC,Jl,wC,ef,Qv,xC,_C,bC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,E){return f==Array.prototype||f==Object.prototype||(f[v]=E.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof vd=="object"&&vd];for(var v=0;v<f.length;++v){var E=f[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(f,v){if(v)e:{var E=r;f=f.split(".");for(var j=0;j<f.length-1;j++){var $=f[j];if(!($ in E))break e;E=E[$]}f=f[f.length-1],j=E[f],v=v(j),v!=j&&v!=null&&e(E,f,{configurable:!0,writable:!0,value:v})}}function s(f,v){f instanceof String&&(f+="");var E=0,j=!1,$={next:function(){if(!j&&E<f.length){var U=E++;return{value:v(U,f[U]),done:!1}}return j=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}i("Array.prototype.values",function(f){return f||function(){return s(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function u(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function c(f,v,E){return f.call.apply(f.bind,arguments)}function d(f,v,E){if(!f)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,j),f.apply(v,$)}}return function(){return f.apply(v,arguments)}}function h(f,v,E){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,h.apply(null,arguments)}function p(f,v){var E=Array.prototype.slice.call(arguments,1);return function(){var j=E.slice();return j.push.apply(j,arguments),f.apply(this,j)}}function g(f,v){function E(){}E.prototype=v.prototype,f.aa=v.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(j,$,U){for(var ee=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)ee[Me-2]=arguments[Me];return v.prototype[$].apply(j,ee)}}function y(f){const v=f.length;if(0<v){const E=Array(v);for(let j=0;j<v;j++)E[j]=f[j];return E}return[]}function b(f,v){for(let E=1;E<arguments.length;E++){const j=arguments[E];if(l(j)){const $=f.length||0,U=j.length||0;f.length=$+U;for(let ee=0;ee<U;ee++)f[$+ee]=j[ee]}else f.push(j)}}class w{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function x(f){return/^[\s\xa0]*$/.test(f)}function _(){var f=o.navigator;return f&&(f=f.userAgent)?f:""}function P(f){return P[" "](f),f}P[" "]=function(){};var N=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function D(f,v,E){for(const j in f)v.call(E,f[j],j,f)}function I(f,v){for(const E in f)v.call(void 0,f[E],E,f)}function A(f){const v={};for(const E in f)v[E]=f[E];return v}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(f,v){let E,j;for(let $=1;$<arguments.length;$++){j=arguments[$];for(E in j)f[E]=j[E];for(let U=0;U<k.length;U++)E=k[U],Object.prototype.hasOwnProperty.call(j,E)&&(f[E]=j[E])}}function O(f){var v=1;f=f.split(":");const E=[];for(;0<v&&f.length;)E.push(f.shift()),v--;return f.length&&E.push(f.join(":")),E}function R(f){o.setTimeout(()=>{throw f},0)}function C(){var f=Z;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class G{constructor(){this.h=this.g=null}add(v,E){const j=L.get();j.set(v,E),this.h?this.h.next=j:this.g=j,this.h=j}}var L=new w(()=>new K,f=>f.reset());class K{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let J,z=!1,Z=new G,te=()=>{const f=o.Promise.resolve(void 0);J=()=>{f.then(F)}};var F=()=>{for(var f;f=C();){try{f.h.call(f.g)}catch(E){R(E)}var v=L;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}z=!1};function V(){this.s=this.s,this.C=this.C}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};o.addEventListener("test",E,v),o.removeEventListener("test",E,v)}catch{}return f}();function ye(f,v){if(ne.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,j=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(N){e:{try{P(v.nodeName);var $=!0;break e}catch{}$=!1}$||(v=null)}}else E=="mouseover"?v=f.fromElement:E=="mouseout"&&(v=f.toElement);this.relatedTarget=v,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Re[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&ye.aa.h.call(this)}}g(ye,ne);var Re={2:"touch",3:"pen",4:"mouse"};ye.prototype.h=function(){ye.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ve="closure_listenable_"+(1e6*Math.random()|0),tt=0;function Y(f,v,E,j,$){this.listener=f,this.proxy=null,this.src=v,this.type=E,this.capture=!!j,this.ha=$,this.key=++tt,this.da=this.fa=!1}function M(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function H(f){this.src=f,this.g={},this.h=0}H.prototype.add=function(f,v,E,j,$){var U=f.toString();f=this.g[U],f||(f=this.g[U]=[],this.h++);var ee=re(f,v,j,$);return-1<ee?(v=f[ee],E||(v.fa=!1)):(v=new Y(v,this.src,U,!!j,$),v.fa=E,f.push(v)),v};function B(f,v){var E=v.type;if(E in f.g){var j=f.g[E],$=Array.prototype.indexOf.call(j,v,void 0),U;(U=0<=$)&&Array.prototype.splice.call(j,$,1),U&&(M(v),f.g[E].length==0&&(delete f.g[E],f.h--))}}function re(f,v,E,j){for(var $=0;$<f.length;++$){var U=f[$];if(!U.da&&U.listener==v&&U.capture==!!E&&U.ha==j)return $}return-1}var de="closure_lm_"+(1e6*Math.random()|0),Se={};function De(f,v,E,j,$){if(Array.isArray(v)){for(var U=0;U<v.length;U++)De(f,v[U],E,j,$);return null}return E=Ct(E),f&&f[ve]?f.K(v,E,u(j)?!!j.capture:!1,$):Ye(f,v,E,!1,j,$)}function Ye(f,v,E,j,$,U){if(!v)throw Error("Invalid event type");var ee=u($)?!!$.capture:!!$,Me=Yr(f);if(Me||(f[de]=Me=new H(f)),E=Me.add(v,E,j,ee,U),E.proxy)return E;if(j=bn(),E.proxy=j,j.src=f,j.listener=E,f.addEventListener)xe||($=ee),$===void 0&&($=!1),f.addEventListener(v.toString(),j,$);else if(f.attachEvent)f.attachEvent(dn(v.toString()),j);else if(f.addListener&&f.removeListener)f.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return E}function bn(){function f(E){return v.call(f.src,f.listener,E)}const v=Va;return f}function Bn(f,v,E,j,$){if(Array.isArray(v))for(var U=0;U<v.length;U++)Bn(f,v[U],E,j,$);else j=u(j)?!!j.capture:!!j,E=Ct(E),f&&f[ve]?(f=f.i,v=String(v).toString(),v in f.g&&(U=f.g[v],E=re(U,E,j,$),-1<E&&(M(U[E]),Array.prototype.splice.call(U,E,1),U.length==0&&(delete f.g[v],f.h--)))):f&&(f=Yr(f))&&(v=f.g[v.toString()],f=-1,v&&(f=re(v,E,j,$)),(E=-1<f?v[f]:null)&&St(E))}function St(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[ve])B(v.i,f);else{var E=f.type,j=f.proxy;v.removeEventListener?v.removeEventListener(E,j,f.capture):v.detachEvent?v.detachEvent(dn(E),j):v.addListener&&v.removeListener&&v.removeListener(j),(E=Yr(v))?(B(E,f),E.h==0&&(E.src=null,v[de]=null)):M(f)}}}function dn(f){return f in Se?Se[f]:Se[f]="on"+f}function Va(f,v){if(f.da)f=!0;else{v=new ye(v,this);var E=f.listener,j=f.ha||f.src;f.fa&&St(f),f=E.call(j,v)}return f}function Yr(f){return f=f[de],f instanceof H?f:null}var Qr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ct(f){return typeof f=="function"?f:(f[Qr]||(f[Qr]=function(v){return f.handleEvent(v)}),f[Qr])}function Ve(){V.call(this),this.i=new H(this),this.M=this,this.F=null}g(Ve,V),Ve.prototype[ve]=!0,Ve.prototype.removeEventListener=function(f,v,E,j){Bn(this,f,v,E,j)};function ut(f,v){var E,j=f.F;if(j)for(E=[];j;j=j.F)E.push(j);if(f=f.M,j=v.type||v,typeof v=="string")v=new ne(v,f);else if(v instanceof ne)v.target=v.target||f;else{var $=v;v=new ne(j,f),T(v,$)}if($=!0,E)for(var U=E.length-1;0<=U;U--){var ee=v.g=E[U];$=Fa(ee,j,!0,v)&&$}if(ee=v.g=f,$=Fa(ee,j,!0,v)&&$,$=Fa(ee,j,!1,v)&&$,E)for(U=0;U<E.length;U++)ee=v.g=E[U],$=Fa(ee,j,!1,v)&&$}Ve.prototype.N=function(){if(Ve.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var E=f.g[v],j=0;j<E.length;j++)M(E[j]);delete f.g[v],f.h--}}this.F=null},Ve.prototype.K=function(f,v,E,j){return this.i.add(String(f),v,!1,E,j)},Ve.prototype.L=function(f,v,E,j){return this.i.add(String(f),v,!0,E,j)};function Fa(f,v,E,j){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var $=!0,U=0;U<v.length;++U){var ee=v[U];if(ee&&!ee.da&&ee.capture==E){var Me=ee.listener,Nt=ee.ha||ee.src;ee.fa&&B(f.i,ee),$=Me.call(Nt,j)!==!1&&$}}return $&&!j.defaultPrevented}function H_(f,v,E){if(typeof f=="function")E&&(f=h(f,E));else if(f&&typeof f.handleEvent=="function")f=h(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:o.setTimeout(f,v||0)}function K_(f){f.g=H_(()=>{f.g=null,f.i&&(f.i=!1,K_(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class _M extends V{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:K_(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vl(f){V.call(this),this.h=f,this.g={}}g(vl,V);var G_=[];function q_(f){D(f.g,function(v,E){this.g.hasOwnProperty(E)&&St(v)},f),f.g={}}vl.prototype.N=function(){vl.aa.N.call(this),q_(this)},vl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xp=o.JSON.stringify,bM=o.JSON.parse,EM=class{stringify(f){return o.JSON.stringify(f,void 0)}parse(f){return o.JSON.parse(f,void 0)}};function _p(){}_p.prototype.h=null;function Y_(f){return f.h||(f.h=f.i())}function Q_(){}var yl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bp(){ne.call(this,"d")}g(bp,ne);function Ep(){ne.call(this,"c")}g(Ep,ne);var Ls={},X_=null;function $c(){return X_=X_||new Ve}Ls.La="serverreachability";function J_(f){ne.call(this,Ls.La,f)}g(J_,ne);function wl(f){const v=$c();ut(v,new J_(v))}Ls.STAT_EVENT="statevent";function Z_(f,v){ne.call(this,Ls.STAT_EVENT,f),this.stat=v}g(Z_,ne);function nn(f){const v=$c();ut(v,new Z_(v,f))}Ls.Ma="timingevent";function eb(f,v){ne.call(this,Ls.Ma,f),this.size=v}g(eb,ne);function xl(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){f()},v)}function _l(){this.g=!0}_l.prototype.xa=function(){this.g=!1};function SM(f,v,E,j,$,U){f.info(function(){if(f.g)if(U)for(var ee="",Me=U.split("&"),Nt=0;Nt<Me.length;Nt++){var Te=Me[Nt].split("=");if(1<Te.length){var Wt=Te[0];Te=Te[1];var Ht=Wt.split("_");ee=2<=Ht.length&&Ht[1]=="type"?ee+(Wt+"="+Te+"&"):ee+(Wt+"=redacted&")}}else ee=null;else ee=U;return"XMLHTTP REQ ("+j+") [attempt "+$+"]: "+v+`
`+E+`
`+ee})}function AM(f,v,E,j,$,U,ee){f.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+$+"]: "+v+`
`+E+`
`+U+" "+ee})}function Ba(f,v,E,j){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+TM(f,E)+(j?" "+j:"")})}function PM(f,v){f.info(function(){return"TIMEOUT: "+v})}_l.prototype.info=function(){};function TM(f,v){if(!f.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var j=E[f];if(!(2>j.length)){var $=j[1];if(Array.isArray($)&&!(1>$.length)){var U=$[0];if(U!="noop"&&U!="stop"&&U!="close")for(var ee=1;ee<$.length;ee++)$[ee]=""}}}}return xp(E)}catch{return v}}var Vc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},tb={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sp;function Fc(){}g(Fc,_p),Fc.prototype.g=function(){return new XMLHttpRequest},Fc.prototype.i=function(){return{}},Sp=new Fc;function Li(f,v,E,j){this.j=f,this.i=v,this.l=E,this.R=j||1,this.U=new vl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nb}function nb(){this.i=null,this.g="",this.h=!1}var rb={},Ap={};function Pp(f,v,E){f.L=1,f.v=Wc(Xr(v)),f.m=E,f.P=!0,ib(f,null)}function ib(f,v){f.F=Date.now(),Bc(f),f.A=Xr(f.v);var E=f.A,j=f.R;Array.isArray(j)||(j=[String(j)]),yb(E.i,"t",j),f.C=0,E=f.j.J,f.h=new nb,f.g=Mb(f.j,E?v:null,!f.m),0<f.O&&(f.M=new _M(h(f.Y,f,f.g),f.O)),v=f.U,E=f.g,j=f.ca;var $="readystatechange";Array.isArray($)||($&&(G_[0]=$.toString()),$=G_);for(var U=0;U<$.length;U++){var ee=De(E,$[U],j||v.handleEvent,!1,v.h||v);if(!ee)break;v.g[ee.key]=ee}v=f.H?A(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),wl(),SM(f.i,f.u,f.A,f.l,f.R,f.m)}Li.prototype.ca=function(f){f=f.target;const v=this.M;v&&Jr(f)==3?v.j():this.Y(f)},Li.prototype.Y=function(f){try{if(f==this.g)e:{const Ht=Jr(this.g);var v=this.g.Ba();const Wa=this.g.Z();if(!(3>Ht)&&(Ht!=3||this.g&&(this.h.h||this.g.oa()||Ab(this.g)))){this.J||Ht!=4||v==7||(v==8||0>=Wa?wl(3):wl(2)),Tp(this);var E=this.g.Z();this.X=E;t:if(sb(this)){var j=Ab(this.g);f="";var $=j.length,U=Jr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$s(this),bl(this);var ee="";break t}this.h.i=new o.TextDecoder}for(v=0;v<$;v++)this.h.h=!0,f+=this.h.i.decode(j[v],{stream:!(U&&v==$-1)});j.length=0,this.h.g+=f,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=E==200,AM(this.i,this.u,this.A,this.l,this.R,Ht,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,Nt=this.g;if((Me=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(Me)){var Te=Me;break t}}Te=null}if(E=Te)Ba(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ip(this,E);else{this.o=!1,this.s=3,nn(12),$s(this),bl(this);break e}}if(this.P){E=!0;let cr;for(;!this.J&&this.C<ee.length;)if(cr=IM(this,ee),cr==Ap){Ht==4&&(this.s=4,nn(14),E=!1),Ba(this.i,this.l,null,"[Incomplete Response]");break}else if(cr==rb){this.s=4,nn(15),Ba(this.i,this.l,ee,"[Invalid Chunk]"),E=!1;break}else Ba(this.i,this.l,cr,null),Ip(this,cr);if(sb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||ee.length!=0||this.h.h||(this.s=1,nn(16),E=!1),this.o=this.o&&E,!E)Ba(this.i,this.l,ee,"[Invalid Chunked Response]"),$s(this),bl(this);else if(0<ee.length&&!this.W){this.W=!0;var Wt=this.j;Wt.g==this&&Wt.ba&&!Wt.M&&(Wt.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),Rp(Wt),Wt.M=!0,nn(11))}}else Ba(this.i,this.l,ee,null),Ip(this,ee);Ht==4&&$s(this),this.o&&!this.J&&(Ht==4?Ob(this.j,this):(this.o=!1,Bc(this)))}else HM(this.g),E==400&&0<ee.indexOf("Unknown SID")?(this.s=3,nn(12)):(this.s=0,nn(13)),$s(this),bl(this)}}}catch{}finally{}};function sb(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function IM(f,v){var E=f.C,j=v.indexOf(`
`,E);return j==-1?Ap:(E=Number(v.substring(E,j)),isNaN(E)?rb:(j+=1,j+E>v.length?Ap:(v=v.slice(j,j+E),f.C=j+E,v)))}Li.prototype.cancel=function(){this.J=!0,$s(this)};function Bc(f){f.S=Date.now()+f.I,ab(f,f.I)}function ab(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=xl(h(f.ba,f),v)}function Tp(f){f.B&&(o.clearTimeout(f.B),f.B=null)}Li.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(PM(this.i,this.A),this.L!=2&&(wl(),nn(17)),$s(this),this.s=2,bl(this)):ab(this,this.S-f)};function bl(f){f.j.G==0||f.J||Ob(f.j,f)}function $s(f){Tp(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,q_(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function Ip(f,v){try{var E=f.j;if(E.G!=0&&(E.g==f||kp(E.h,f))){if(!f.K&&kp(E.h,f)&&E.G==3){try{var j=E.Da.g.parse(v)}catch{j=null}if(Array.isArray(j)&&j.length==3){var $=j;if($[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)Qc(E),qc(E);else break e;jp(E),nn(18)}}else E.za=$[1],0<E.za-E.T&&37500>$[2]&&E.F&&E.v==0&&!E.C&&(E.C=xl(h(E.Za,E),6e3));if(1>=ub(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Fs(E,11)}else if((f.K||E.g==f)&&Qc(E),!x(v))for($=E.Da.g.parse(v),v=0;v<$.length;v++){let Te=$[v];if(E.T=Te[0],Te=Te[1],E.G==2)if(Te[0]=="c"){E.K=Te[1],E.ia=Te[2];const Wt=Te[3];Wt!=null&&(E.la=Wt,E.j.info("VER="+E.la));const Ht=Te[4];Ht!=null&&(E.Aa=Ht,E.j.info("SVER="+E.Aa));const Wa=Te[5];Wa!=null&&typeof Wa=="number"&&0<Wa&&(j=1.5*Wa,E.L=j,E.j.info("backChannelRequestTimeoutMs_="+j)),j=E;const cr=f.g;if(cr){const Jc=cr.g?cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jc){var U=j.h;U.g||Jc.indexOf("spdy")==-1&&Jc.indexOf("quic")==-1&&Jc.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Cp(U,U.h),U.h=null))}if(j.D){const Dp=cr.g?cr.g.getResponseHeader("X-HTTP-Session-Id"):null;Dp&&(j.ya=Dp,Ue(j.I,j.D,Dp))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),j=E;var ee=f;if(j.qa=Db(j,j.J?j.ia:null,j.W),ee.K){cb(j.h,ee);var Me=ee,Nt=j.L;Nt&&(Me.I=Nt),Me.B&&(Tp(Me),Bc(Me)),j.g=ee}else Cb(j);0<E.i.length&&Yc(E)}else Te[0]!="stop"&&Te[0]!="close"||Fs(E,7);else E.G==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?Fs(E,7):Op(E):Te[0]!="noop"&&E.l&&E.l.ta(Te),E.v=0)}}wl(4)}catch{}}var kM=class{constructor(f,v){this.g=f,this.map=v}};function ob(f){this.l=f||10,o.PerformanceNavigationTiming?(f=o.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function lb(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function ub(f){return f.h?1:f.g?f.g.size:0}function kp(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function Cp(f,v){f.g?f.g.add(v):f.h=v}function cb(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}ob.prototype.cancel=function(){if(this.i=db(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function db(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const E of f.g.values())v=v.concat(E.D);return v}return y(f.i)}function CM(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var v=[],E=f.length,j=0;j<E;j++)v.push(f[j]);return v}v=[],E=0;for(j in f)v[E++]=f[j];return v}function NM(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var v=[];f=f.length;for(var E=0;E<f;E++)v.push(E);return v}v=[],E=0;for(const j in f)v[E++]=j;return v}}}function fb(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var E=NM(f),j=CM(f),$=j.length,U=0;U<$;U++)v.call(void 0,j[U],E&&E[U],f)}var hb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function OM(f,v){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var j=f[E].indexOf("="),$=null;if(0<=j){var U=f[E].substring(0,j);$=f[E].substring(j+1)}else U=f[E];v(U,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Vs(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Vs){this.h=f.h,Uc(this,f.j),this.o=f.o,this.g=f.g,zc(this,f.s),this.l=f.l;var v=f.i,E=new Al;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),mb(this,E),this.m=f.m}else f&&(v=String(f).match(hb))?(this.h=!1,Uc(this,v[1]||"",!0),this.o=El(v[2]||""),this.g=El(v[3]||"",!0),zc(this,v[4]),this.l=El(v[5]||"",!0),mb(this,v[6]||"",!0),this.m=El(v[7]||"")):(this.h=!1,this.i=new Al(null,this.h))}Vs.prototype.toString=function(){var f=[],v=this.j;v&&f.push(Sl(v,pb,!0),":");var E=this.g;return(E||v=="file")&&(f.push("//"),(v=this.o)&&f.push(Sl(v,pb,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(Sl(E,E.charAt(0)=="/"?DM:RM,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",Sl(E,LM)),f.join("")};function Xr(f){return new Vs(f)}function Uc(f,v,E){f.j=E?El(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function zc(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function mb(f,v,E){v instanceof Al?(f.i=v,$M(f.i,f.h)):(E||(v=Sl(v,MM)),f.i=new Al(v,f.h))}function Ue(f,v,E){f.i.set(v,E)}function Wc(f){return Ue(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function El(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Sl(f,v,E){return typeof f=="string"?(f=encodeURI(f).replace(v,jM),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function jM(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var pb=/[#\/\?@]/g,RM=/[#\?:]/g,DM=/[#\?]/g,MM=/[#\?@]/g,LM=/#/g;function Al(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function $i(f){f.g||(f.g=new Map,f.h=0,f.i&&OM(f.i,function(v,E){f.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}t=Al.prototype,t.add=function(f,v){$i(this),this.i=null,f=Ua(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(v),this.h+=1,this};function gb(f,v){$i(f),v=Ua(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function vb(f,v){return $i(f),v=Ua(f,v),f.g.has(v)}t.forEach=function(f,v){$i(this),this.g.forEach(function(E,j){E.forEach(function($){f.call(v,$,j,this)},this)},this)},t.na=function(){$i(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let j=0;j<v.length;j++){const $=f[j];for(let U=0;U<$.length;U++)E.push(v[j])}return E},t.V=function(f){$i(this);let v=[];if(typeof f=="string")vb(this,f)&&(v=v.concat(this.g.get(Ua(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)v=v.concat(f[E])}return v},t.set=function(f,v){return $i(this),this.i=null,f=Ua(this,f),vb(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},t.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function yb(f,v,E){gb(f,v),0<E.length&&(f.i=null,f.g.set(Ua(f,v),y(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var j=v[E];const U=encodeURIComponent(String(j)),ee=this.V(j);for(j=0;j<ee.length;j++){var $=U;ee[j]!==""&&($+="="+encodeURIComponent(String(ee[j]))),f.push($)}}return this.i=f.join("&")};function Ua(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function $M(f,v){v&&!f.j&&($i(f),f.i=null,f.g.forEach(function(E,j){var $=j.toLowerCase();j!=$&&(gb(this,j),yb(this,$,E))},f)),f.j=v}function VM(f,v){const E=new _l;if(o.Image){const j=new Image;j.onload=p(Vi,E,"TestLoadImage: loaded",!0,v,j),j.onerror=p(Vi,E,"TestLoadImage: error",!1,v,j),j.onabort=p(Vi,E,"TestLoadImage: abort",!1,v,j),j.ontimeout=p(Vi,E,"TestLoadImage: timeout",!1,v,j),o.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=f}else v(!1)}function FM(f,v){const E=new _l,j=new AbortController,$=setTimeout(()=>{j.abort(),Vi(E,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:j.signal}).then(U=>{clearTimeout($),U.ok?Vi(E,"TestPingServer: ok",!0,v):Vi(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout($),Vi(E,"TestPingServer: error",!1,v)})}function Vi(f,v,E,j,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),j(E)}catch{}}function BM(){this.g=new EM}function UM(f,v,E){const j=E||"";try{fb(f,function($,U){let ee=$;u($)&&(ee=xp($)),v.push(j+U+"="+encodeURIComponent(ee))})}catch($){throw v.push(j+"type="+encodeURIComponent("_badmap")),$}}function Hc(f){this.l=f.Ub||null,this.j=f.eb||!1}g(Hc,_p),Hc.prototype.g=function(){return new Kc(this.l,this.j)},Hc.prototype.i=function(f){return function(){return f}}({});function Kc(f,v){Ve.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Kc,Ve),t=Kc.prototype,t.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,Tl(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||o).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pl(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Tl(this)),this.g&&(this.readyState=3,Tl(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wb(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function wb(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?Pl(this):Tl(this),this.readyState==3&&wb(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Pl(this))},t.Qa=function(f){this.g&&(this.response=f,Pl(this))},t.ga=function(){this.g&&Pl(this)};function Pl(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Tl(f)}t.setRequestHeader=function(f,v){this.u.append(f,v)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=v.next();return f.join(`\r
`)};function Tl(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Kc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function xb(f){let v="";return D(f,function(E,j){v+=j,v+=":",v+=E,v+=`\r
`}),v}function Np(f,v,E){e:{for(j in E){var j=!1;break e}j=!0}j||(E=xb(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):Ue(f,v,E))}function nt(f){Ve.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(nt,Ve);var zM=/^https?$/i,WM=["POST","PUT"];t=nt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,v,E,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sp.g(),this.v=this.o?Y_(this.o):Y_(Sp),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(U){_b(this,U);return}if(f=E||"",E=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var $ in j)E.set($,j[$]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const U of j.keys())E.set(U,j.get(U));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(E.keys()).find(U=>U.toLowerCase()=="content-type"),$=o.FormData&&f instanceof o.FormData,!(0<=Array.prototype.indexOf.call(WM,v,void 0))||j||$||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,ee]of E)this.g.setRequestHeader(U,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Sb(this),this.u=!0,this.g.send(f),this.u=!1}catch(U){_b(this,U)}};function _b(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,bb(f),Gc(f)}function bb(f){f.A||(f.A=!0,ut(f,"complete"),ut(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,ut(this,"complete"),ut(this,"abort"),Gc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gc(this,!0)),nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Eb(this):this.bb())},t.bb=function(){Eb(this)};function Eb(f){if(f.h&&typeof a<"u"&&(!f.v[1]||Jr(f)!=4||f.Z()!=2)){if(f.u&&Jr(f)==4)H_(f.Ea,0,f);else if(ut(f,"readystatechange"),Jr(f)==4){f.h=!1;try{const ee=f.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var j;if(j=ee===0){var $=String(f.D).match(hb)[1]||null;!$&&o.self&&o.self.location&&($=o.self.location.protocol.slice(0,-1)),j=!zM.test($?$.toLowerCase():"")}E=j}if(E)ut(f,"complete"),ut(f,"success");else{f.m=6;try{var U=2<Jr(f)?f.g.statusText:""}catch{U=""}f.l=U+" ["+f.Z()+"]",bb(f)}}finally{Gc(f)}}}}function Gc(f,v){if(f.g){Sb(f);const E=f.g,j=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||ut(f,"ready");try{E.onreadystatechange=j}catch{}}}function Sb(f){f.I&&(o.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Jr(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Jr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),bM(v)}};function Ab(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function HM(f){const v={};f=(f.g&&2<=Jr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<f.length;j++){if(x(f[j]))continue;var E=O(f[j]);const $=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const U=v[$]||[];v[$]=U,U.push(E)}I(v,function(j){return j.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Il(f,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||v}function Pb(f){this.Aa=0,this.i=[],this.j=new _l,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Il("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Il("baseRetryDelayMs",5e3,f),this.cb=Il("retryDelaySeedMs",1e4,f),this.Wa=Il("forwardChannelMaxRetries",2,f),this.wa=Il("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ob(f&&f.concurrentRequestLimit),this.Da=new BM,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Pb.prototype,t.la=8,t.G=1,t.connect=function(f,v,E,j){nn(0),this.W=f,this.H=v||{},E&&j!==void 0&&(this.H.OSID=E,this.H.OAID=j),this.F=this.X,this.I=Db(this,null,this.W),Yc(this)};function Op(f){if(Tb(f),f.G==3){var v=f.U++,E=Xr(f.I);if(Ue(E,"SID",f.K),Ue(E,"RID",v),Ue(E,"TYPE","terminate"),kl(f,E),v=new Li(f,f.j,v),v.L=2,v.v=Wc(Xr(E)),E=!1,o.navigator&&o.navigator.sendBeacon)try{E=o.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&o.Image&&(new Image().src=v.v,E=!0),E||(v.g=Mb(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Bc(v)}Rb(f)}function qc(f){f.g&&(Rp(f),f.g.cancel(),f.g=null)}function Tb(f){qc(f),f.u&&(o.clearTimeout(f.u),f.u=null),Qc(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&o.clearTimeout(f.s),f.s=null)}function Yc(f){if(!lb(f.h)&&!f.s){f.s=!0;var v=f.Ga;J||te(),z||(J(),z=!0),Z.add(v,f),f.B=0}}function KM(f,v){return ub(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=xl(h(f.Ga,f,v),jb(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const $=new Li(this,this.j,f);let U=this.o;if(this.S&&(U?(U=A(U),T(U,this.S)):U=this.S),this.m!==null||this.O||($.H=U,U=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var j=this.i[E];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(v+=j,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=kb(this,$,v),E=Xr(this.I),Ue(E,"RID",f),Ue(E,"CVER",22),this.D&&Ue(E,"X-HTTP-Session-Id",this.D),kl(this,E),U&&(this.O?v="headers="+encodeURIComponent(String(xb(U)))+"&"+v:this.m&&Np(E,this.m,U)),Cp(this.h,$),this.Ua&&Ue(E,"TYPE","init"),this.P?(Ue(E,"$req",v),Ue(E,"SID","null"),$.T=!0,Pp($,E,null)):Pp($,E,v),this.G=2}}else this.G==3&&(f?Ib(this,f):this.i.length==0||lb(this.h)||Ib(this))};function Ib(f,v){var E;v?E=v.l:E=f.U++;const j=Xr(f.I);Ue(j,"SID",f.K),Ue(j,"RID",E),Ue(j,"AID",f.T),kl(f,j),f.m&&f.o&&Np(j,f.m,f.o),E=new Li(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),v&&(f.i=v.D.concat(f.i)),v=kb(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Cp(f.h,E),Pp(E,j,v)}function kl(f,v){f.H&&D(f.H,function(E,j){Ue(v,j,E)}),f.l&&fb({},function(E,j){Ue(v,j,E)})}function kb(f,v,E){E=Math.min(f.i.length,E);var j=f.l?h(f.l.Na,f.l,f):null;e:{var $=f.i;let U=-1;for(;;){const ee=["count="+E];U==-1?0<E?(U=$[0].g,ee.push("ofs="+U)):U=0:ee.push("ofs="+U);let Me=!0;for(let Nt=0;Nt<E;Nt++){let Te=$[Nt].g;const Wt=$[Nt].map;if(Te-=U,0>Te)U=Math.max(0,$[Nt].g-100),Me=!1;else try{UM(Wt,ee,"req"+Te+"_")}catch{j&&j(Wt)}}if(Me){j=ee.join("&");break e}}}return f=f.i.splice(0,E),v.D=f,j}function Cb(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;J||te(),z||(J(),z=!0),Z.add(v,f),f.v=0}}function jp(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=xl(h(f.Fa,f),jb(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Nb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=xl(h(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nn(10),qc(this),Nb(this))};function Rp(f){f.A!=null&&(o.clearTimeout(f.A),f.A=null)}function Nb(f){f.g=new Li(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=Xr(f.qa);Ue(v,"RID","rpc"),Ue(v,"SID",f.K),Ue(v,"AID",f.T),Ue(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&Ue(v,"TO",f.ja),Ue(v,"TYPE","xmlhttp"),kl(f,v),f.m&&f.o&&Np(v,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=Wc(Xr(v)),E.m=null,E.P=!0,ib(E,f)}t.Za=function(){this.C!=null&&(this.C=null,qc(this),jp(this),nn(19))};function Qc(f){f.C!=null&&(o.clearTimeout(f.C),f.C=null)}function Ob(f,v){var E=null;if(f.g==v){Qc(f),Rp(f),f.g=null;var j=2}else if(kp(f.h,v))E=v.D,cb(f.h,v),j=1;else return;if(f.G!=0){if(v.o)if(j==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var $=f.B;j=$c(),ut(j,new eb(j,E)),Yc(f)}else Cb(f);else if($=v.s,$==3||$==0&&0<v.X||!(j==1&&KM(f,v)||j==2&&jp(f)))switch(E&&0<E.length&&(v=f.h,v.i=v.i.concat(E)),$){case 1:Fs(f,5);break;case 4:Fs(f,10);break;case 3:Fs(f,6);break;default:Fs(f,2)}}}function jb(f,v){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*v}function Fs(f,v){if(f.j.info("Error code "+v),v==2){var E=h(f.fb,f),j=f.Xa;const $=!j;j=new Vs(j||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Uc(j,"https"),Wc(j),$?VM(j.toString(),E):FM(j.toString(),E)}else nn(2);f.G=0,f.l&&f.l.sa(v),Rb(f),Tb(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),nn(2)):(this.j.info("Failed to ping google.com"),nn(1))};function Rb(f){if(f.G=0,f.ka=[],f.l){const v=db(f.h);(v.length!=0||f.i.length!=0)&&(b(f.ka,v),b(f.ka,f.i),f.h.i.length=0,y(f.i),f.i.length=0),f.l.ra()}}function Db(f,v,E){var j=E instanceof Vs?Xr(E):new Vs(E);if(j.g!="")v&&(j.g=v+"."+j.g),zc(j,j.s);else{var $=o.location;j=$.protocol,v=v?v+"."+$.hostname:$.hostname,$=+$.port;var U=new Vs(null);j&&Uc(U,j),v&&(U.g=v),$&&zc(U,$),E&&(U.l=E),j=U}return E=f.D,v=f.ya,E&&v&&Ue(j,E,v),Ue(j,"VER",f.la),kl(f,j),j}function Mb(f,v,E){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new nt(new Hc({eb:E})):new nt(f.pa),v.Ha(f.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lb(){}t=Lb.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Xc(){}Xc.prototype.g=function(f,v){return new En(f,v)};function En(f,v){Ve.call(this),this.g=new Pb(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!x(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!x(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new za(this)}g(En,Ve),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Op(this.g)},En.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=xp(f),f=E);v.i.push(new kM(v.Ya++,f)),v.G==3&&Yc(v)},En.prototype.N=function(){this.g.l=null,delete this.j,Op(this.g),delete this.g,En.aa.N.call(this)};function $b(f){bp.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const E in v){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}g($b,bp);function Vb(){Ep.call(this),this.status=1}g(Vb,Ep);function za(f){this.g=f}g(za,Lb),za.prototype.ua=function(){ut(this.g,"a")},za.prototype.ta=function(f){ut(this.g,new $b(f))},za.prototype.sa=function(f){ut(this.g,new Vb)},za.prototype.ra=function(){ut(this.g,"b")},Xc.prototype.createWebChannel=Xc.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,bC=function(){return new Xc},_C=function(){return $c()},xC=Ls,Qv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vc.NO_ERROR=0,Vc.TIMEOUT=8,Vc.HTTP_ERROR=6,ef=Vc,tb.COMPLETE="complete",wC=tb,Q_.EventType=yl,yl.OPEN="a",yl.CLOSE="b",yl.ERROR="c",yl.MESSAGE="d",Ve.prototype.listen=Ve.prototype.K,Jl=Q_,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,yC=nt}).apply(typeof vd<"u"?vd:typeof self<"u"?self:typeof window<"u"?window:{});const TE="@firebase/firestore",IE="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let il="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new ow("@firebase/firestore");function qa(){return _a.logLevel}function ie(t,...e){if(_a.logLevel<=_e.DEBUG){const n=e.map(xw);_a.debug(`Firestore (${il}): ${t}`,...n)}}function Ei(t,...e){if(_a.logLevel<=_e.ERROR){const n=e.map(xw);_a.error(`Firestore (${il}): ${t}`,...n)}}function $o(t,...e){if(_a.logLevel<=_e.WARN){const n=e.map(xw);_a.warn(`Firestore (${il}): ${t}`,...n)}}function xw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,EC(t,r,n)}function EC(t,e,n){let r=`FIRESTORE (${il}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ei(r),new Error(r)}function ke(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||EC(e,i,r)}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Ni{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class I5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qt.UNAUTHENTICATED))}shutdown(){}}class k5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class C5{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ke(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ms;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ms,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ms)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke(typeof r.accessToken=="string",31837,{l:r}),new SC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string",2055,{h:e}),new Qt(e)}}class N5{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class O5{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new N5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class j5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ke(this.o===void 0,3512);const r=s=>{s.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,ie("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new kE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new kE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=R5(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function be(t,e){return t<e?-1:t>e?1:0}function Xv(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return gg(i)===gg(s)?be(i,s):gg(i)?1:-1}return be(t.length,e.length)}const D5=55296,M5=57343;function gg(t){const e=t.charCodeAt(0);return e>=D5&&e<=M5}function Vo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="__name__";class Cr{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&he(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Cr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Cr.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return be(e.length,n.length)}static compareSegments(e,n){const r=Cr.isNumericId(e),i=Cr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Cr.extractNumericId(e).compare(Cr.extractNumericId(n)):Xv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hs.fromString(e.substring(4,e.length-2))}}class Xe extends Cr{construct(e,n,r){return new Xe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Xe(n)}static emptyPath(){return new Xe([])}}const L5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mt extends Cr{construct(e,n,r){return new Mt(e,n,r)}static isValidIdentifier(e){return L5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===CE}static keyField(){return new Mt([CE])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new le(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new le(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new le(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new le(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mt(n)}static emptyPath(){return new Mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(Xe.fromString(e))}static fromName(e){return new fe(Xe.fromString(e).popFirst(5))}static empty(){return new fe(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new Xe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(t,e,n){if(!n)throw new le(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function V5(t,e,n,r){if(e===!0&&r===!0)throw new le(Q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function NE(t){if(!fe.isDocumentKey(t))throw new le(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function AC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function bw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he(12329,{type:typeof t})}function ps(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bw(t);throw new le(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t,e){const n={typeString:t};return e&&(n.value=e),n}function yc(t,e){if(!AC(t))throw new le(Q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new le(Q.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=-62135596800,jE=1e6;class He{static now(){return He.fromMillis(Date.now())}static fromDate(e){return He.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*jE);return new He(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<OE)throw new le(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jE}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:He._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yc(e,He._jsonSchema))return new He(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-OE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}He._jsonSchemaVersion="firestore/timestamp/1.0",He._jsonSchema={type:ft("string",He._jsonSchemaVersion),seconds:ft("number"),nanoseconds:ft("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{static fromTimestamp(e){return new me(e)}static min(){return new me(new He(0,0))}static max(){return new me(new He(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=-1;function F5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=me.fromTimestamp(r===1e9?new He(n+1,0):new He(n,r));return new xs(i,fe.empty(),e)}function B5(t){return new xs(t.readTime,t.key,Uu)}class xs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xs(me.min(),fe.empty(),Uu)}static max(){return new xs(me.max(),fe.empty(),Uu)}}function U5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class W5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sl(t){if(t.code!==Q.FAILED_PRECONDITION||t.message!==z5)throw t;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,r)=>{n(e)})}static reject(e){return new q((n,r)=>{r(e)})}static waitFor(e){return new q((n,r)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&n()},l=>r(l))}),a=!0,s===i&&n()})}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next(i=>i?q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new q((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{a[u]=c,++o,o===s&&r(a)},c=>i(c))}})}static doWhile(e,n){return new q((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function H5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function al(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}rm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=-1;function im(t){return t==null}function Ff(t){return t===0&&1/t==-1/0}function K5(t){return typeof t=="number"&&Number.isInteger(t)&&!Ff(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="";function G5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=RE(e)),e=q5(t.get(n),e);return RE(e)}function q5(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case PC:n+="";break;default:n+=s}}return n}function RE(t){return t+PC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Oa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yd(this.root,e,this.comparator,!1)}getReverseIterator(){return new yd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yd(this.root,e,this.comparator,!0)}}class yd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Rt.RED,this.left=i??Rt.EMPTY,this.right=s??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Rt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Rt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw he(43730,{key:this.key,value:this.value});if(this.right.isRed())throw he(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw he(27949);return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1;Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw he(57766)}get value(){throw he(16141)}get color(){throw he(16727)}get left(){throw he(29726)}get right(){throw he(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ME(this.data.getIterator())}getIteratorFrom(e){return new ME(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class ME{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.fields=e,e.sort(Mt.comparator)}static empty(){return new xr([])}unionWith(e){let n=new xt(Mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new xr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new IC("Invalid base64 string: "+s):s}}(e);return new Bt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const Y5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(t){if(ke(!!t,39018),typeof t=="string"){let e=0;const n=Y5.exec(t);if(ke(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:st(t.seconds),nanos:st(t.nanos)}}function st(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function bs(t){return typeof t=="string"?Bt.fromBase64String(t):Bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="server_timestamp",CC="__type__",NC="__previous_value__",OC="__local_write_time__";function Sw(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[CC])==null?void 0:r.stringValue)===kC}function sm(t){const e=t.mapValue.fields[NC];return Sw(e)?sm(e):e}function zu(t){const e=_s(t.mapValue.fields[OC].timestampValue);return new He(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e,n,r,i,s,a,o,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const Bf="(default)";class Wu{constructor(e,n){this.projectId=e,this.database=n||Bf}static empty(){return new Wu("","")}get isDefaultDatabase(){return this.database===Bf}isEqual(e){return e instanceof Wu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="__type__",X5="__max__",wd={mapValue:{}},RC="__vector__",Uf="value";function Es(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Sw(t)?4:Z5(t)?9007199254740991:J5(t)?10:11:he(28295,{value:t})}function Ur(t,e){if(t===e)return!0;const n=Es(t);if(n!==Es(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zu(t).isEqual(zu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=_s(i.timestampValue),o=_s(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return bs(i.bytesValue).isEqual(bs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return st(i.geoPointValue.latitude)===st(s.geoPointValue.latitude)&&st(i.geoPointValue.longitude)===st(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return st(i.integerValue)===st(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=st(i.doubleValue),o=st(s.doubleValue);return a===o?Ff(a)===Ff(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return Vo(t.arrayValue.values||[],e.arrayValue.values||[],Ur);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(DE(a)!==DE(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Ur(a[l],o[l])))return!1;return!0}(t,e);default:return he(52216,{left:t})}}function Hu(t,e){return(t.values||[]).find(n=>Ur(n,e))!==void 0}function Fo(t,e){if(t===e)return 0;const n=Es(t),r=Es(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=st(s.integerValue||s.doubleValue),l=st(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return LE(t.timestampValue,e.timestampValue);case 4:return LE(zu(t),zu(e));case 5:return Xv(t.stringValue,e.stringValue);case 6:return function(s,a){const o=bs(s),l=bs(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let u=0;u<o.length&&u<l.length;u++){const c=be(o[u],l[u]);if(c!==0)return c}return be(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=be(st(s.latitude),st(a.latitude));return o!==0?o:be(st(s.longitude),st(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return $E(t.arrayValue,e.arrayValue);case 10:return function(s,a){var h,p,g,y;const o=s.fields||{},l=a.fields||{},u=(h=o[Uf])==null?void 0:h.arrayValue,c=(p=l[Uf])==null?void 0:p.arrayValue,d=be(((g=u==null?void 0:u.values)==null?void 0:g.length)||0,((y=c==null?void 0:c.values)==null?void 0:y.length)||0);return d!==0?d:$E(u,c)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===wd.mapValue&&a===wd.mapValue)return 0;if(s===wd.mapValue)return 1;if(a===wd.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),u=a.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=Xv(l[d],c[d]);if(h!==0)return h;const p=Fo(o[l[d]],u[c[d]]);if(p!==0)return p}return be(l.length,c.length)}(t.mapValue,e.mapValue);default:throw he(23264,{he:n})}}function LE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=_s(t),r=_s(e),i=be(n.seconds,r.seconds);return i!==0?i:be(n.nanos,r.nanos)}function $E(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Fo(n[i],r[i]);if(s)return s}return be(n.length,r.length)}function Bo(t){return Jv(t)}function Jv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=_s(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return bs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return fe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Jv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${Jv(n.fields[a])}`;return i+"}"}(t.mapValue):he(61005,{value:t})}function tf(t){switch(Es(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sm(t);return e?16+tf(e):16;case 5:return 2*t.stringValue.length;case 6:return bs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+tf(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Oa(r.fields,(s,a)=>{i+=s.length+tf(a)}),i}(t.mapValue);default:throw he(13486,{value:t})}}function Zv(t){return!!t&&"integerValue"in t}function Aw(t){return!!t&&"arrayValue"in t}function VE(t){return!!t&&"nullValue"in t}function FE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nf(t){return!!t&&"mapValue"in t}function J5(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[jC])==null?void 0:r.stringValue)===RC}function pu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Oa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=pu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pu(t.arrayValue.values[n]);return e}return{...t}}function Z5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===X5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.value=e}static empty(){return new Xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!nf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pu(n)}setAll(e){let n=Mt.emptyPath(),r={},i=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=pu(a):i.push(o.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());nf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ur(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];nf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Oa(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Xn(pu(this.value))}}function DC(t){const e=[];return Oa(t.fields,(n,r)=>{const i=new Mt([n]);if(nf(r)){const s=DC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new xr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Jt(e,0,me.min(),me.min(),me.min(),Xn.empty(),0)}static newFoundDocument(e,n,r,i){return new Jt(e,1,n,me.min(),r,i,0)}static newNoDocument(e,n){return new Jt(e,2,n,me.min(),me.min(),Xn.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,me.min(),me.min(),Xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,n){this.position=e,this.inclusive=n}}function BE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=fe.comparator(fe.fromName(a.referenceValue),n.key):r=Fo(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function UE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ur(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,n="asc"){this.field=e,this.dir=n}}function eF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{}class vt extends MC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new nF(e,n,r):n==="array-contains"?new sF(e,r):n==="in"?new aF(e,r):n==="not-in"?new oF(e,r):n==="array-contains-any"?new lF(e,r):new vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new rF(e,r):new iF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Fo(n,this.value)):n!==null&&Es(this.value)===Es(n)&&this.matchesComparison(Fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zr extends MC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new zr(e,n)}matches(e){return LC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function LC(t){return t.op==="and"}function $C(t){return tF(t)&&LC(t)}function tF(t){for(const e of t.filters)if(e instanceof zr)return!1;return!0}function ey(t){if(t instanceof vt)return t.field.canonicalString()+t.op.toString()+Bo(t.value);if($C(t))return t.filters.map(e=>ey(e)).join(",");{const e=t.filters.map(n=>ey(n)).join(",");return`${t.op}(${e})`}}function VC(t,e){return t instanceof vt?function(r,i){return i instanceof vt&&r.op===i.op&&r.field.isEqual(i.field)&&Ur(r.value,i.value)}(t,e):t instanceof zr?function(r,i){return i instanceof zr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,o)=>s&&VC(a,i.filters[o]),!0):!1}(t,e):void he(19439)}function FC(t){return t instanceof vt?function(n){return`${n.field.canonicalString()} ${n.op} ${Bo(n.value)}`}(t):t instanceof zr?function(n){return n.op.toString()+" {"+n.getFilters().map(FC).join(" ,")+"}"}(t):"Filter"}class nF extends vt{constructor(e,n,r){super(e,n,r),this.key=fe.fromName(r.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class rF extends vt{constructor(e,n){super(e,"in",n),this.keys=BC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class iF extends vt{constructor(e,n){super(e,"not-in",n),this.keys=BC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function BC(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>fe.fromName(r.referenceValue))}class sF extends vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Aw(n)&&Hu(n.arrayValue,this.value)}}class aF extends vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hu(this.value.arrayValue,n)}}class oF extends vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Hu(this.value.arrayValue,n)}}class lF extends vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Aw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Hu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Te=null}}function zE(t,e=null,n=[],r=[],i=null,s=null,a=null){return new uF(t,e,n,r,i,s,a)}function Pw(t){const e=pe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ey(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),im(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Bo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Bo(r)).join(",")),e.Te=n}return e.Te}function Tw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!eF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!VC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!UE(t.startAt,e.startAt)&&UE(t.endAt,e.endAt)}function ty(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function cF(t,e,n,r,i,s,a,o){return new am(t,e,n,r,i,s,a,o)}function om(t){return new am(t)}function WE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dF(t){return t.collectionGroup!==null}function gu(t){const e=pe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new xt(Mt.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Wf(s,r))}),n.has(Mt.keyField().canonicalString())||e.Ie.push(new Wf(Mt.keyField(),r))}return e.Ie}function Lr(t){const e=pe(t);return e.Ee||(e.Ee=fF(e,gu(t))),e.Ee}function fF(t,e){if(t.limitType==="F")return zE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Wf(i.field,s)});const n=t.endAt?new zf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zf(t.startAt.position,t.startAt.inclusive):null;return zE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ny(t,e,n){return new am(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lm(t,e){return Tw(Lr(t),Lr(e))&&t.limitType===e.limitType}function UC(t){return`${Pw(Lr(t))}|lt:${t.limitType}`}function Ya(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>FC(i)).join(", ")}]`),im(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Bo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Bo(i)).join(",")),`Target(${r})`}(Lr(t))}; limitType=${t.limitType})`}function um(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):fe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of gu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,o,l){const u=BE(a,o,l);return a.inclusive?u<=0:u<0}(r.startAt,gu(r),i)||r.endAt&&!function(a,o,l){const u=BE(a,o,l);return a.inclusive?u>=0:u>0}(r.endAt,gu(r),i))}(t,e)}function hF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zC(t){return(e,n)=>{let r=!1;for(const i of gu(t)){const s=mF(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function mF(t,e,n){const r=t.field.isKeyField()?fe.comparator(e.key,n.key):function(s,a,o){const l=a.data.field(s),u=o.data.field(s);return l!==null&&u!==null?Fo(l,u):he(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Oa(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return TC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF=new et(fe.comparator);function Si(){return pF}const WC=new et(fe.comparator);function Zl(...t){let e=WC;for(const n of t)e=e.insert(n.key,n);return e}function HC(t){let e=WC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Zs(){return vu()}function KC(){return vu()}function vu(){return new ja(t=>t.toString(),(t,e)=>t.isEqual(e))}const gF=new et(fe.comparator),vF=new xt(fe.comparator);function Ee(...t){let e=vF;for(const n of t)e=e.add(n);return e}const yF=new xt(be);function wF(){return yF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ff(e)?"-0":e}}function GC(t){return{integerValue:""+t}}function xF(t,e){return K5(e)?GC(e):Iw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(){this._=void 0}}function _F(t,e,n){return t instanceof Hf?function(i,s){const a={fields:{[CC]:{stringValue:kC},[OC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Sw(s)&&(s=sm(s)),s&&(a.fields[NC]=s),{mapValue:a}}(n,e):t instanceof Ku?YC(t,e):t instanceof Gu?QC(t,e):function(i,s){const a=qC(i,s),o=HE(a)+HE(i.Ae);return Zv(a)&&Zv(i.Ae)?GC(o):Iw(i.serializer,o)}(t,e)}function bF(t,e,n){return t instanceof Ku?YC(t,e):t instanceof Gu?QC(t,e):n}function qC(t,e){return t instanceof Kf?function(r){return Zv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Hf extends cm{}class Ku extends cm{constructor(e){super(),this.elements=e}}function YC(t,e){const n=XC(e);for(const r of t.elements)n.some(i=>Ur(i,r))||n.push(r);return{arrayValue:{values:n}}}class Gu extends cm{constructor(e){super(),this.elements=e}}function QC(t,e){let n=XC(e);for(const r of t.elements)n=n.filter(i=>!Ur(i,r));return{arrayValue:{values:n}}}class Kf extends cm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function HE(t){return st(t.integerValue||t.doubleValue)}function XC(t){return Aw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function EF(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ku&&i instanceof Ku||r instanceof Gu&&i instanceof Gu?Vo(r.elements,i.elements,Ur):r instanceof Kf&&i instanceof Kf?Ur(r.Ae,i.Ae):r instanceof Hf&&i instanceof Hf}(t.transform,e.transform)}class SF{constructor(e,n){this.version=e,this.transformResults=n}}class hi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hi}static exists(e){return new hi(void 0,e)}static updateTime(e){return new hi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class dm{}function JC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new eN(t.key,hi.none()):new wc(t.key,t.data,hi.none());{const n=t.data,r=Xn.empty();let i=new xt(Mt.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Ra(t.key,r,new xr(i.toArray()),hi.none())}}function AF(t,e,n){t instanceof wc?function(i,s,a){const o=i.value.clone(),l=GE(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Ra?function(i,s,a){if(!rf(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=GE(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(ZC(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function yu(t,e,n,r){return t instanceof wc?function(s,a,o,l){if(!rf(s.precondition,a))return o;const u=s.value.clone(),c=qE(s.fieldTransforms,l,a);return u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ra?function(s,a,o,l){if(!rf(s.precondition,a))return o;const u=qE(s.fieldTransforms,l,a),c=a.data;return c.setAll(ZC(s)),c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,a,o){return rf(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,n)}function PF(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=qC(r.transform,i||null);s!=null&&(n===null&&(n=Xn.empty()),n.set(r.field,s))}return n||null}function KE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Vo(r,i,(s,a)=>EF(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wc extends dm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ra extends dm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ZC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function GE(t,e,n){const r=new Map;ke(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,bF(a,o,n[i]))}return r}function qE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,_F(s,a,e))}return r}class eN extends dm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TF extends dm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&AF(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=yu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=yu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=KC();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const l=JC(a,o);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&Vo(this.mutations,e.mutations,(n,r)=>KE(n,r))&&Vo(this.baseMutations,e.baseMutations,(n,r)=>KE(n,r))}}class kw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ke(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return gF}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new kw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,Ae;function NF(t){switch(t){case Q.OK:return he(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return he(15467,{code:t})}}function tN(t){if(t===void 0)return Ei("GRPC error has no .code"),Q.UNKNOWN;switch(t){case ct.OK:return Q.OK;case ct.CANCELLED:return Q.CANCELLED;case ct.UNKNOWN:return Q.UNKNOWN;case ct.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case ct.INTERNAL:return Q.INTERNAL;case ct.UNAVAILABLE:return Q.UNAVAILABLE;case ct.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case ct.NOT_FOUND:return Q.NOT_FOUND;case ct.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case ct.ABORTED:return Q.ABORTED;case ct.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case ct.DATA_LOSS:return Q.DATA_LOSS;default:return he(39323,{code:t})}}(Ae=ct||(ct={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF=new hs([4294967295,4294967295],0);function YE(t){const e=OF().encode(t),n=new vC;return n.update(e),new Uint8Array(n.digest())}function QE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new hs([n,r],0),new hs([i,s],0)]}class Cw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new eu(`Invalid padding: ${n}`);if(r<0)throw new eu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new eu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new eu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=hs.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(hs.fromNumber(r)));return i.compare(jF)===1&&(i=new hs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=YE(e),[r,i]=QE(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new Cw(s,i,n);return r.forEach(o=>a.insert(o)),a}insert(e){if(this.ge===0)return;const n=YE(e),[r,i]=QE(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,xc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new fm(me.min(),i,new et(be),Si(),Ee())}}class xc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xc(r,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class nN{constructor(e,n){this.targetId=e,this.Ce=n}}class rN{constructor(e,n,r=Bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class XE{constructor(){this.ve=0,this.Fe=JE(),this.Me=Bt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ee(),n=Ee(),r=Ee();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:he(38017,{changeType:s})}}),new xc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=JE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class RF{constructor(e){this.Ge=e,this.ze=new Map,this.je=Si(),this.Je=xd(),this.He=xd(),this.Ye=new et(be)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:he(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(ty(s))if(r===0){const a=new fe(s.path);this.et(n,a,Jt.newNoDocument(a,me.min()))}else ke(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const o=this.ut(e),l=o?this.ct(o,e,a):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=bs(r).toUint8Array()}catch(l){if(l instanceof IC)return $o("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new Cw(a,i,s)}catch(l){return $o(l instanceof eu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,a)=>{const o=this.ot(a);if(o){if(s.current&&ty(o.target)){const l=new fe(o.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,Jt.newNoDocument(l,e))}s.Be&&(n.set(a,s.ke()),s.qe())}});let r=Ee();this.He.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(s))}),this.je.forEach((s,a)=>a.setReadTime(e));const i=new fm(e,n,this.Ye,this.je,r);return this.je=Si(),this.Je=xd(),this.He=xd(),this.Ye=new et(be),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new XE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new xt(be),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new xt(be),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ie("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new XE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function xd(){return new et(fe.comparator)}function JE(){return new et(fe.comparator)}const DF={asc:"ASCENDING",desc:"DESCENDING"},MF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LF={and:"AND",or:"OR"};class $F{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ry(t,e){return t.useProto3Json||im(e)?e:{value:e}}function Gf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function VF(t,e){return Gf(t,e.toTimestamp())}function $r(t){return ke(!!t,49232),me.fromTimestamp(function(n){const r=_s(n);return new He(r.seconds,r.nanos)}(t))}function Nw(t,e){return iy(t,e).canonicalString()}function iy(t,e){const n=function(i){return new Xe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function sN(t){const e=Xe.fromString(t);return ke(cN(e),10190,{key:e.toString()}),e}function sy(t,e){return Nw(t.databaseId,e.path)}function vg(t,e){const n=sN(e);if(n.get(1)!==t.databaseId.projectId)throw new le(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new fe(oN(n))}function aN(t,e){return Nw(t.databaseId,e)}function FF(t){const e=sN(t);return e.length===4?Xe.emptyPath():oN(e)}function ay(t){return new Xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function oN(t){return ke(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ZE(t,e,n){return{name:sy(t,e),fields:n.value.mapValue.fields}}function BF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:he(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(ke(c===void 0||typeof c=="string",58123),Bt.fromBase64String(c||"")):(ke(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Bt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(u){const c=u.code===void 0?Q.UNKNOWN:tN(u.code);return new le(c,u.message||"")}(a);n=new rN(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=vg(t,r.document.name),s=$r(r.document.updateTime),a=r.document.createTime?$r(r.document.createTime):me.min(),o=new Xn({mapValue:{fields:r.document.fields}}),l=Jt.newFoundDocument(i,s,a,o),u=r.targetIds||[],c=r.removedTargetIds||[];n=new sf(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=vg(t,r.document),s=r.readTime?$r(r.readTime):me.min(),a=Jt.newNoDocument(i,s),o=r.removedTargetIds||[];n=new sf([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=vg(t,r.document),s=r.removedTargetIds||[];n=new sf([],s,i,null)}else{if(!("filter"in e))return he(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new CF(i,s),o=r.targetId;n=new nN(o,a)}}return n}function UF(t,e){let n;if(e instanceof wc)n={update:ZE(t,e.key,e.value)};else if(e instanceof eN)n={delete:sy(t,e.key)};else if(e instanceof Ra)n={update:ZE(t,e.key,e.data),updateMask:XF(e.fieldMask)};else{if(!(e instanceof TF))return he(16599,{Vt:e.type});n={verify:sy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const o=a.transform;if(o instanceof Hf)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ku)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Gu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Kf)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw he(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:VF(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:he(27497)}(t,e.precondition)),n}function zF(t,e){return t&&t.length>0?(ke(e!==void 0,14353),t.map(n=>function(i,s){let a=i.updateTime?$r(i.updateTime):$r(s);return a.isEqual(me.min())&&(a=$r(s)),new SF(a,i.transformResults||[])}(n,e))):[]}function WF(t,e){return{documents:[aN(t,e.path)]}}function HF(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=aN(t,i);const s=function(u){if(u.length!==0)return uN(zr.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:Qa(h.field),direction:qF(h.dir)}}(c))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=ry(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function KF(t){let e=FF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ke(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const h=lN(d);return h instanceof zr&&$C(h)?h.getFilters():[h]}(n.where));let a=[];n.orderBy&&(a=function(d){return d.map(h=>function(g){return new Wf(Xa(g.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let o=null;n.limit&&(o=function(d){let h;return h=typeof d=="object"?d.value:d,im(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new zf(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,p=d.values||[];return new zf(p,h)}(n.endAt)),cF(e,i,a,s,o,"F",l,u)}function GF(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xa(n.unaryFilter.field);return vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Xa(n.unaryFilter.field);return vt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Xa(n.unaryFilter.field);return vt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Xa(n.unaryFilter.field);return vt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return he(61313);default:return he(60726)}}(t):t.fieldFilter!==void 0?function(n){return vt.create(Xa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return he(58110);default:return he(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return zr.create(n.compositeFilter.filters.map(r=>lN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return he(1026)}}(n.compositeFilter.op))}(t):he(30097,{filter:t})}function qF(t){return DF[t]}function YF(t){return MF[t]}function QF(t){return LF[t]}function Qa(t){return{fieldPath:t.canonicalString()}}function Xa(t){return Mt.fromServerFormat(t.fieldPath)}function uN(t){return t instanceof vt?function(n){if(n.op==="=="){if(FE(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NAN"}};if(VE(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(FE(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NAN"}};if(VE(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(n.field),op:YF(n.op),value:n.value}}}(t):t instanceof zr?function(n){const r=n.getFilters().map(i=>uN(i));return r.length===1?r[0]:{compositeFilter:{op:QF(n.op),filters:r}}}(t):he(54877,{filter:t})}function XF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function cN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,n,r,i,s=me.min(),a=me.min(),o=Bt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new es(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e){this.yt=e}}function ZF(t){const e=KF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ny(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(){this.Cn=new tB}addToCollectionParentIndex(e,n){return this.Cn.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(xs.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(xs.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class tB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new xt(Xe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xt(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dN=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(dN,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Uo(0)}static cr(){return new Uo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="LruGarbageCollector",nB=1048576;function nS([t,e],[n,r]){const i=be(t,n);return i===0?be(e,r):i}class rB{constructor(e){this.Ir=e,this.buffer=new xt(nS),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();nS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class iB{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ie(tS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){al(n)?ie(tS,"Ignoring IndexedDB error during garbage collection: ",n):await sl(n)}await this.Vr(3e5)})}}class sB{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return q.resolve(rm.ce);const r=new rB(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),q.resolve(eS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eS):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,a,o,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,a=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,o=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),qa()<=_e.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-c}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function aB(t,e){return new sB(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(){this.changes=new ja(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&yu(r.mutation,i,xr.empty(),He.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){const i=Zs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=Zl();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Zs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,r,i){let s=Si();const a=vu(),o=function(){return vu()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ra)?s=s.insert(u.key,u):c!==void 0?(a.set(u.key,c.mutation.getFieldMask()),yu(c.mutation,u,c.mutation.getFieldMask(),He.now())):a.set(u.key,xr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>a.set(u,c)),n.forEach((u,c)=>o.set(u,new lB(c,a.get(u)??null))),o))}recalculateAndSaveOverlays(e,n){const r=vu();let i=new et((a,o)=>a-o),s=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||xr.empty();c=o.applyToLocalView(u,c),r.set(l,c);const d=(i.get(o.batchId)||Ee()).add(l);i=i.insert(o.batchId,d)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,c=l.value,d=KC();c.forEach(h=>{if(!s.has(h)){const p=JC(n.get(h),r.get(h));p!==null&&d.set(h,p),s=s.add(h)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,d))}return q.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return fe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dF(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):q.resolve(Zs());let o=Uu,l=s;return a.next(u=>q.forEach(u,(c,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),s.get(c)?q.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Ee())).next(c=>({batchId:o,changes:HC(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next(r=>{let i=Zl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=Zl();return this.indexManager.getCollectionParents(e,s).next(o=>q.forEach(o,l=>{const u=function(d,h){return new am(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{a=a.insert(d,h)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((l,u)=>{const c=u.getKey();a.get(c)===null&&(a=a.insert(c,Jt.newInvalidDocument(c)))});let o=Zl();return a.forEach((l,u)=>{const c=s.get(l);c!==void 0&&yu(c.mutation,u,xr.empty(),He.now()),um(n,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:$r(i.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:ZF(i.bundledQuery),readTime:$r(i.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(){this.overlays=new et(fe.comparator),this.qr=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Zs();return q.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const i=Zs(),s=n.length+1,a=new fe(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new et((u,c)=>u-c);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Zs(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const o=Zs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>o.set(u,c)),!(o.size()>=i)););return q.resolve(o)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new kF(n,r));let s=this.qr.get(n);s===void 0&&(s=Ee(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(){this.sessionToken=Bt.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(){this.Qr=new xt(At.$r),this.Ur=new xt(At.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new At(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new At(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new fe(new Xe([])),r=new At(n,e),i=new At(n,e+1),s=[];return this.Ur.forEachInRange([r,i],a=>{this.Gr(a),s.push(a.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new fe(new Xe([])),r=new At(n,e),i=new At(n,e+1);let s=Ee();return this.Ur.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new At(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class At{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return fe.comparator(e.key,n.key)||be(e.Yr,n.Yr)}static Kr(e,n){return be(e.Yr,n.Yr)||fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new xt(At.$r)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new IF(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.Zr=this.Zr.add(new At(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return q.resolve(a)}lookupMutationBatch(e,n){return q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?Ew:this.tr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new At(n,0),i=new At(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],a=>{const o=this.Xr(a.Yr);s.push(o)}),q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xt(be);return n.forEach(i=>{const s=new At(i,0),a=new At(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],o=>{r=r.add(o.Yr)})}),q.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;fe.isDocumentKey(s)||(s=s.child(""));const a=new At(new fe(s),0);let o=new xt(be);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.Yr)),!0)},a),q.resolve(this.ti(o))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ke(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return q.forEach(n.mutations,i=>{const s=new At(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new At(n,0),i=this.Zr.firstAfterOrEqual(r);return q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{constructor(e){this.ri=e,this.docs=function(){return new et(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let r=Si();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Jt.newInvalidDocument(i))}),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Si();const a=n.path,o=new fe(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||U5(B5(c),r)<=0||(i.has(c.key)||um(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return q.resolve(s)}getAllFromCollectionGroup(e,n,r,i){he(9500)}ii(e,n){return q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new pB(this)}getSize(e){return q.resolve(this.size)}}class pB extends oB{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(e){this.persistence=e,this.si=new ja(n=>Pw(n),Tw),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.oi=0,this._i=new Ow,this.targetCount=0,this.ai=Uo.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Uo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.Pr(n),q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),q.waitFor(s).next(()=>i)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),q.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),q.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,n){this.ui={},this.overlays={},this.ci=new rm(0),this.li=!1,this.li=!0,this.hi=new fB,this.referenceDelegate=e(this),this.Pi=new gB(this),this.indexManager=new eB,this.remoteDocumentCache=function(i){return new mB(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new JF(n),this.Ii=new cB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new hB(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ie("MemoryPersistence","Starting transaction:",e);const i=new vB(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return q.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class vB extends W5{constructor(e){super(),this.currentSequenceNumber=e}}class jw{constructor(e){this.persistence=e,this.Ri=new Ow,this.Vi=null}static mi(e){return new jw(e)}get fi(){if(this.Vi)return this.Vi;throw he(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.fi,r=>{const i=fe.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,me.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return q.or([()=>q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class qf{constructor(e,n){this.persistence=e,this.pi=new ja(r=>G5(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=aB(this,n)}static mi(e,n){return new qf(e,n)}Ei(){}di(e){return q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return q.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?q.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,a=>this.br(e,a,n).next(o=>{o||(r++,s.removeEntry(a,me.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),q.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=tf(e.data.value)),n}br(e,n,r){return q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return q.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Ee(),i=Ee();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Rw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return z$()?8:H5(tn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new yB;return this.Ss(e,n,a).next(o=>{if(s.result=o,this.Vs)return this.bs(e,n,a,o.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(qa()<=_e.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",Ya(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),q.resolve()):(qa()<=_e.DEBUG&&ie("QueryEngine","Query:",Ya(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(qa()<=_e.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",Ya(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Lr(n))):q.resolve())}ys(e,n){if(WE(n))return q.resolve(null);let r=Lr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ny(n,null,"F"),r=Lr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=Ee(...s);return this.ps.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,o);return this.Cs(n,u,a,l.readTime)?this.ys(e,ny(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return WE(n)||i.isEqual(me.min())?q.resolve(null):this.ps.getDocuments(e,r).next(s=>{const a=this.Ds(n,s);return this.Cs(n,a,r,i)?q.resolve(null):(qa()<=_e.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ya(n)),this.vs(e,a,n,F5(i,Uu)).next(o=>o))})}Ds(e,n){let r=new xt(zC(e));return n.forEach((i,s)=>{um(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return qa()<=_e.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",Ya(n)),this.ps.getDocumentsMatchingQuery(e,n,xs.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="LocalStore",xB=3e8;class _B{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new et(be),this.xs=new ja(s=>Pw(s),Tw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uB(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function bB(t,e,n,r){return new _B(t,e,n,r)}async function hN(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],o=[];let l=Ee();for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:a,addedBatchIds:o}))})})}function EB(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,u,c){const d=u.batch,h=d.keys();let p=q.resolve();return h.forEach(g=>{p=p.next(()=>c.getEntry(l,g)).next(y=>{const b=u.docVersions.get(g);ke(b!==null,48541),y.version.compareTo(b)<0&&(d.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=Ee();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function mN(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function SB(t,e){const n=pe(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;o.push(n.Pi.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Pi.addMatchingKeys(s,c.addedDocuments,d)));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Bt.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(y,b,w){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=xB?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,p,c)&&o.push(n.Pi.updateTargetData(s,p))});let l=Si(),u=Ee();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),o.push(AB(s,a,e.documentUpdates).next(c=>{l=c.ks,u=c.qs})),!r.isEqual(me.min())){const c=n.Pi.getLastRemoteSnapshotVersion(s).next(d=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));o.push(c)}return q.waitFor(o).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ms=i,s))}function AB(t,e,n){let r=Ee(),i=Ee();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=Si();return n.forEach((o,l)=>{const u=s.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(me.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):ie(Dw,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{ks:a,qs:i}})}function PB(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ew),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function TB(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,q.resolve(i)):n.Pi.allocateTargetId(r).next(a=>(i=new es(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function oy(t,e,n){const r=pe(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!al(a))throw a;ie(Dw,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function rS(t,e,n){const r=pe(t);let i=me.min(),s=Ee();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,c){const d=pe(l),h=d.xs.get(c);return h!==void 0?q.resolve(d.Ms.get(h)):d.Pi.getTargetData(u,c)}(r,a,Lr(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(a,e,n?i:me.min(),n?s:Ee())).next(o=>(IB(r,hF(e),o),{documents:o,Qs:s})))}function IB(t,e,n){let r=t.Os.get(e)||me.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class iS{constructor(){this.activeTargetIds=wF()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kB{constructor(){this.Mo=new iS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new iS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="ConnectivityMonitor";class aS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ie(sS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ie(sS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _d=null;function ly(){return _d===null?_d=function(){return 268435456+Math.round(2147483648*Math.random())}():_d++,"0x"+_d.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg="RestConnection",NB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OB{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Bf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const a=ly(),o=this.zo(e,n.toUriEncodedString());ie(yg,`Sending RPC '${e}' ${a}:`,o,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:u}=new URL(o),c=tl(u);return this.Jo(e,o,l,r,c).then(d=>(ie(yg,`Received RPC '${e}' ${a}: `,d),d),d=>{throw $o(yg,`RPC '${e}' ${a} failed with error: `,d,"url: ",o,"request:",r),d})}Ho(e,n,r,i,s,a){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+il}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=NB[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt="WebChannelConnection";class RB extends OB{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const a=ly();return new Promise((o,l)=>{const u=new yC;u.setWithCredentials(!0),u.listenOnce(wC.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ef.NO_ERROR:const d=u.getResponseJson();ie(qt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(d)),o(d);break;case ef.TIMEOUT:ie(qt,`RPC '${e}' ${a} timed out`),l(new le(Q.DEADLINE_EXCEEDED,"Request time out"));break;case ef.HTTP_ERROR:const h=u.getStatus();if(ie(qt,`RPC '${e}' ${a} failed with status:`,h,"response text:",u.getResponseText()),h>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const y=function(w){const x=w.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(x)>=0?x:Q.UNKNOWN}(g.status);l(new le(y,g.message))}else l(new le(Q.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new le(Q.UNAVAILABLE,"Connection failed."));break;default:he(9055,{l_:e,streamId:a,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ie(qt,`RPC '${e}' ${a} completed.`)}});const c=JSON.stringify(i);ie(qt,`RPC '${e}' ${a} sending request:`,i),u.send(n,"POST",c,r,15)})}T_(e,n,r){const i=ly(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=bC(),o=_C(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");ie(qt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=a.createWebChannel(c,l);this.I_(d);let h=!1,p=!1;const g=new jB({Yo:b=>{p?ie(qt,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(h||(ie(qt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),ie(qt,`RPC '${e}' stream ${i} sending:`,b),d.send(b))},Zo:()=>d.close()}),y=(b,w,x)=>{b.listen(w,_=>{try{x(_)}catch(P){setTimeout(()=>{throw P},0)}})};return y(d,Jl.EventType.OPEN,()=>{p||(ie(qt,`RPC '${e}' stream ${i} transport opened.`),g.o_())}),y(d,Jl.EventType.CLOSE,()=>{p||(p=!0,ie(qt,`RPC '${e}' stream ${i} transport closed`),g.a_(),this.E_(d))}),y(d,Jl.EventType.ERROR,b=>{p||(p=!0,$o(qt,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),g.a_(new le(Q.UNAVAILABLE,"The operation could not be completed")))}),y(d,Jl.EventType.MESSAGE,b=>{var w;if(!p){const x=b.data[0];ke(!!x,16349);const _=x,P=(_==null?void 0:_.error)||((w=_[0])==null?void 0:w.error);if(P){ie(qt,`RPC '${e}' stream ${i} received error:`,P);const N=P.status;let D=function(k){const T=ct[k];if(T!==void 0)return tN(T)}(N),I=P.message;D===void 0&&(D=Q.INTERNAL,I="Unknown error status: "+N+" with message "+P.message),p=!0,g.a_(new le(D,I)),d.close()}else ie(qt,`RPC '${e}' stream ${i} received:`,x),g.u_(x)}}),y(o,xC.STAT_EVENT,b=>{b.stat===Qv.PROXY?ie(qt,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===Qv.NOPROXY&&ie(qt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.__()},0),g}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function wg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(t){return new $F(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="PersistentStream";class gN{constructor(e,n,r,i,s,a,o,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pN(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(Ei(n.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new le(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ie(oS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ie(oS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DB extends gN{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=BF(this.serializer,e),r=function(s){if(!("targetChange"in s))return me.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?me.min():a.readTime?$r(a.readTime):me.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=ay(this.serializer),n.addTarget=function(s,a){let o;const l=a.target;if(o=ty(l)?{documents:WF(s,l)}:{query:HF(s,l).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=iN(s,a.resumeToken);const u=ry(s,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(me.min())>0){o.readTime=Gf(s,a.snapshotVersion.toTimestamp());const u=ry(s,a.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const r=GF(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=ay(this.serializer),n.removeTarget=e,this.q_(n)}}class MB extends gN{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=zF(e.writeResults,e.commitTime),r=$r(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ay(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>UF(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{}class $B extends LB{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new le(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Go(e,iy(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new le(Q.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Ho(e,iy(n,r),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new le(Q.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class VB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ei(n),this.aa=!1):ie("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="RemoteStore";class FB{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(a=>{r.enqueueAndForget(async()=>{Da(this)&&(ie(ba,"Restarting streams for network reachability change."),await async function(l){const u=pe(l);u.Ea.add(4),await _c(u),u.Ra.set("Unknown"),u.Ea.delete(4),await mm(u)}(this))})}),this.Ra=new VB(r,i)}}async function mm(t){if(Da(t))for(const e of t.da)await e(!0)}async function _c(t){for(const e of t.da)await e(!1)}function vN(t,e){const n=pe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Vw(n)?$w(n):ol(n).O_()&&Lw(n,e))}function Mw(t,e){const n=pe(t),r=ol(n);n.Ia.delete(e),r.O_()&&yN(n,e),n.Ia.size===0&&(r.O_()?r.L_():Da(n)&&n.Ra.set("Unknown"))}function Lw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ol(t).Y_(e)}function yN(t,e){t.Va.Ue(e),ol(t).Z_(e)}function $w(t){t.Va=new RF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ol(t).start(),t.Ra.ua()}function Vw(t){return Da(t)&&!ol(t).x_()&&t.Ia.size>0}function Da(t){return pe(t).Ea.size===0}function wN(t){t.Va=void 0}async function BB(t){t.Ra.set("Online")}async function UB(t){t.Ia.forEach((e,n)=>{Lw(t,e)})}async function zB(t,e){wN(t),Vw(t)?(t.Ra.ha(e),$w(t)):t.Ra.set("Unknown")}async function WB(t,e,n){if(t.Ra.set("Online"),e instanceof rN&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ia.delete(o),i.Va.removeTarget(o))}(t,e)}catch(r){ie(ba,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yf(t,r)}else if(e instanceof sf?t.Va.Ze(e):e instanceof nN?t.Va.st(e):t.Va.tt(e),!n.isEqual(me.min()))try{const r=await mN(t.localStore);n.compareTo(r)>=0&&await function(s,a){const o=s.Va.Tt(a);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.Ia.get(u);c&&s.Ia.set(u,c.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,u)=>{const c=s.Ia.get(l);if(!c)return;s.Ia.set(l,c.withResumeToken(Bt.EMPTY_BYTE_STRING,c.snapshotVersion)),yN(s,l);const d=new es(c.target,l,u,c.sequenceNumber);Lw(s,d)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){ie(ba,"Failed to raise snapshot:",r),await Yf(t,r)}}async function Yf(t,e,n){if(!al(e))throw e;t.Ea.add(1),await _c(t),t.Ra.set("Offline"),n||(n=()=>mN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ie(ba,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await mm(t)})}function xN(t,e){return e().catch(n=>Yf(t,n,e))}async function pm(t){const e=pe(t),n=Ss(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ew;for(;HB(e);)try{const i=await PB(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,KB(e,i)}catch(i){await Yf(e,i)}_N(e)&&bN(e)}function HB(t){return Da(t)&&t.Ta.length<10}function KB(t,e){t.Ta.push(e);const n=Ss(t);n.O_()&&n.X_&&n.ea(e.mutations)}function _N(t){return Da(t)&&!Ss(t).x_()&&t.Ta.length>0}function bN(t){Ss(t).start()}async function GB(t){Ss(t).ra()}async function qB(t){const e=Ss(t);for(const n of t.Ta)e.ea(n.mutations)}async function YB(t,e,n){const r=t.Ta.shift(),i=kw.from(r,e,n);await xN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await pm(t)}async function QB(t,e){e&&Ss(t).X_&&await async function(r,i){if(function(a){return NF(a)&&a!==Q.ABORTED}(i.code)){const s=r.Ta.shift();Ss(r).B_(),await xN(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await pm(r)}}(t,e),_N(t)&&bN(t)}async function lS(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),ie(ba,"RemoteStore received new credentials");const r=Da(n);n.Ea.add(3),await _c(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await mm(n)}async function XB(t,e){const n=pe(t);e?(n.Ea.delete(2),await mm(n)):e||(n.Ea.add(2),await _c(n),n.Ra.set("Unknown"))}function ol(t){return t.ma||(t.ma=function(n,r,i){const s=pe(n);return s.sa(),new DB(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:BB.bind(null,t),t_:UB.bind(null,t),r_:zB.bind(null,t),H_:WB.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Vw(t)?$w(t):t.Ra.set("Unknown")):(await t.ma.stop(),wN(t))})),t.ma}function Ss(t){return t.fa||(t.fa=function(n,r,i){const s=pe(n);return s.sa(),new MB(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:GB.bind(null,t),r_:QB.bind(null,t),ta:qB.bind(null,t),na:YB.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await pm(t)):(await t.fa.stop(),t.Ta.length>0&&(ie(ba,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new Fw(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bw(t,e){if(Ei("AsyncQueue",`${e}: ${t}`),al(t))return new le(Q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{static emptySet(e){return new Eo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||fe.comparator(n.key,r.key):(n,r)=>fe.comparator(n.key,r.key),this.keyedMap=Zl(),this.sortedSet=new et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Eo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.ga=new et(fe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):he(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class zo{constructor(e,n,r,i,s,a,o,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new zo(e,n,Eo.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class ZB{constructor(){this.queries=cS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=pe(n),s=i.queries;i.queries=cS(),s.forEach((a,o)=>{for(const l of o.Sa)l.onError(r)})})(this,new le(Q.ABORTED,"Firestore shutting down"))}}function cS(){return new ja(t=>UC(t),lm)}async function EN(t,e){const n=pe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new JB,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=Bw(a,`Initialization of query '${Ya(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Uw(n)}async function SN(t,e){const n=pe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function eU(t,e){const n=pe(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.Sa)o.Fa(i)&&(r=!0);a.wa=i}}r&&Uw(n)}function tU(t,e,n){const r=pe(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function Uw(t){t.Ca.forEach(e=>{e.next()})}var uy,dS;(dS=uy||(uy={})).Ma="default",dS.Cache="cache";class AN{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new zo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==uy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e){this.key=e}}class TN{constructor(e){this.key=e}}class nU{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ee(),this.mutatedKeys=Ee(),this.eu=zC(e),this.tu=new Eo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new uS,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),p=um(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;h&&p?h.data.isEqual(p.data)?g!==y&&(r.track({type:3,doc:p}),b=!0):this.su(h,p)||(r.track({type:2,doc:p}),b=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(o=!0)):!h&&p?(r.track({type:0,doc:p}),b=!0):h&&!p&&(r.track({type:1,doc:h}),b=!0,(l||u)&&(o=!0)),b&&(p?(a=a.add(p),s=y?s.add(c):s.delete(c)):(a=a.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{tu:a,iu:r,Cs:o,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((c,d)=>function(p,g){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he(20277,{Rt:b})}};return y(p)-y(g)}(c.type,d.type)||this.eu(c.doc,d.doc)),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,a.length!==0||u?{snapshot:new zo(this.query,e.tu,s,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new uS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ee(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new TN(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new PN(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ee();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return zo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const zw="SyncEngine";class rU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class iU{constructor(e){this.key=e,this.hu=!1}}class sU{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new ja(o=>UC(o),lm),this.Iu=new Map,this.Eu=new Set,this.du=new et(fe.comparator),this.Au=new Map,this.Ru=new Ow,this.Vu={},this.mu=new Map,this.fu=Uo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function aU(t,e,n=!0){const r=jN(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await IN(r,e,n,!0),i}async function oU(t,e){const n=jN(t);await IN(n,e,!0,!1)}async function IN(t,e,n,r){const i=await TB(t.localStore,Lr(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await lU(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&vN(t.remoteStore,i),o}async function lU(t,e,n,r,i){t.pu=(d,h,p)=>async function(y,b,w,x){let _=b.view.ru(w);_.Cs&&(_=await rS(y.localStore,b.query,!1).then(({documents:I})=>b.view.ru(I,_)));const P=x&&x.targetChanges.get(b.targetId),N=x&&x.targetMismatches.get(b.targetId)!=null,D=b.view.applyChanges(_,y.isPrimaryClient,P,N);return hS(y,b.targetId,D.au),D.snapshot}(t,d,h,p);const s=await rS(t.localStore,e,!0),a=new nU(e,s.Qs),o=a.ru(s.documents),l=xc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(o,t.isPrimaryClient,l);hS(t,n,u.au);const c=new rU(e,n,a);return t.Tu.set(e,c),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function uU(t,e,n){const r=pe(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(a=>!lm(a,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await oy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Mw(r.remoteStore,i.targetId),cy(r,i.targetId)}).catch(sl)):(cy(r,i.targetId),await oy(r.localStore,i.targetId,!0))}async function cU(t,e){const n=pe(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Mw(n.remoteStore,r.targetId))}async function dU(t,e,n){const r=yU(t);try{const i=await function(a,o){const l=pe(a),u=He.now(),c=o.reduce((p,g)=>p.add(g.key),Ee());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Si(),y=Ee();return l.Ns.getEntries(p,c).next(b=>{g=b,g.forEach((w,x)=>{x.isValidDocument()||(y=y.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(b=>{d=b;const w=[];for(const x of o){const _=PF(x,d.get(x.key).overlayedDocument);_!=null&&w.push(new Ra(x.key,_,DC(_.value.mapValue),hi.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,w,o)}).next(b=>{h=b;const w=b.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(p,b.batchId,w)})}).then(()=>({batchId:h.batchId,changes:HC(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let u=a.Vu[a.currentUser.toKey()];u||(u=new et(be)),u=u.insert(o,l),a.Vu[a.currentUser.toKey()]=u}(r,i.batchId,n),await bc(r,i.changes),await pm(r.remoteStore)}catch(i){const s=Bw(i,"Failed to persist write");n.reject(s)}}async function kN(t,e){const n=pe(t);try{const r=await SB(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Au.get(s);a&&(ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?ke(a.hu,14607):i.removedDocuments.size>0&&(ke(a.hu,42227),a.hu=!1))}),await bc(n,r,e)}catch(r){await sl(r)}}function fS(t,e,n){const r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,a)=>{const o=a.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=pe(a);l.onlineState=o;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.Sa)h.va(o)&&(u=!0)}),u&&Uw(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function fU(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let a=new et(fe.comparator);a=a.insert(s,Jt.newNoDocument(s,me.min()));const o=Ee().add(s),l=new fm(me.min(),new Map,new et(be),a,o);await kN(r,l),r.du=r.du.remove(s),r.Au.delete(e),Ww(r)}else await oy(r.localStore,e,!1).then(()=>cy(r,e,n)).catch(sl)}async function hU(t,e){const n=pe(t),r=e.batch.batchId;try{const i=await EB(n.localStore,e);NN(n,r,null),CN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bc(n,i)}catch(i){await sl(i)}}async function mU(t,e,n){const r=pe(t);try{const i=await function(a,o){const l=pe(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,o).next(d=>(ke(d!==null,37113),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);NN(r,e,n),CN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bc(r,i)}catch(i){await sl(i)}}function CN(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function NN(t,e,n){const r=pe(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function cy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||ON(t,r)})}function ON(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Mw(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Ww(t))}function hS(t,e,n){for(const r of n)r instanceof PN?(t.Ru.addReference(r.key,e),pU(t,r)):r instanceof TN?(ie(zw,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||ON(t,r.key)):he(19791,{wu:r})}function pU(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ie(zw,"New document in limbo: "+n),t.Eu.add(r),Ww(t))}function Ww(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new fe(Xe.fromString(e)),r=t.fu.next();t.Au.set(r,new iU(n)),t.du=t.du.insert(n,r),vN(t.remoteStore,new es(Lr(om(n.path)),r,"TargetPurposeLimboResolution",rm.ce))}}async function bc(t,e,n){const r=pe(t),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((o,l)=>{a.push(r.pu(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=Rw.As(l.targetId,u);s.push(d)}}))}),await Promise.all(a),r.Pu.H_(i),await async function(l,u){const c=pe(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>q.forEach(u,h=>q.forEach(h.Es,p=>c.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>q.forEach(h.ds,p=>c.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!al(d))throw d;ie(Dw,"Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const p=c.Ms.get(h),g=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(g);c.Ms=c.Ms.insert(h,y)}}}(r.localStore,s))}async function gU(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){ie(zw,"User change. New user:",e.toKey());const r=await hN(n.localStore,e);n.currentUser=e,function(s,a){s.mu.forEach(o=>{o.forEach(l=>{l.reject(new le(Q.CANCELLED,a))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bc(n,r.Ls)}}function vU(t,e){const n=pe(t),r=n.Au.get(e);if(r&&r.hu)return Ee().add(r.key);{let i=Ee();const s=n.Iu.get(e);if(!s)return i;for(const a of s){const o=n.Tu.get(a);i=i.unionWith(o.view.nu)}return i}}function jN(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fU.bind(null,e),e.Pu.H_=eU.bind(null,e.eventManager),e.Pu.yu=tU.bind(null,e.eventManager),e}function yU(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mU.bind(null,e),e}class Qf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return bB(this.persistence,new wB,e.initialUser,this.serializer)}Cu(e){return new fN(jw.mi,this.serializer)}Du(e){return new kB}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qf.provider={build:()=>new Qf};class wU extends Qf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ke(this.persistence.referenceDelegate instanceof qf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new iB(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new fN(r=>qf.mi(r,n),this.serializer)}}class dy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>fS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=gU.bind(null,this.syncEngine),await XB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ZB}()}createDatastore(e){const n=hm(e.databaseInfo.databaseId),r=function(s){return new RB(s)}(e.databaseInfo);return function(s,a,o,l){return new $B(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,o){return new FB(r,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,n=>fS(this.syncEngine,n,0),function(){return aS.v()?new aS:new CB}())}createSyncEngine(e,n){return function(i,s,a,o,l,u,c){const d=new sU(i,s,a,o,l,u);return c&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=pe(i);ie(ba,"RemoteStore shutting down."),s.Ea.add(5),await _c(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}dy.provider={build:()=>new dy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="FirestoreClient";class xU{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qt.UNAUTHENTICATED,this.clientId=_w.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{ie(As,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(ie(As,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Bw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function xg(t,e){t.asyncQueue.verifyOperationInProgress(),ie(As,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await hN(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function mS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _U(t);ie(As,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>lS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>lS(e.remoteStore,i)),t._onlineComponents=e}async function _U(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ie(As,"Using user provided OfflineComponentProvider");try{await xg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Q.FAILED_PRECONDITION||i.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;$o("Error using user provided cache. Falling back to memory cache: "+n),await xg(t,new Qf)}}else ie(As,"Using default OfflineComponentProvider"),await xg(t,new wU(void 0));return t._offlineComponents}async function DN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ie(As,"Using user provided OnlineComponentProvider"),await mS(t,t._uninitializedComponentsProvider._online)):(ie(As,"Using default OnlineComponentProvider"),await mS(t,new dy))),t._onlineComponents}function bU(t){return DN(t).then(e=>e.syncEngine)}async function fy(t){const e=await DN(t),n=e.eventManager;return n.onListen=aU.bind(null,e.syncEngine),n.onUnlisten=uU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=oU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=cU.bind(null,e.syncEngine),n}function EU(t,e,n={}){const r=new ms;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,u){const c=new RN({next:h=>{c.Nu(),a.enqueueAndForget(()=>SN(s,d));const p=h.docs.has(o);!p&&h.fromCache?u.reject(new le(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?u.reject(new le(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new AN(om(o.path),c,{includeMetadataChanges:!0,qa:!0});return EN(s,d)}(await fy(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="firestore.googleapis.com",gS=!0;class vS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LN,this.ssl=gS}else this.host=e.host,this.ssl=e.ssl??gS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nB)throw new le(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}V5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MN(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hw{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new I5;switch(r.type){case"firstParty":return new O5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=pS.get(n);r&&(ie("ComponentProvider","Removing Datastore"),pS.delete(n),r.terminate())}(this),Promise.resolve()}}function SU(t,e,n,r={}){var u;t=ps(t,Hw);const i=tl(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(Ck(`https://${o}`),Nk("Firestore",!0)),s.host!==LN&&s.host!==o&&$o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:o,ssl:i,emulatorOptions:r};if(!ya(l,a)&&(t._setSettings(l),r.mockUserToken)){let c,d;if(typeof r.mockUserToken=="string")c=r.mockUserToken,d=Qt.MOCK_USER;else{c=R$(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new le(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Qt(h)}t._authCredentials=new k5(new SC(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gm(this.firestore,e,this._query)}}class wt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wt(this.firestore,e,this._key)}toJSON(){return{type:wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(yc(n,wt._jsonSchema))return new wt(e,r||null,new fe(Xe.fromString(n.referencePath)))}}wt._jsonSchemaVersion="firestore/documentReference/1.0",wt._jsonSchema={type:ft("string",wt._jsonSchemaVersion),referencePath:ft("string")};class qu extends gm{constructor(e,n,r){super(e,n,om(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new fe(e))}withConverter(e){return new qu(this.firestore,e,this._path)}}function Ec(t,e,...n){if(t=on(t),arguments.length===1&&(e=_w.newId()),$5("doc","path",e),t instanceof Hw){const r=Xe.fromString(e,...n);return NE(r),new wt(t,null,new fe(r))}{if(!(t instanceof wt||t instanceof qu))throw new le(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xe.fromString(e,...n));return NE(r),new wt(t.firestore,t instanceof qu?t.converter:null,new fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="AsyncQueue";class wS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pN(this,"async_queue_retry"),this._c=()=>{const r=wg();r&&ie(yS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=wg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=wg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ms;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!al(e))throw e;ie(yS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Ei("INTERNAL UNHANDLED ERROR: ",xS(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Fw.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&he(47125,{Pc:xS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function xS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Yu extends Hw{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new wS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wS(e),this._firestoreClient=void 0,await e}}}function $N(t,e){const n=typeof t=="object"?t:Xh(),r=typeof t=="string"?t:Bf,i=uw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=O$("firestore");s&&SU(i,...s)}return i}function Kw(t){if(t._terminated)throw new le(Q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||AU(t),t._firestoreClient}function AU(t){var r,i,s;const e=t._freezeSettings(),n=function(o,l,u,c){return new Q5(o,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,MN(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new xU(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jn(Bt.fromBase64String(e))}catch(n){throw new le(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jn(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yc(e,Jn._jsonSchema))return Jn.fromBase64String(e.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:ft("string",Jn._jsonSchemaVersion),bytes:ft("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vr._jsonSchemaVersion}}static fromJSON(e){if(yc(e,Vr._jsonSchema))return new Vr(e.latitude,e.longitude)}}Vr._jsonSchemaVersion="firestore/geoPoint/1.0",Vr._jsonSchema={type:ft("string",Vr._jsonSchemaVersion),latitude:ft("number"),longitude:ft("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Fr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yc(e,Fr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Fr(e.vectorValues);throw new le(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fr._jsonSchemaVersion="firestore/vectorValue/1.0",Fr._jsonSchema={type:ft("string",Fr._jsonSchemaVersion),vectorValues:ft("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU=/^__.*__$/;class TU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ra(e,this.data,this.fieldMask,n,this.fieldTransforms):new wc(e,this.data,n,this.fieldTransforms)}}function FN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he(40011,{Ac:t})}}class qw{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new qw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Xf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(FN(this.Ac)&&PU.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class IU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||hm(e)}Cc(e,n,r,i=!1){return new qw({Ac:e,methodName:n,Dc:r,path:Mt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kU(t){const e=t._freezeSettings(),n=hm(t._databaseId);return new IU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function CU(t,e,n,r,i,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);WN("Data must be an object, but it was:",a,r);const o=UN(r,a);let l,u;if(s.merge)l=new xr(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=NU(e,d,n);if(!a.contains(h))throw new le(Q.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);jU(c,h)||c.push(h)}l=new xr(c),u=a.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=a.fieldTransforms;return new TU(new Xn(o),l,u)}function BN(t,e){if(zN(t=on(t)))return WN("Unsupported field value:",e,t),UN(t,e);if(t instanceof VN)return function(r,i){if(!FN(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const o of r){let l=BN(o,i.wc(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=on(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=He.fromDate(r);return{timestampValue:Gf(i.serializer,s)}}if(r instanceof He){const s=new He(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gf(i.serializer,s)}}if(r instanceof Vr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jn)return{bytesValue:iN(i.serializer,r._byteString)};if(r instanceof wt){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Nw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Fr)return function(a,o){return{mapValue:{fields:{[jC]:{stringValue:RC},[Uf]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw o.Sc("VectorValues must only contain numeric values.");return Iw(o.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${bw(r)}`)}(t,e)}function UN(t,e){const n={};return TC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oa(t,(r,i)=>{const s=BN(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function zN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof He||t instanceof Vr||t instanceof Jn||t instanceof wt||t instanceof VN||t instanceof Fr)}function WN(t,e,n){if(!zN(n)||!AC(n)){const r=bw(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function NU(t,e,n){if((e=on(e))instanceof Gw)return e._internalPath;if(typeof e=="string")return HN(t,e);throw Xf("Field path arguments must be of type string or ",t,!1,void 0,n)}const OU=new RegExp("[~\\*/\\[\\]]");function HN(t,e,n){if(e.search(OU)>=0)throw Xf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gw(...e.split("."))._internalPath}catch{throw Xf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xf(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new le(Q.INVALID_ARGUMENT,o+t+l)}function jU(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(GN("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class RU extends KN{data(){return super.data()}}function GN(t,e){return typeof e=="string"?HN(t,e):e instanceof Gw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new le(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class MU{convertValue(e,n="none"){switch(Es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw he(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Oa(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[Uf].arrayValue)==null?void 0:i.values)==null?void 0:s.map(a=>st(a.doubleValue));return new Fr(n)}convertGeoPoint(e){return new Vr(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=sm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zu(e));default:return null}}convertTimestamp(e){const n=_s(e);return new He(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Xe.fromString(e);ke(cN(r),9688,{name:e});const i=new Wu(r.get(1),r.get(3)),s=new fe(r.popFirst(5));return i.isEqual(n)||Ei(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LU(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class tu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class la extends KN{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new af(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(GN("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=la._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}la._jsonSchemaVersion="firestore/documentSnapshot/1.0",la._jsonSchema={type:ft("string",la._jsonSchemaVersion),bundleSource:ft("string","DocumentSnapshot"),bundleName:ft("string"),bundle:ft("string")};class af extends la{data(e={}){return super.data(e)}}class So{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new tu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new af(this._firestore,this._userDataWriter,r.key,r,new tu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new af(i._firestore,i._userDataWriter,o.doc.key,o.doc,new tu(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new af(i._firestore,i._userDataWriter,o.doc.key,o.doc,new tu(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),c=a.indexOf(o.doc.key)),{type:$U(o.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=So._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_w.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $U(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(t){t=ps(t,wt);const e=ps(t.firestore,Yu);return EU(Kw(e),t._key).then(n=>XN(e,t,n))}So._jsonSchemaVersion="firestore/querySnapshot/1.0",So._jsonSchema={type:ft("string",So._jsonSchemaVersion),bundleSource:ft("string","QuerySnapshot"),bundleName:ft("string"),bundle:ft("string")};class YN extends MU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,n)}}function QN(t,e,n){t=ps(t,wt);const r=ps(t.firestore,Yu),i=LU(t.converter,e,n);return FU(r,[CU(kU(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,hi.none())])}function VU(t,...e){var l,u,c;t=on(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||_S(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(_S(e[r])){const d=e[r];e[r]=(l=d.next)==null?void 0:l.bind(d),e[r+1]=(u=d.error)==null?void 0:u.bind(d),e[r+2]=(c=d.complete)==null?void 0:c.bind(d)}let s,a,o;if(t instanceof wt)a=ps(t.firestore,Yu),o=om(t._key.path),s={next:d=>{e[r]&&e[r](XN(a,t,d))},error:e[r+1],complete:e[r+2]};else{const d=ps(t,gm);a=ps(d.firestore,Yu),o=d._query;const h=new YN(a);s={next:p=>{e[r]&&e[r](new So(a,h,d,p))},error:e[r+1],complete:e[r+2]},DU(t._query)}return function(h,p,g,y){const b=new RN(y),w=new AN(p,b,g);return h.asyncQueue.enqueueAndForget(async()=>EN(await fy(h),w)),()=>{b.Nu(),h.asyncQueue.enqueueAndForget(async()=>SN(await fy(h),w))}}(Kw(a),o,i,s)}function FU(t,e){return function(r,i){const s=new ms;return r.asyncQueue.enqueueAndForget(async()=>dU(await bU(r),i,s)),s.promise}(Kw(t),e)}function XN(t,e,n){const r=n.docs.get(e._key),i=new YN(t);return new la(t,i,e._key,r,new tu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){il=i})(nl),Do(new wa("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new Yu(new C5(r.getProvider("auth-internal")),new j5(a,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new le(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wu(u.options.projectId,c)}(a,i),a);return s={useFetchStreams:n,...s},o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),ds(TE,IE,e),ds(TE,IE,"esm2020")})();const BU={apiKey:"AIzaSyDtKZV6_QhkvyFKMFZklbp-5IO_-Da1-c0",authDomain:"marsica-padel.firebaseapp.com",projectId:"marsica-padel"},JN=Rk().length?Xh():cw(BU);gC(JN);const Yw=$N(JN);async function ZN(t){const e=await qN(Ec(Yw,"leagues",t));return e.exists()?e.data():null}async function hy(t,e){await QN(Ec(Yw,"leagues",t),e,{merge:!0})}function UU(t,e){return VU(Ec(Yw,"leagues",t),n=>{n.exists()&&e(n.data())})}const e2={apiKey:"AIzaSyDtKZV6_QhkvyFKMFZklbp-5IO_-Da1-c0",authDomain:"marsica-padel.firebaseapp.com",projectId:"marsica-padel",appId:"1:626616551949:web:cad93c91cc1558ac0e2344",storageBucket:"marsica-padel.firebasestorage.app",messagingSenderId:"626616551949",measurementId:"G-W0B9MECRM4"},zU=["apiKey","authDomain","projectId","appId"],_g=zU.filter(t=>!e2[t]);if(_g.length>0)throw console.error("Missing Firebase configuration:",_g),new Error(`Missing Firebase configuration: ${_g.join(", ")}`);const t2=Rk().length?Xh():cw(e2),n2=$N(t2),Ar=gC(t2);Ar.useDeviceLanguage&&Ar.useDeviceLanguage();function r2(t){return g6(Ar,t)}async function i2(){const t=new ri;t.addScope("email"),t.addScope("profile"),t.setCustomParameters({prompt:"select_account"});const e=await mC(Ar,t);if(e.user){const n=await vm(e.user.uid);if(!n.email||!n.firstName){const r=(e.user.displayName||"").split(" "),i={email:e.user.email,firstName:n.firstName||r[0]||"",lastName:n.lastName||r.slice(1).join(" ")||"",phone:n.phone||"",avatar:e.user.photoURL||"",provider:"google",...n};await Sc(e.user.uid,i)}}return e}async function s2(){const t=new ni;t.addScope("email"),t.addScope("public_profile");const e=await mC(Ar,t);if(e.user){const n=await vm(e.user.uid);if(!n.email||!n.firstName){const r=(e.user.displayName||"").split(" "),i={email:e.user.email,firstName:n.firstName||r[0]||"",lastName:n.lastName||r.slice(1).join(" ")||"",phone:n.phone||"",avatar:e.user.photoURL||"",provider:"facebook",...n};await Sc(e.user.uid,i)}}return e}const WU={url:`${window.location.origin}/`,handleCodeInApp:!0};async function a2(t){await u6(Ar,t,WU);try{localStorage.setItem("ml-magic-email",t)}catch{}}async function Qw(){try{const t=window.location.href;if(!c6(Ar,t))return null;let e=null;try{e=localStorage.getItem("ml-magic-email")}catch{}e||(e=window.prompt("Per completare l’accesso, inserisci la tua email:")||"");const n=await d6(Ar,e,t);try{localStorage.removeItem("ml-magic-email")}catch{}if(window.history.replaceState({},document.title,window.location.pathname),n.user){const r=await vm(n.user.uid);if(!r.email){const i={email:n.user.email,firstName:"",lastName:"",phone:"",provider:"email",...r};await Sc(n.user.uid,i)}}return n}catch(t){throw console.warn("completeMagicLinkIfPresent error:",t),t}}async function Xw(){await v6(Ar)}async function vm(t){const e=Ec(n2,"profiles",t),n=await qN(e);return n.exists()?n.data():{}}async function Sc(t,e){const n=Ec(n2,"profiles",t);await QN(n,{...e,_updatedAt:Date.now()},{merge:!0})}async function o2(t,e){await h6(t,{displayName:e})}const HU=Object.freeze(Object.defineProperty({__proto__:null,auth:Ar,completeMagicLinkIfPresent:Qw,getUserProfile:vm,loginWithFacebook:s2,loginWithGoogle:i2,logout:Xw,onAuth:r2,saveUserProfile:Sc,sendMagicLink:a2,setDisplayName:o2},Symbol.toStringTag,{value:"Module"})),bS="/logo.png";function KU(t="dark"){return t==="light"?{name:"light",pageBg:"bg-neutral-50",text:"text-neutral-900",subtext:"text-neutral-600",cardBg:"bg-white",border:"ring-1 ring-black/5",headerBg:"backdrop-blur bg-white/70 border-b border-black/10",neonText:"text-emerald-600",link:"underline underline-offset-4 decoration-emerald-600 hover:text-emerald-700",ghostRing:"ring-black/10 hover:bg-black/5",tableHeadText:"text-neutral-500",input:"rounded-xl px-3 py-2 bg-white border border-black/10 focus:border-emerald-400 focus:ring-1 focus:ring-emerald-400 outline-none transition",btnPrimary:"inline-flex items-center justify-center rounded-xl px-4 py-2 font-medium text-black bg-gradient-to-r from-emerald-400 to-lime-400 hover:brightness-110 active:brightness-95 transition",btnGhost:"inline-flex items-center justify-center rounded-xl px-4 py-2 font-medium ring-1 ring-black/10 hover:bg-black/5 transition",btnGhostSm:"inline-flex items-center justify-center rounded-lg px-2 py-1 text-xs font-medium ring-1 ring-black/10 hover:bg-black/5 transition",accentGood:"text-emerald-600",accentBad:"text-rose-600",chip:"bg-emerald-500 text-black"}:{name:"dark",pageBg:"bg-neutral-950",text:"text-neutral-100",subtext:"text-neutral-400",cardBg:"bg-white/5",border:"ring-1 ring-white/10",headerBg:"backdrop-blur bg-black/30 border-b border-white/10",neonText:"text-emerald-400",link:"underline underline-offset-4 decoration-emerald-400 hover:text-emerald-300",ghostRing:"ring-white/15 hover:bg-white/10",tableHeadText:"text-neutral-300",input:"rounded-xl px-3 py-2 bg-neutral-900/60 ring-1 ring-white/10 focus:ring-emerald-400/60 outline-none transition",btnPrimary:"inline-flex items-center justify-center rounded-xl px-4 py-2 font-medium text-black bg-gradient-to-r from-emerald-400 to-lime-400 hover:brightness-110 active:brightness-95 transition",btnGhost:"inline-flex items-center justify-center rounded-xl px-4 py-2 font-medium ring-1 ring-white/15 hover:bg-white/10 transition",btnGhostSm:"inline-flex items-center justify-center rounded-lg px-2 py-1 text-xs font-medium ring-1 ring-white/15 hover:bg-white/10 transition",accentGood:"text-emerald-400",accentBad:"text-rose-400",chip:"bg-gradient-to-r from-emerald-400 to-lime-400 text-black"}}const qs=()=>Math.random().toString(36).slice(2,10),ge=1e3,Ka="paris-league-v1",Or=t=>Math.round(Number(t||0)),Ao=t=>Number(t||0).toFixed(2);function GU(t){return(t||[]).filter(e=>String((e==null?void 0:e.a)??"")!==""||String((e==null?void 0:e.b)??"")!=="").map(e=>`${Number(e.a||0)}-${Number(e.b||0)}`).join(", ")}function Ea(t){let e=0,n=0,r=0,i=0;for(const a of t||[]){const o=Number((a==null?void 0:a.a)||0),l=Number((a==null?void 0:a.b)||0);String(o)===""&&String(l)===""||(r+=o,i+=l,o>l?e++:l>o&&n++)}let s=null;return e>n?s="A":n>e&&(s="B"),{setsA:e,setsB:n,gamesA:r,gamesB:i,winner:s}}function Jw(t){return t<=-2e3?.4:t<=-1500?.6:t<=-900?.75:t<=-300?.9:t<300&&t>-300?1:t<=900?1.1:t<=1500?1.25:t<=2e3?1.4:1.6}function Zw(t){return t<=-2e3?"gap ≤ −2000 ⇒ 0.40":t<=-1500?"−2000 < gap ≤ −1500 ⇒ 0.60":t<=-900?"−1500 < gap ≤ −900 ⇒ 0.75":t<=-300?"−900 < gap ≤ −300 ⇒ 0.90":t<300&&t>-300?"−300 < gap < +300 ⇒ 1.00":t<=900?"+300 ≤ gap ≤ +900 ⇒ 1.10":t<=1500?"+900 < gap ≤ +1500 ⇒ 1.25":t<=2e3?"+1500 < gap ≤ +2000 ⇒ 1.40":"gap ≥ +2000 ⇒ 1.60"}function my({ratingA1:t,ratingA2:e,ratingB1:n,ratingB2:r,gamesA:i,gamesB:s,winner:a,sets:o}){const l=Number(t||0),u=Number(e||0),c=Number(n||0),d=Number(r||0),h=l+u,p=c+d,g=a==="A"?h:p,y=a==="A"?p:h,b=(h+p)/100,w=y-g,x=Jw(w),_=a==="A"?i-s:s-i,P=(b+_)*x,N=Math.round(P),D=a==="A"?N:-N,I=a==="B"?N:-N,A=`Risultato set: ${GU(o)}`,k=`Team A=${Or(h)}, Team B=${Or(p)}, Gap=${Or(w)}
Fascia: ${Zw(w)}

Base = (${Or(h)} + ${Or(p)})/100 = ${Ao(b)}
DG (Differenza Game) = ${_}

Punti = (Base + DG) × factor = (${Ao(b)} + ${_}) × ${x.toFixed(2)} = ${Ao(P)}
Punti (arrotondato) = ${N}
`+(a==="A"?`Team A +${N}, Team B -${N}`:`Team B +${N}, Team A -${N}`)+`
${A}`;return{deltaA:D,deltaB:I,pts:N,base:b,factor:x,gap:w,sumA:h,sumB:p,gd:_,formula:k}}function qU(t,e){const n=new Map(t.map(a=>{const o=Number(a.baseRating??a.startRating??a.rating??ge);return[a.id,{...a,rating:o,wins:0,losses:0,lastDelta:0,trend5Total:0,trend5Pos:0,trend5Neg:0}]})),r=new Map(t.map(a=>[a.id,[]])),i=[],s=[...e||[]].sort((a,o)=>new Date(a.date)-new Date(o.date));for(const a of s){const o=n.get(a.teamA[0]),l=n.get(a.teamA[1]),u=n.get(a.teamB[0]),c=n.get(a.teamB[1]),d=Ea(a.sets),h=my({ratingA1:(o==null?void 0:o.rating)??ge,ratingA2:(l==null?void 0:l.rating)??ge,ratingB1:(u==null?void 0:u.rating)??ge,ratingB2:(c==null?void 0:c.rating)??ge,gamesA:d.gamesA,gamesB:d.gamesB,winner:d.winner,sets:a.sets}),p={...a,...d,...h};i.push(p);const g=(y,b)=>{if(!y)return;const w=r.get(y)||[];w.push(b),r.set(y,w)};g(o==null?void 0:o.id,h.deltaA),g(l==null?void 0:l.id,h.deltaA),g(u==null?void 0:u.id,h.deltaB),g(c==null?void 0:c.id,h.deltaB),o&&(o.lastDelta=h.deltaA),l&&(l.lastDelta=h.deltaA),u&&(u.lastDelta=h.deltaB),c&&(c.lastDelta=h.deltaB),d.winner==="A"?(o&&(o.rating+=h.deltaA),l&&(l.rating+=h.deltaA),u&&(u.rating+=h.deltaB),c&&(c.rating+=h.deltaB),o&&o.wins++,l&&l.wins++,u&&u.losses++,c&&c.losses++):d.winner==="B"&&(o&&(o.rating+=h.deltaA),l&&(l.rating+=h.deltaA),u&&(u.rating+=h.deltaB),c&&(c.rating+=h.deltaB),u&&u.wins++,c&&c.wins++,o&&o.losses++,l&&l.losses++)}for(const a of n.values()){const l=(r.get(a.id)||[]).slice(-5);let u=0,c=0,d=0;for(const h of l)d+=h,h>=0?u+=h:c+=-h;a.trend5Total=d,a.trend5Pos=u,a.trend5Neg=c}return{players:Array.from(n.values()),matches:i}}function YU(t,e,n){const r=new Map(t.map(h=>[h.id,h.name])),s=[...e||[]].sort((h,p)=>new Date(h.date)-new Date(p.date)).slice(-10),a=new Map(t.map(h=>[h.id,Number(h.rating??ge)])),o=new Map(a),l=[...s].reverse();for(const h of l){const p=Ea(h.sets),g=my({ratingA1:o.get(h.teamA[0])??ge,ratingA2:o.get(h.teamA[1])??ge,ratingB1:o.get(h.teamB[0])??ge,ratingB2:o.get(h.teamB[1])??ge,gamesA:p.gamesA,gamesB:p.gamesB,winner:p.winner,sets:h.sets}),y=(b,w)=>o.set(b,(o.get(b)??ge)-w);y(h.teamA[0],g.deltaA),y(h.teamA[1],g.deltaA),y(h.teamB[0],g.deltaB),y(h.teamB[1],g.deltaB)}const u=new Map(o),c=[],d={label:"Inizio ultime 10"};for(const h of n)d[r.get(h)||h]=Math.round(u.get(h)??ge);c.push(d);for(const h of s){const p=Ea(h.sets),g=my({ratingA1:u.get(h.teamA[0])??ge,ratingA2:u.get(h.teamA[1])??ge,ratingB1:u.get(h.teamB[0])??ge,ratingB2:u.get(h.teamB[1])??ge,gamesA:p.gamesA,gamesB:p.gamesB,winner:p.winner,sets:h.sets}),y=(w,x)=>u.set(w,(u.get(w)??ge)+x);y(h.teamA[0],g.deltaA),y(h.teamA[1],g.deltaA),y(h.teamB[0],g.deltaB),y(h.teamB[1],g.deltaB);const b={label:new Date(h.date).toLocaleString("it-IT",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})};for(const w of n)b[r.get(w)||w]=Math.round(u.get(w)??ge);c.push(b)}return c}function QU({active:t,setActive:e,clubMode:n,T:r,user:i}){const s=[{id:"classifica",label:"Classifica"},{id:"stats",label:"Statistiche"},...n?[{id:"giocatori",label:"Giocatori"},{id:"crea",label:"Crea Partita"},{id:"prenota",label:"Prenotazione Campi"},{id:"tornei",label:"Crea Tornei"}]:[],{id:i?"profile":"auth",label:i?"Profilo":"Accedi"},{id:"extra",label:"Extra"}];return m.jsx("nav",{className:"flex gap-1",children:s.map(a=>m.jsx("button",{type:"button",onClick:()=>e(a.id),className:`px-3 py-1.5 rounded-xl text-sm transition ring-1 ${t===a.id?r.btnPrimary:r.ghostRing}`,"aria-current":t===a.id?"page":void 0,children:a.label},a.id))})}function ex({open:t,onClose:e,title:n,children:r,T:i}){return t?m.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[m.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:e}),m.jsxs("div",{className:`relative z-10 rounded-2xl ${i.cardBg} ${i.border} p-6 w-[min(820px,92vw)] shadow-2xl`,children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h3",{className:"text-lg font-semibold",children:n}),m.jsx("button",{type:"button",onClick:e,className:`px-3 py-1 rounded-lg ring-1 ${i.ghostRing} transition`,children:"Chiudi"})]}),m.jsx("div",{className:"text-sm",children:r})]})]}):null}function On({title:t,right:e,children:n,T:r}){return m.jsxs("section",{className:"mb-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsx("h2",{className:`text-xl font-semibold ${r.neonText}`,children:t}),e]}),m.jsx("div",{className:`rounded-2xl ${r.cardBg} ${r.border} backdrop-blur p-4 shadow-[0_0_0_1px_rgba(0,0,0,0.02)]`,children:n})]})}function XU({total:t=0,pos:e=0,neg:n=0}){const r=`Ultime 5: +${Math.round(e)} / -${Math.round(n)} = ${t>=0?"+":""}${Math.round(t)}`;return t>0?m.jsx("span",{title:r,className:"ml-2 text-emerald-500",children:"▲"}):t<0?m.jsx("span",{title:r,className:"ml-2 text-rose-500",children:"▼"}):m.jsx("span",{title:r,className:"ml-2 text-neutral-400",children:"•"})}function l2(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=l2(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ne(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=l2(t))&&(r&&(r+=" "),r+=e);return r}var ym={},u2={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(u2);var tx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(tx);var nx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(nx);var wm={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let s=0,a="",o="",l=!1;for(n.charCodeAt(0)===46&&(r.push(""),s++);s<i;){const u=n[s];o?u==="\\"&&s+1<i?(s++,a+=n[s]):u===o?o="":a+=u:l?u==='"'||u==="'"?o=u:u==="]"?(l=!1,r.push(a),a=""):a+=u:u==="["?(l=!0,a&&(r.push(a),a="")):u==="."?a&&(r.push(a),a=""):a+=u,s++}return a&&r.push(a),r}t.toPath=e})(wm);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=u2,n=tx,r=nx,i=wm;function s(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?n.isDeepKey(l)?s(o,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const c=o[l];return c===void 0?u:c}default:{if(Array.isArray(l))return a(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?u:c}}}function a(o,l,u){if(l.length===0)return u;let c=o;for(let d=0;d<l.length;d++){if(c==null||e.isUnsafeProperty(l[d]))return u;c=c[l[d]]}return c===void 0?u:c}t.get=s})(ym);var JU=ym.get;const Sa=ki(JU);var c2={exports:{}},$e={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rx=Symbol.for("react.transitional.element"),ix=Symbol.for("react.portal"),xm=Symbol.for("react.fragment"),_m=Symbol.for("react.strict_mode"),bm=Symbol.for("react.profiler"),Em=Symbol.for("react.consumer"),Sm=Symbol.for("react.context"),Am=Symbol.for("react.forward_ref"),Pm=Symbol.for("react.suspense"),Tm=Symbol.for("react.suspense_list"),Im=Symbol.for("react.memo"),km=Symbol.for("react.lazy"),ZU=Symbol.for("react.view_transition"),e9=Symbol.for("react.client.reference");function lr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case rx:switch(t=t.type,t){case xm:case bm:case _m:case Pm:case Tm:case ZU:return t;default:switch(t=t&&t.$$typeof,t){case Sm:case Am:case km:case Im:return t;case Em:return t;default:return e}}case ix:return e}}}$e.ContextConsumer=Em;$e.ContextProvider=Sm;$e.Element=rx;$e.ForwardRef=Am;$e.Fragment=xm;$e.Lazy=km;$e.Memo=Im;$e.Portal=ix;$e.Profiler=bm;$e.StrictMode=_m;$e.Suspense=Pm;$e.SuspenseList=Tm;$e.isContextConsumer=function(t){return lr(t)===Em};$e.isContextProvider=function(t){return lr(t)===Sm};$e.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===rx};$e.isForwardRef=function(t){return lr(t)===Am};$e.isFragment=function(t){return lr(t)===xm};$e.isLazy=function(t){return lr(t)===km};$e.isMemo=function(t){return lr(t)===Im};$e.isPortal=function(t){return lr(t)===ix};$e.isProfiler=function(t){return lr(t)===bm};$e.isStrictMode=function(t){return lr(t)===_m};$e.isSuspense=function(t){return lr(t)===Pm};$e.isSuspenseList=function(t){return lr(t)===Tm};$e.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===xm||t===bm||t===_m||t===Pm||t===Tm||typeof t=="object"&&t!==null&&(t.$$typeof===km||t.$$typeof===Im||t.$$typeof===Sm||t.$$typeof===Em||t.$$typeof===Am||t.$$typeof===e9||t.getModuleId!==void 0)};$e.typeOf=lr;c2.exports=$e;var t9=c2.exports,er=t=>t===0?0:t>0?1:-1,Dn=t=>typeof t=="number"&&t!=+t,ea=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,oe=t=>(typeof t=="number"||t instanceof Number)&&!Dn(t),Wr=t=>oe(t)||typeof t=="string",n9=0,Qu=t=>{var e=++n9;return"".concat(t||"").concat(e)},Ps=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!oe(e)&&typeof e!="string")return r;var s;if(ea(e)){if(n==null)return r;var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return Dn(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},d2=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function pr(t,e,n){return oe(t)&&oe(e)?t+n*(e-t):e}function f2(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Sa(r,e))===n)}var lt=t=>t===null||typeof t>"u",Ac=t=>lt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),r9=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function sx(t){if(typeof t!="string")return!1;var e=r9;return e.includes(t)}var i9=["viewBox","children"],ES=["points","pathLength"],bg={svg:i9,polygon:ES,polyline:ES},ax=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(S.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{sx(i)&&(r[i]=s=>n[i](n,s))}),r},s9=(t,e,n)=>r=>(t(e,n,r),null),h2=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];sx(i)&&typeof s=="function"&&(r||(r={}),r[i]=s9(s,e,n))}),r},a9=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function m2(t){if(typeof t!="string")return!1;var e=a9;return e.includes(t)}function Ns(t){var e=Object.entries(t).filter(n=>{var[r]=n;return m2(r)});return Object.fromEntries(e)}var SS=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",AS=null,Eg=null,p2=t=>{if(t===AS&&Array.isArray(Eg))return Eg;var e=[];return S.Children.forEach(t,n=>{lt(n)||(t9.isFragment(n)?e=e.concat(p2(n.props.children)):e.push(n))}),Eg=e,AS=t,e};function g2(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>SS(i)):r=[SS(e)],p2(t).forEach(i=>{var s=Sa(i,"type.displayName")||Sa(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}var Cm=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,o9=(t,e,n,r)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var s=(i=r&&(bg==null?void 0:bg[r]))!==null&&i!==void 0?i:[],a=e.startsWith("data-"),o=typeof t!="function"&&(!!r&&s.includes(e)||m2(e)),l=!!n&&sx(e);return a||o||l},ot=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(S.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(s=>{var a;o9((a=r)===null||a===void 0?void 0:a[s],s,e,n)&&(i[s]=r[s])}),i},l9=["children","width","height","viewBox","className","style","title","desc"];function py(){return py=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},py.apply(null,arguments)}function u9(t,e){if(t==null)return{};var n,r,i=c9(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function c9(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ox=S.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:a,style:o,title:l,desc:u}=t,c=u9(t,l9),d=s||{width:r,height:i,x:0,y:0},h=Ne("recharts-surface",a);return S.createElement("svg",py({},ot(c,!0,"svg"),{className:h,width:r,height:i,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:e}),S.createElement("title",null,l),S.createElement("desc",null,u),n)}),d9=["children","className"];function gy(){return gy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gy.apply(null,arguments)}function f9(t,e){if(t==null)return{};var n,r,i=h9(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function h9(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Pr=S.forwardRef((t,e)=>{var{children:n,className:r}=t,i=f9(t,d9),s=Ne("recharts-layer",r);return S.createElement("g",gy({className:s},ot(i,!0),{ref:e}),n)}),v2=S.createContext(null),m9=()=>S.useContext(v2);function Fe(t){return function(){return t}}const y2=Math.cos,Jf=Math.sin,Tr=Math.sqrt,Zf=Math.PI,Nm=2*Zf,vy=Math.PI,yy=2*vy,Hs=1e-6,p9=yy-Hs;function w2(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function g9(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return w2;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class v9{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?w2:g9(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=r-e,u=i-n,c=a-e,d=o-n,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Hs)if(!(Math.abs(d*l-u*c)>Hs)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,g=i-o,y=l*l+u*u,b=p*p+g*g,w=Math.sqrt(y),x=Math.sqrt(h),_=s*Math.tan((vy-Math.acos((y+h-b)/(2*w*x)))/2),P=_/x,N=_/w;Math.abs(P-1)>Hs&&this._append`L${e+P*c},${n+P*d}`,this._append`A${s},${s},0,0,${+(d*p>c*g)},${this._x1=e+N*l},${this._y1=n+N*u}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=e+o,c=n+l,d=1^a,h=a?i-s:s-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Hs||Math.abs(this._y1-c)>Hs)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%yy+yy),h>p9?this._append`A${r},${r},0,1,${d},${e-o},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:h>Hs&&this._append`A${r},${r},0,${+(h>=vy)},${d},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function lx(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new v9(e)}function ux(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function x2(t){this._context=t}x2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Om(t){return new x2(t)}function _2(t){return t[0]}function b2(t){return t[1]}function E2(t,e){var n=Fe(!0),r=null,i=Om,s=null,a=lx(o);t=typeof t=="function"?t:t===void 0?_2:Fe(t),e=typeof e=="function"?e:e===void 0?b2:Fe(e);function o(l){var u,c=(l=ux(l)).length,d,h=!1,p;for(r==null&&(s=i(p=a())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(d,u,l),+e(d,u,l));if(p)return s=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Fe(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Fe(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Fe(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),o):r},o}function bd(t,e,n){var r=null,i=Fe(!0),s=null,a=Om,o=null,l=lx(u);t=typeof t=="function"?t:t===void 0?_2:Fe(+t),e=typeof e=="function"?e:Fe(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?b2:Fe(+n);function u(d){var h,p,g,y=(d=ux(d)).length,b,w=!1,x,_=new Array(y),P=new Array(y);for(s==null&&(o=a(x=l())),h=0;h<=y;++h){if(!(h<y&&i(b=d[h],h,d))===w)if(w=!w)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=p;--g)o.point(_[g],P[g]);o.lineEnd(),o.areaEnd()}w&&(_[h]=+t(b,h,d),P[h]=+e(b,h,d),o.point(r?+r(b,h,d):_[h],n?+n(b,h,d):P[h]))}if(x)return o=null,x+""||null}function c(){return E2().defined(i).curve(a).context(s)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:Fe(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Fe(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Fe(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:Fe(+d),n=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Fe(+d),u):e},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Fe(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Fe(!!d),u):i},u.curve=function(d){return arguments.length?(a=d,s!=null&&(o=a(s)),u):a},u.context=function(d){return arguments.length?(d==null?s=o=null:o=a(s=d),u):s},u}class S2{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function y9(t){return new S2(t,!0)}function w9(t){return new S2(t,!1)}const cx={draw(t,e){const n=Tr(e/Zf);t.moveTo(n,0),t.arc(0,0,n,0,Nm)}},x9={draw(t,e){const n=Tr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},A2=Tr(1/3),_9=A2*2,b9={draw(t,e){const n=Tr(e/_9),r=n*A2;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},E9={draw(t,e){const n=Tr(e),r=-n/2;t.rect(r,r,n,n)}},S9=.8908130915292852,P2=Jf(Zf/10)/Jf(7*Zf/10),A9=Jf(Nm/10)*P2,P9=-y2(Nm/10)*P2,T9={draw(t,e){const n=Tr(e*S9),r=A9*n,i=P9*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=Nm*s/5,o=y2(a),l=Jf(a);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},Sg=Tr(3),I9={draw(t,e){const n=-Tr(e/(Sg*3));t.moveTo(0,n*2),t.lineTo(-Sg*n,-n),t.lineTo(Sg*n,-n),t.closePath()}},Un=-.5,zn=Tr(3)/2,wy=1/Tr(12),k9=(wy/2+1)*3,C9={draw(t,e){const n=Tr(e/k9),r=n/2,i=n*wy,s=r,a=n*wy+n,o=-s,l=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(o,l),t.lineTo(Un*r-zn*i,zn*r+Un*i),t.lineTo(Un*s-zn*a,zn*s+Un*a),t.lineTo(Un*o-zn*l,zn*o+Un*l),t.lineTo(Un*r+zn*i,Un*i-zn*r),t.lineTo(Un*s+zn*a,Un*a-zn*s),t.lineTo(Un*o+zn*l,Un*l-zn*o),t.closePath()}};function N9(t,e){let n=null,r=lx(i);t=typeof t=="function"?t:Fe(t||cx),e=typeof e=="function"?e:Fe(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Fe(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Fe(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function eh(){}function th(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function T2(t){this._context=t}T2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:th(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:th(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function O9(t){return new T2(t)}function I2(t){this._context=t}I2.prototype={areaStart:eh,areaEnd:eh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:th(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function j9(t){return new I2(t)}function k2(t){this._context=t}k2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:th(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function R9(t){return new k2(t)}function C2(t){this._context=t}C2.prototype={areaStart:eh,areaEnd:eh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function D9(t){return new C2(t)}function PS(t){return t<0?-1:1}function TS(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(PS(s)+PS(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function IS(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ag(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-r)/3;t._context.bezierCurveTo(r+o,i+o*e,s-o,a-o*n,s,a)}function nh(t){this._context=t}nh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ag(this,this._t0,IS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ag(this,IS(this,n=TS(this,t,e)),n);break;default:Ag(this,this._t0,n=TS(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function N2(t){this._context=new O2(t)}(N2.prototype=Object.create(nh.prototype)).point=function(t,e){nh.prototype.point.call(this,e,t)};function O2(t){this._context=t}O2.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function M9(t){return new nh(t)}function L9(t){return new N2(t)}function j2(t){this._context=t}j2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=kS(t),i=kS(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function kS(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function $9(t){return new j2(t)}function jm(t,e){this._context=t,this._t=e}jm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function V9(t){return new jm(t,.5)}function F9(t){return new jm(t,0)}function B9(t){return new jm(t,1)}function Wo(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,o=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function xy(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function U9(t,e){return t[e]}function z9(t){const e=[];return e.key=t,e}function W9(){var t=Fe([]),e=xy,n=Wo,r=U9;function i(s){var a=Array.from(t.apply(this,arguments),z9),o,l=a.length,u=-1,c;for(const d of s)for(o=0,++u;o<l;++o)(a[o][u]=[0,+r(d,a[o].key,u,s)]).data=d;for(o=0,c=ux(e(a));o<l;++o)a[c[o]].index=o;return n(a,c),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Fe(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Fe(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?xy:typeof s=="function"?s:Fe(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Wo,i):n},i}function H9(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Wo(t,e)}}function K9(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,o=0;a<i;++a)o+=t[a][n][1]||0;r[n][1]+=r[n][0]=-o/2}Wo(t,e)}}function G9(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var o=0,l=0,u=0;o<a;++o){for(var c=t[e[o]],d=c[r][1]||0,h=c[r-1][1]||0,p=(d-h)/2,g=0;g<o;++g){var y=t[e[g]],b=y[r][1]||0,w=y[r-1][1]||0;p+=b-w}l+=d,u+=p*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Wo(t,e)}}var q9=["type","size","sizeType"];function _y(){return _y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_y.apply(null,arguments)}function CS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CS(Object(n),!0).forEach(function(r){Y9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y9(t,e,n){return(e=Q9(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q9(t){var e=X9(t,"string");return typeof e=="symbol"?e:e+""}function X9(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J9(t,e){if(t==null)return{};var n,r,i=Z9(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Z9(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var R2={symbolCircle:cx,symbolCross:x9,symbolDiamond:b9,symbolSquare:E9,symbolStar:T9,symbolTriangle:I9,symbolWye:C9},ez=Math.PI/180,tz=t=>{var e="symbol".concat(Ac(t));return R2[e]||cx},nz=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*ez;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},rz=(t,e)=>{R2["symbol".concat(Ac(t))]=e},D2=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=J9(t,q9),s=NS(NS({},i),{},{type:e,size:n,sizeType:r}),a=()=>{var d=tz(e),h=N9().type(d).size(nz(n,r,e));return h()},{className:o,cx:l,cy:u}=s,c=ot(s,!0);return l===+l&&u===+u&&n===+n?S.createElement("path",_y({},c,{className:Ne("recharts-symbols",o),transform:"translate(".concat(l,", ").concat(u,")"),d:a()})):null};D2.registerSymbol=rz;function by(){return by=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},by.apply(null,arguments)}function OS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OS(Object(n),!0).forEach(function(r){dx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dx(t,e,n){return(e=sz(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sz(t){var e=az(t,"string");return typeof e=="symbol"?e:e+""}function az(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wn=32;class fx extends S.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,i=Wn/2,s=Wn/6,a=Wn/3,o=e.inactive?r:e.color,l=n??e.type;if(l==="none")return null;if(l==="plainline")return S.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:Wn,y2:i,className:"recharts-legend-icon"});if(l==="line")return S.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(i,`
            H`).concat(Wn,"M").concat(2*a,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return S.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Wn/8,"h").concat(Wn,"v").concat(Wn*3/4,"h").concat(-Wn,"z"),className:"recharts-legend-icon"});if(S.isValidElement(e.legendIcon)){var u=iz({},e);return delete u.legendIcon,S.cloneElement(e.legendIcon,u)}return S.createElement(D2,{fill:o,cx:i,cy:i,size:Wn,sizeType:"diameter",type:l})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:s,iconType:a}=this.props,o={x:0,y:0,width:Wn,height:Wn},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((c,d)=>{var h=c.formatter||i,p=Ne({"recharts-legend-item":!0,["legend-item-".concat(d)]:!0,inactive:c.inactive});if(c.type==="none")return null;var g=c.inactive?s:c.color,y=h?h(c.value,c,d):c.value;return S.createElement("li",by({className:p,style:l,key:"legend-item-".concat(d)},h2(this.props,c,d)),S.createElement(ox,{width:n,height:n,viewBox:o,style:u,"aria-label":"".concat(y," legend icon")},this.renderIcon(c,a)),S.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},y))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return S.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}dx(fx,"displayName","Legend");dx(fx,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var M2={},L2={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const a=n[s],o=r(a);i.has(o)||i.set(o,a)}return Array.from(i.values())}t.uniqBy=e})(L2);var hx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(hx);var $2={},Rm={},V2={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(V2);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=V2;function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Rm);var F2={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(F2);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Rm,n=F2;function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})($2);var B2={},U2={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ym;function n(r){return function(i){return e.get(i,r)}}t.property=n})(U2);var z2={},Pg={},Tg={},mx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(mx);var px={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(px);var Dm={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Dm);var jS;function oz(){return jS||(jS=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gx(),n=mx,r=px,i=Dm;function s(d,h,p){return typeof p!="function"?e.isMatch(d,h):a(d,h,function g(y,b,w,x,_,P){const N=p(y,b,w,x,_,P);return N!==void 0?!!N:a(y,b,g,P)},new Map)}function a(d,h,p,g){if(h===d)return!0;switch(typeof h){case"object":return o(d,h,p,g);case"function":return Object.keys(h).length>0?a(d,{...h},p,g):i.eq(d,h);default:return n.isObject(d)?typeof h=="string"?h==="":!0:i.eq(d,h)}}function o(d,h,p,g){if(h==null)return!0;if(Array.isArray(h))return u(d,h,p,g);if(h instanceof Map)return l(d,h,p,g);if(h instanceof Set)return c(d,h,p,g);const y=Object.keys(h);if(d==null)return y.length===0;if(y.length===0)return!0;if(g&&g.has(h))return g.get(h)===d;g&&g.set(h,d);try{for(let b=0;b<y.length;b++){const w=y[b];if(!r.isPrimitive(d)&&!(w in d)||h[w]===void 0&&d[w]!==void 0||h[w]===null&&d[w]!==null||!p(d[w],h[w],w,d,h,g))return!1}return!0}finally{g&&g.delete(h)}}function l(d,h,p,g){if(h.size===0)return!0;if(!(d instanceof Map))return!1;for(const[y,b]of h.entries()){const w=d.get(y);if(p(w,b,y,d,h,g)===!1)return!1}return!0}function u(d,h,p,g){if(h.length===0)return!0;if(!Array.isArray(d))return!1;const y=new Set;for(let b=0;b<h.length;b++){const w=h[b];let x=!1;for(let _=0;_<d.length;_++){if(y.has(_))continue;const P=d[_];let N=!1;if(p(P,w,b,d,h,g)&&(N=!0),N){y.add(_),x=!0;break}}if(!x)return!1}return!0}function c(d,h,p,g){return h.size===0?!0:d instanceof Set?u([...d],[...h],p,g):!1}t.isMatchWith=s,t.isSetMatch=c}(Tg)),Tg}var RS;function gx(){return RS||(RS=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oz();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n}(Pg)),Pg}var W2={},vx={},yx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(yx);var Mm={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Mm);var Lm={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",d="[object Function]",h="[object ArrayBuffer]",p="[object Object]",g="[object Error]",y="[object DataView]",b="[object Uint8Array]",w="[object Uint8ClampedArray]",x="[object Uint16Array]",_="[object Uint32Array]",P="[object BigUint64Array]",N="[object Int8Array]",D="[object Int16Array]",I="[object Int32Array]",A="[object BigInt64Array]",k="[object Float32Array]",T="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=h,t.arrayTag=c,t.bigInt64ArrayTag=A,t.bigUint64ArrayTag=P,t.booleanTag=i,t.dataViewTag=y,t.dateTag=o,t.errorTag=g,t.float32ArrayTag=k,t.float64ArrayTag=T,t.functionTag=d,t.int16ArrayTag=D,t.int32ArrayTag=I,t.int8ArrayTag=N,t.mapTag=l,t.numberTag=r,t.objectTag=p,t.regexpTag=e,t.setTag=u,t.stringTag=n,t.symbolTag=a,t.uint16ArrayTag=x,t.uint32ArrayTag=_,t.uint8ArrayTag=b,t.uint8ClampedArrayTag=w})(Lm);var H2={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(H2);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yx,n=Mm,r=Lm,i=px,s=H2;function a(c,d){return o(c,void 0,c,new Map,d)}function o(c,d,h,p=new Map,g=void 0){const y=g==null?void 0:g(c,d,h,p);if(y!==void 0)return y;if(i.isPrimitive(c))return c;if(p.has(c))return p.get(c);if(Array.isArray(c)){const b=new Array(c.length);p.set(c,b);for(let w=0;w<c.length;w++)b[w]=o(c[w],w,h,p,g);return Object.hasOwn(c,"index")&&(b.index=c.index),Object.hasOwn(c,"input")&&(b.input=c.input),b}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const b=new RegExp(c.source,c.flags);return b.lastIndex=c.lastIndex,b}if(c instanceof Map){const b=new Map;p.set(c,b);for(const[w,x]of c)b.set(w,o(x,w,h,p,g));return b}if(c instanceof Set){const b=new Set;p.set(c,b);for(const w of c)b.add(o(w,void 0,h,p,g));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(s.isTypedArray(c)){const b=new(Object.getPrototypeOf(c)).constructor(c.length);p.set(c,b);for(let w=0;w<c.length;w++)b[w]=o(c[w],w,h,p,g);return b}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const b=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return p.set(c,b),l(b,c,h,p,g),b}if(typeof File<"u"&&c instanceof File){const b=new File([c],c.name,{type:c.type});return p.set(c,b),l(b,c,h,p,g),b}if(c instanceof Blob){const b=new Blob([c],{type:c.type});return p.set(c,b),l(b,c,h,p,g),b}if(c instanceof Error){const b=new c.constructor;return p.set(c,b),b.message=c.message,b.name=c.name,b.stack=c.stack,b.cause=c.cause,l(b,c,h,p,g),b}if(typeof c=="object"&&u(c)){const b=Object.create(Object.getPrototypeOf(c));return p.set(c,b),l(b,c,h,p,g),b}return c}function l(c,d,h=c,p,g){const y=[...Object.keys(d),...e.getSymbols(d)];for(let b=0;b<y.length;b++){const w=y[b],x=Object.getOwnPropertyDescriptor(c,w);(x==null||x.writable)&&(c[w]=o(d[w],w,h,p,g))}}function u(c){switch(n.getTag(c)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=o,t.copyProperties=l})(vx);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vx;function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(W2);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gx(),n=W2;function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(z2);var K2={},G2={},q2={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vx,n=Lm;function r(i,s){return e.cloneDeepWith(i,(a,o,l,u)=>{const c=s==null?void 0:s(a,o,l,u);if(c!==void 0)return c;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const d=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(d,i),d}case n.argumentsTag:{const d={};return e.copyProperties(d,i),d.length=i.length,d[Symbol.iterator]=i[Symbol.iterator],d}default:return}})}t.cloneDeepWith=r})(q2);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=q2;function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(G2);var Y2={},wx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(wx);var Q2={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Mm;function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Q2);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tx,n=wx,r=Q2,i=wm;function s(a,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&e.isDeepKey(o)&&(a==null?void 0:a[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let u=a;for(let c=0;c<l.length;c++){const d=l[c];if((u==null||!Object.hasOwn(u,d))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(d)&&d<u.length))return!1;u=u[d]}return!0}t.has=s})(Y2);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gx(),n=nx,r=G2,i=ym,s=Y2;function a(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(u){const c=i.get(u,o);return c===void 0?s.has(u,o):l===void 0?c===void 0:e.isMatch(c,l)}}t.matchesProperty=a})(K2);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hx,n=U2,r=z2,i=K2;function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}t.iteratee=s})(B2);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=L2,n=hx,r=$2,i=B2;function s(a,o=n.identity){return r.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(o)):[]}t.uniqBy=s})(M2);var lz=M2.uniqBy;const DS=ki(lz);function X2(t,e,n){return e===!0?DS(t,n):typeof e=="function"?DS(t,e):t}var J2={exports:{}},Z2={},eO={exports:{}},tO={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ho=S;function uz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cz=typeof Object.is=="function"?Object.is:uz,dz=Ho.useState,fz=Ho.useEffect,hz=Ho.useLayoutEffect,mz=Ho.useDebugValue;function pz(t,e){var n=e(),r=dz({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return hz(function(){i.value=n,i.getSnapshot=e,Ig(i)&&s({inst:i})},[t,n,e]),fz(function(){return Ig(i)&&s({inst:i}),t(function(){Ig(i)&&s({inst:i})})},[t]),mz(n),n}function Ig(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!cz(t,n)}catch{return!0}}function gz(t,e){return e()}var vz=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?gz:pz;tO.useSyncExternalStore=Ho.useSyncExternalStore!==void 0?Ho.useSyncExternalStore:vz;eO.exports=tO;var yz=eO.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $m=S,wz=yz;function xz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _z=typeof Object.is=="function"?Object.is:xz,bz=wz.useSyncExternalStore,Ez=$m.useRef,Sz=$m.useEffect,Az=$m.useMemo,Pz=$m.useDebugValue;Z2.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=Ez(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=Az(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&a.hasValue){var g=a.value;if(i(g,p))return d=g}return d=p}if(g=d,_z(c,p))return g;var y=r(p);return i!==void 0&&i(g,y)?(c=p,g):(c=p,d=y)}var u=!1,c,d,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var o=bz(t,s[0],s[1]);return Sz(function(){a.hasValue=!0,a.value=o},[o]),Pz(o),o};J2.exports=Z2;var Tz=J2.exports,xx=S.createContext(null),Iz=t=>t,Ut=()=>{var t=S.useContext(xx);return t?t.store.dispatch:Iz},of=()=>{},kz=()=>of,Cz=(t,e)=>t===e;function ce(t){var e=S.useContext(xx);return Tz.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:kz,e?e.store.getState:of,e?e.store.getState:of,e?t:of,Cz)}function Nz(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Oz(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function jz(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var MS=t=>Array.isArray(t)?t:[t];function Rz(t){const e=Array.isArray(t[0])?t[0]:t;return jz(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Dz(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var Mz=class{constructor(t){this.value=t}deref(){return this.value}},Lz=typeof WeakRef<"u"?WeakRef:Mz,$z=0,LS=1;function Ed(){return{s:$z,v:void 0,o:null,p:null}}function nO(t,e={}){let n=Ed();const{resultEqualityCheck:r}=e;let i,s=0;function a(){var d;let o=n;const{length:l}=arguments;for(let h=0,p=l;h<p;h++){const g=arguments[h];if(typeof g=="function"||typeof g=="object"&&g!==null){let y=o.o;y===null&&(o.o=y=new WeakMap);const b=y.get(g);b===void 0?(o=Ed(),y.set(g,o)):o=b}else{let y=o.p;y===null&&(o.p=y=new Map);const b=y.get(g);b===void 0?(o=Ed(),y.set(g,o)):o=b}}const u=o;let c;if(o.s===LS)c=o.v;else if(c=t.apply(null,arguments),s++,r){const h=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;h!=null&&r(h,c)&&(c=h,s!==0&&s--),i=typeof c=="object"&&c!==null||typeof c=="function"?new Lz(c):c}return u.s=LS,u.v=c,c}return a.clearCache=()=>{n=Ed(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function Vz(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,a=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),Nz(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:d,memoizeOptions:h=[],argsMemoize:p=nO,argsMemoizeOptions:g=[]}=c,y=MS(h),b=MS(g),w=Rz(i),x=d(function(){return s++,u.apply(null,arguments)},...y),_=p(function(){a++;const N=Dz(w,arguments);return o=x.apply(null,N),o},...b);return Object.assign(_,{resultFunc:u,memoizedResultFunc:x,dependencies:w,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var W=Vz(nO),Fz=Object.assign((t,e=W)=>{Oz(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((a,o,l)=>(a[n[l]]=o,a),{}))},{withTypes:()=>Fz}),rO={},iO={},sO={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const a=e(r),o=e(i);if(a===o&&a===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};t.compareValues=n})(sO);var aO={},_x={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(_x);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_x,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||a!=null&&Object.hasOwn(a,s)}t.isKey=i})(aO);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sO,n=aO,r=wm;function i(s,a,o,l){if(s==null)return[];o=l?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(p=>String(p));const u=(p,g)=>{let y=p;for(let b=0;b<g.length&&y!=null;++b)y=y[g[b]];return y},c=(p,g)=>g==null||p==null?g:typeof p=="object"&&"key"in p?Object.hasOwn(g,p.key)?g[p.key]:u(g,p.path):typeof p=="function"?p(g):Array.isArray(p)?u(g,p):typeof g=="object"?g[p]:g,d=a.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return s.map(p=>({original:p,criteria:d.map(g=>c(g,p))})).slice().sort((p,g)=>{for(let y=0;y<d.length;y++){const b=e.compareValues(p.criteria[y],g.criteria[y],o[y]);if(b!==0)return b}return 0}).map(p=>p.original)}t.orderBy=i})(iO);var oO={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),a=(o,l)=>{for(let u=0;u<o.length;u++){const c=o[u];Array.isArray(c)&&l<s?a(c,l+1):i.push(c)}};return a(n,0),i}t.flatten=e})(oO);var bx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wx,n=Rm,r=mx,i=Dm;function s(a,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&e.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],a):!1}t.isIterateeCall=s})(bx);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iO,n=oO,r=bx;function i(s,...a){const o=a.length;return o>1&&r.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,n.flatten(a),["asc"])}t.sortBy=i})(rO);var Bz=rO.sortBy;const Vm=ki(Bz);var lO=t=>t.legend.settings,Uz=t=>t.legend.size,zz=t=>t.legend.payload,Wz=W([zz,lO],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Vm(r,n):r});function Hz(){return ce(Wz)}var Sd=1;function uO(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=S.useState({height:0,left:0,top:0,width:0}),r=S.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>Sd||Math.abs(a.left-e.left)>Sd||Math.abs(a.top-e.top)>Sd||Math.abs(a.width-e.width)>Sd)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Ot(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Kz=typeof Symbol=="function"&&Symbol.observable||"@@observable",$S=Kz,kg=()=>Math.random().toString(36).substring(7).split("").join("."),Gz={INIT:`@@redux/INIT${kg()}`,REPLACE:`@@redux/REPLACE${kg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${kg()}`},rh=Gz;function Ex(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function cO(t,e,n){if(typeof t!="function")throw new Error(Ot(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ot(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ot(1));return n(cO)(t,e)}let r=t,i=e,s=new Map,a=s,o=0,l=!1;function u(){a===s&&(a=new Map,s.forEach((b,w)=>{a.set(w,b)}))}function c(){if(l)throw new Error(Ot(3));return i}function d(b){if(typeof b!="function")throw new Error(Ot(4));if(l)throw new Error(Ot(5));let w=!0;u();const x=o++;return a.set(x,b),function(){if(w){if(l)throw new Error(Ot(6));w=!1,u(),a.delete(x),s=null}}}function h(b){if(!Ex(b))throw new Error(Ot(7));if(typeof b.type>"u")throw new Error(Ot(8));if(typeof b.type!="string")throw new Error(Ot(17));if(l)throw new Error(Ot(9));try{l=!0,i=r(i,b)}finally{l=!1}return(s=a).forEach(x=>{x()}),b}function p(b){if(typeof b!="function")throw new Error(Ot(10));r=b,h({type:rh.REPLACE})}function g(){const b=d;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(Ot(11));function x(){const P=w;P.next&&P.next(c())}return x(),{unsubscribe:b(x)}},[$S](){return this}}}return h({type:rh.INIT}),{dispatch:h,subscribe:d,getState:c,replaceReducer:p,[$S]:g}}function qz(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:rh.INIT})>"u")throw new Error(Ot(12));if(typeof n(void 0,{type:rh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ot(13))})}function dO(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{qz(n)}catch(s){i=s}return function(a={},o){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const d=r[c],h=n[d],p=a[d],g=h(p,o);if(typeof g>"u")throw o&&o.type,new Error(Ot(14));u[d]=g,l=l||g!==p}return l=l||r.length!==Object.keys(a).length,l?u:a}}function ih(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Yz(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Ot(15))};const a={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},o=t.map(l=>l(a));return s=ih(...o)(i.dispatch),{...i,dispatch:s}}}function fO(t){return Ex(t)&&"type"in t&&typeof t.type=="string"}var hO=Symbol.for("immer-nothing"),VS=Symbol.for("immer-draftable"),Mn=Symbol.for("immer-state");function vr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ko=Object.getPrototypeOf;function Aa(t){return!!t&&!!t[Mn]}function Ai(t){var e;return t?mO(t)||Array.isArray(t)||!!t[VS]||!!((e=t.constructor)!=null&&e[VS])||Bm(t)||Um(t):!1}var Qz=Object.prototype.constructor.toString();function mO(t){if(!t||typeof t!="object")return!1;const e=Ko(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Qz}function sh(t,e){Fm(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Fm(t){const e=t[Mn];return e?e.type_:Array.isArray(t)?1:Bm(t)?2:Um(t)?3:0}function Ey(t,e){return Fm(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function pO(t,e,n){const r=Fm(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Xz(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Bm(t){return t instanceof Map}function Um(t){return t instanceof Set}function Ks(t){return t.copy_||t.base_}function Sy(t,e){if(Bm(t))return new Map(t);if(Um(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=mO(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Mn];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],o=r[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[a]})}return Object.create(Ko(t),r)}else{const r=Ko(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function Sx(t,e=!1){return zm(t)||Aa(t)||!Ai(t)||(Fm(t)>1&&(t.set=t.add=t.clear=t.delete=Jz),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>Sx(r,!0))),t}function Jz(){vr(2)}function zm(t){return Object.isFrozen(t)}var Zz={};function Pa(t){const e=Zz[t];return e||vr(0,t),e}var Xu;function gO(){return Xu}function e8(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function FS(t,e){e&&(Pa("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Ay(t){Py(t),t.drafts_.forEach(t8),t.drafts_=null}function Py(t){t===Xu&&(Xu=t.parent_)}function BS(t){return Xu=e8(Xu,t)}function t8(t){const e=t[Mn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function US(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Mn].modified_&&(Ay(e),vr(4)),Ai(t)&&(t=ah(e,t),e.parent_||oh(e,t)),e.patches_&&Pa("Patches").generateReplacementPatches_(n[Mn].base_,t,e.patches_,e.inversePatches_)):t=ah(e,n,[]),Ay(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==hO?t:void 0}function ah(t,e,n){if(zm(e))return e;const r=e[Mn];if(!r)return sh(e,(i,s)=>zS(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return oh(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,a=!1;r.type_===3&&(s=new Set(i),i.clear(),a=!0),sh(s,(o,l)=>zS(t,r,i,o,l,n,a)),oh(t,i,!1),n&&t.patches_&&Pa("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function zS(t,e,n,r,i,s,a){if(Aa(i)){const o=s&&e&&e.type_!==3&&!Ey(e.assigned_,r)?s.concat(r):void 0,l=ah(t,i,o);if(pO(n,r,l),Aa(l))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(Ai(i)&&!zm(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;ah(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&oh(t,i)}}function oh(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Sx(e,n)}function n8(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:gO(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=Ax;n&&(i=[r],s=Ju);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return r.draft_=o,r.revoke_=a,o}var Ax={get(t,e){if(e===Mn)return t;const n=Ks(t);if(!Ey(n,e))return r8(t,n,e);const r=n[e];return t.finalized_||!Ai(r)?r:r===Cg(t.base_,e)?(Ng(t),t.copy_[e]=Iy(r,t)):r},has(t,e){return e in Ks(t)},ownKeys(t){return Reflect.ownKeys(Ks(t))},set(t,e,n){const r=vO(Ks(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Cg(Ks(t),e),s=i==null?void 0:i[Mn];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Xz(n,i)&&(n!==void 0||Ey(t.base_,e)))return!0;Ng(t),Ty(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Cg(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Ng(t),Ty(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ks(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){vr(11)},getPrototypeOf(t){return Ko(t.base_)},setPrototypeOf(){vr(12)}},Ju={};sh(Ax,(t,e)=>{Ju[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Ju.deleteProperty=function(t,e){return Ju.set.call(this,t,e,void 0)};Ju.set=function(t,e,n){return Ax.set.call(this,t[0],e,n,t[0])};function Cg(t,e){const n=t[Mn];return(n?Ks(n):t)[e]}function r8(t,e,n){var i;const r=vO(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function vO(t,e){if(!(e in t))return;let n=Ko(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Ko(n)}}function Ty(t){t.modified_||(t.modified_=!0,t.parent_&&Ty(t.parent_))}function Ng(t){t.copy_||(t.copy_=Sy(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var i8=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const a=this;return function(l=s,...u){return a.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&vr(6),r!==void 0&&typeof r!="function"&&vr(7);let i;if(Ai(e)){const s=BS(this),a=Iy(e,void 0);let o=!0;try{i=n(a),o=!1}finally{o?Ay(s):Py(s)}return FS(s,r),US(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===hO&&(i=void 0),this.autoFreeze_&&Sx(i,!0),r){const s=[],a=[];Pa("Patches").generateReplacementPatches_(e,i,s,a),r(s,a)}return i}else vr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,l=>e(l,...o));let r,i;return[this.produce(e,n,(a,o)=>{r=a,i=o}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Ai(t)||vr(8),Aa(t)&&(t=mi(t));const e=BS(this),n=Iy(t,void 0);return n[Mn].isManual_=!0,Py(e),n}finishDraft(t,e){const n=t&&t[Mn];(!n||!n.isManual_)&&vr(9);const{scope_:r}=n;return FS(r,e),US(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Pa("Patches").applyPatches_;return Aa(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Iy(t,e){const n=Bm(t)?Pa("MapSet").proxyMap_(t,e):Um(t)?Pa("MapSet").proxySet_(t,e):n8(t,e);return(e?e.scope_:gO()).drafts_.push(n),n}function mi(t){return Aa(t)||vr(10,t),yO(t)}function yO(t){if(!Ai(t)||zm(t))return t;const e=t[Mn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Sy(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Sy(t,!0);return sh(n,(r,i)=>{pO(n,r,yO(i))}),e&&(e.finalized_=!1),n}var Ln=new i8,wO=Ln.produce;Ln.produceWithPatches.bind(Ln);Ln.setAutoFreeze.bind(Ln);Ln.setUseStrictShallowCopy.bind(Ln);Ln.applyPatches.bind(Ln);Ln.createDraft.bind(Ln);Ln.finishDraft.bind(Ln);function xO(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var s8=xO(),a8=xO,o8=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ih:ih.apply(null,arguments)};function ar(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(jn(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>fO(r)&&r.type===t,n}var _O=class nu extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,nu.prototype)}static get[Symbol.species](){return nu}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new nu(...e[0].concat(this)):new nu(...e.concat(this))}};function WS(t){return Ai(t)?wO(t,()=>{}):t}function Ad(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function l8(t){return typeof t=="boolean"}var u8=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new _O;return n&&(l8(n)?a.push(s8):a.push(a8(n.extraArgument))),a},c8="RTK_autoBatch",HS=t=>e=>{setTimeout(e,t)},d8=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,a=!1;const o=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:HS(10):t.type==="callback"?t.queueNotification:HS(t.timeout),u=()=>{a=!1,s&&(s=!1,o.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const d=()=>i&&c(),h=r.subscribe(d);return o.add(c),()=>{h(),o.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[c8]),s=!i,s&&(a||(a=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},f8=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new _O(t);return r&&i.push(d8(typeof r=="object"?r:void 0)),i};function h8(t){const e=u8(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let o;if(typeof n=="function")o=n;else if(Ex(n))o=dO(n);else throw new Error(jn(1));let l;typeof r=="function"?l=r(e):l=e();let u=ih;i&&(u=o8({trace:!1,...typeof i=="object"&&i}));const c=Yz(...l),d=f8(c);let h=typeof a=="function"?a(d):d();const p=u(...h);return cO(o,s,p)}function bO(t){const e={},n=[];let r;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(jn(28));if(o in e)throw new Error(jn(29));return e[o]=a,i},addMatcher(s,a){return n.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function m8(t){return typeof t=="function"}function p8(t,e){let[n,r,i]=bO(e),s;if(m8(t))s=()=>WS(t());else{const o=WS(t);s=()=>o}function a(o=s(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(Aa(c)){const p=d(c,l);return p===void 0?c:p}else{if(Ai(c))return wO(c,h=>d(h,l));{const h=d(c,l);if(h===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return c},o)}return a.getInitialState=s,a}var g8="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",v8=(t=21)=>{let e="",n=t;for(;n--;)e+=g8[Math.random()*64|0];return e},y8=Symbol.for("rtk-slice-createasyncthunk");function w8(t,e){return`${t}/${e}`}function x8({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[y8];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(jn(11));const o=(typeof i.reducers=="function"?i.reducers(b8()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(P,N){const D=typeof P=="string"?P:P.type;if(!D)throw new Error(jn(12));if(D in u.sliceCaseReducersByType)throw new Error(jn(13));return u.sliceCaseReducersByType[D]=N,c},addMatcher(P,N){return u.sliceMatchers.push({matcher:P,reducer:N}),c},exposeAction(P,N){return u.actionCreators[P]=N,c},exposeCaseReducer(P,N){return u.sliceCaseReducersByName[P]=N,c}};l.forEach(P=>{const N=o[P],D={reducerName:P,type:w8(s,P),createNotation:typeof i.reducers=="function"};S8(N)?P8(D,N,c,e):E8(D,N,c)});function d(){const[P={},N=[],D=void 0]=typeof i.extraReducers=="function"?bO(i.extraReducers):[i.extraReducers],I={...P,...u.sliceCaseReducersByType};return p8(i.initialState,A=>{for(let k in I)A.addCase(k,I[k]);for(let k of u.sliceMatchers)A.addMatcher(k.matcher,k.reducer);for(let k of N)A.addMatcher(k.matcher,k.reducer);D&&A.addDefaultCase(D)})}const h=P=>P,p=new Map,g=new WeakMap;let y;function b(P,N){return y||(y=d()),y(P,N)}function w(){return y||(y=d()),y.getInitialState()}function x(P,N=!1){function D(A){let k=A[P];return typeof k>"u"&&N&&(k=Ad(g,D,w)),k}function I(A=h){const k=Ad(p,N,()=>new WeakMap);return Ad(k,A,()=>{const T={};for(const[O,R]of Object.entries(i.selectors??{}))T[O]=_8(R,A,()=>Ad(g,A,w),N);return T})}return{reducerPath:P,getSelectors:I,get selectors(){return I(D)},selectSlice:D}}const _={name:s,reducer:b,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:w,...x(a),injectInto(P,{reducerPath:N,...D}={}){const I=N??a;return P.inject({reducerPath:I,reducer:b},D),{..._,...x(I,!0)}}};return _}}function _8(t,e,n,r){function i(s,...a){let o=e(s);return typeof o>"u"&&r&&(o=n()),t(o,...a)}return i.unwrapped=t,i}var Fn=x8();function b8(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function E8({type:t,reducerName:e,createNotation:n},r,i){let s,a;if("reducer"in r){if(n&&!A8(r))throw new Error(jn(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?ar(t,a):ar(t))}function S8(t){return t._reducerDefinitionType==="asyncThunk"}function A8(t){return t._reducerDefinitionType==="reducerWithPrepare"}function P8({type:t,reducerName:e},n,r,i){if(!i)throw new Error(jn(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:l,settled:u,options:c}=n,d=i(t,s,c);r.exposeAction(e,d),a&&r.addCase(d.fulfilled,a),o&&r.addCase(d.pending,o),l&&r.addCase(d.rejected,l),u&&r.addMatcher(d.settled,u),r.exposeCaseReducer(e,{fulfilled:a||Pd,pending:o||Pd,rejected:l||Pd,settled:u||Pd})}function Pd(){}var T8="task",EO="listener",SO="completed",Px="cancelled",I8=`task-${Px}`,k8=`task-${SO}`,ky=`${EO}-${Px}`,C8=`${EO}-${SO}`,Wm=class{constructor(t){Mp(this,"name","TaskAbortError");Mp(this,"message");this.code=t,this.message=`${T8} ${Px} (reason: ${t})`}},Tx=(t,e)=>{if(typeof t!="function")throw new TypeError(jn(32))},lh=()=>{},AO=(t,e=lh)=>(t.catch(e),t),PO=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),ua=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},ca=t=>{if(t.aborted){const{reason:e}=t;throw new Wm(e)}};function TO(t,e){let n=lh;return new Promise((r,i)=>{const s=()=>i(new Wm(t.reason));if(t.aborted){s();return}n=PO(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=lh})}var N8=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Wm?"cancelled":"rejected",error:n}}finally{e==null||e()}},uh=t=>e=>AO(TO(t,e).then(n=>(ca(t),n))),IO=t=>{const e=uh(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Po}=Object,KS={},Hm="listenerMiddleware",O8=(t,e)=>{const n=r=>PO(t,()=>ua(r,t.reason));return(r,i)=>{Tx(r);const s=new AbortController;n(s);const a=N8(async()=>{ca(t),ca(s.signal);const o=await r({pause:uh(s.signal),delay:IO(s.signal),signal:s.signal});return ca(s.signal),o},()=>ua(s,k8));return i!=null&&i.autoJoin&&e.push(a.catch(lh)),{result:uh(t)(a),cancel(){ua(s,I8)}}}},j8=(t,e)=>{const n=async(r,i)=>{ca(e);let s=()=>{};const o=[new Promise((l,u)=>{let c=t({predicate:r,effect:(d,h)=>{h.unsubscribe(),l([d,h.getState(),h.getOriginalState()])}});s=()=>{c(),u()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await TO(e,Promise.race(o));return ca(e),l}finally{s()}};return(r,i)=>AO(n(r,i))},kO=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=ar(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(jn(21));return Tx(s),{predicate:i,type:e,effect:s}},CO=Po(t=>{const{type:e,predicate:n,effect:r}=kO(t);return{id:v8(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(jn(22))}}},{withTypes:()=>CO}),GS=(t,e)=>{const{type:n,effect:r,predicate:i}=kO(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},Cy=t=>{t.pending.forEach(e=>{ua(e,ky)})},R8=t=>()=>{t.forEach(Cy),t.clear()},qS=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},NO=Po(ar(`${Hm}/add`),{withTypes:()=>NO}),D8=ar(`${Hm}/removeAll`),OO=Po(ar(`${Hm}/remove`),{withTypes:()=>OO}),M8=(...t)=>{console.error(`${Hm}/error`,...t)},Pc=(t={})=>{const e=new Map,{extra:n,onError:r=M8}=t;Tx(r);const i=c=>(c.unsubscribe=()=>e.delete(c.id),e.set(c.id,c),d=>{c.unsubscribe(),d!=null&&d.cancelActive&&Cy(c)}),s=c=>{const d=GS(e,c)??CO(c);return i(d)};Po(s,{withTypes:()=>s});const a=c=>{const d=GS(e,c);return d&&(d.unsubscribe(),c.cancelActive&&Cy(d)),!!d};Po(a,{withTypes:()=>a});const o=async(c,d,h,p)=>{const g=new AbortController,y=j8(s,g.signal),b=[];try{c.pending.add(g),await Promise.resolve(c.effect(d,Po({},h,{getOriginalState:p,condition:(w,x)=>y(w,x).then(Boolean),take:y,delay:IO(g.signal),pause:uh(g.signal),extra:n,signal:g.signal,fork:O8(g.signal,b),unsubscribe:c.unsubscribe,subscribe:()=>{e.set(c.id,c)},cancelActiveListeners:()=>{c.pending.forEach((w,x,_)=>{w!==g&&(ua(w,ky),_.delete(w))})},cancel:()=>{ua(g,ky),c.pending.delete(g)},throwIfCancelled:()=>{ca(g.signal)}})))}catch(w){w instanceof Wm||qS(r,w,{raisedBy:"effect"})}finally{await Promise.all(b),ua(g,C8),c.pending.delete(g)}},l=R8(e);return{middleware:c=>d=>h=>{if(!fO(h))return d(h);if(NO.match(h))return s(h.payload);if(D8.match(h)){l();return}if(OO.match(h))return a(h.payload);let p=c.getState();const g=()=>{if(p===KS)throw new Error(jn(23));return p};let y;try{if(y=d(h),e.size>0){const b=c.getState(),w=Array.from(e.values());for(const x of w){let _=!1;try{_=x.predicate(h,b,p)}catch(P){_=!1,qS(r,P,{raisedBy:"predicate"})}_&&o(x,h,c,g)}}}finally{p=KS}return y},startListening:s,stopListening:a,clearListeners:l}};function jn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var L8={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},jO=Fn({name:"chartLayout",initialState:L8,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:$8,setLayout:V8,setChartSize:F8,setScale:B8}=jO.actions,U8=jO.reducer;function YS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YS(Object(n),!0).forEach(function(r){z8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z8(t,e,n){return(e=W8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W8(t){var e=H8(t,"string");return typeof e=="symbol"?e:e+""}function H8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ch=Math.PI/180,K8=t=>t*180/Math.PI,Lt=(t,e,n,r)=>({x:t+Math.cos(-ch*r)*n,y:e+Math.sin(-ch*r)*n}),G8=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},q8=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},Y8=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,a=q8({x:n,y:r},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var o=(n-i)/a,l=Math.acos(o);return r>s&&(l=2*Math.PI-l),{radius:a,angle:K8(l),angleInRadian:l}},Q8=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},X8=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return t+a*360},J8=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:s}=Y8({x:n,y:r},e),{innerRadius:a,outerRadius:o}=e;if(i<a||i>o||i===0)return null;var{startAngle:l,endAngle:u}=Q8(e),c=s,d;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;d=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;d=c>=u&&c<=l}return d?QS(QS({},e),{},{radius:i,angle:X8(c,e)}):null};function RO(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function XS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XS(Object(n),!0).forEach(function(r){Z8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z8(t,e,n){return(e=e7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e7(t){var e=t7(t,"string");return typeof e=="symbol"?e:e+""}function t7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vt(t,e,n){return lt(t)||lt(e)?n:Wr(e)?Sa(t,e,n):typeof e=="function"?e(t):n}var n7=(t,e,n,r,i)=>{var s,a=-1,o=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(o<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var u=l>0?n[l-1].coordinate:n[o-1].coordinate,c=n[l].coordinate,d=l>=o-1?n[0].coordinate:n[l+1].coordinate,h=void 0;if(er(c-u)!==er(d-c)){var p=[];if(er(d-c)===er(i[1]-i[0])){h=d;var g=c+i[1]-i[0];p[0]=Math.min(g,(g+u)/2),p[1]=Math.max(g,(g+u)/2)}else{h=u;var y=d+i[1]-i[0];p[0]=Math.min(c,(y+c)/2),p[1]=Math.max(c,(y+c)/2)}var b=[Math.min(c,(h+c)/2),Math.max(c,(h+c)/2)];if(t>b[0]&&t<=b[1]||t>=p[0]&&t<=p[1]){({index:a}=n[l]);break}}else{var w=Math.min(u,d),x=Math.max(u,d);if(t>(w+c)/2&&t<=(x+c)/2){({index:a}=n[l]);break}}}else if(e){for(var _=0;_<o;_++)if(_===0&&t<=(e[_].coordinate+e[_+1].coordinate)/2||_>0&&_<o-1&&t>(e[_].coordinate+e[_-1].coordinate)/2&&t<=(e[_].coordinate+e[_+1].coordinate)/2||_===o-1&&t>(e[_].coordinate+e[_-1].coordinate)/2){({index:a}=e[_]);break}}return a},r7=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:a,layout:o}=e;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&oe(t[s]))return qn(qn({},t),{},{[s]:t[s]+(r||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&oe(t[a]))return qn(qn({},t),{},{[a]:t[a]+(i||0)})}return t},Gr=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",DO=(t,e,n,r)=>{if(r)return t.map(o=>o.coordinate);var i,s,a=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===n&&(s=!0),o.coordinate));return i||a.push(e),s||a.push(n),a},MO=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:a,realScaleType:o,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:d,niceTicks:h,axisType:p}=t;if(!a)return null;var g=o==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,y=i==="category"&&a.bandwidth?a.bandwidth()/g:0;if(y=p==="angleAxis"&&s&&s.length>=2?er(s[0]-s[1])*2*y:y,d||h){var b=(d||h||[]).map((w,x)=>{var _=r?r.indexOf(w):w;return{coordinate:a(_)+y,value:w,offset:y,index:x}});return b.filter(w=>!Dn(w.coordinate))}return l&&u?u.map((w,x)=>({coordinate:a(w)+y,value:w,index:x,offset:y})):a.ticks&&c!=null?a.ticks(c).map((w,x)=>({coordinate:a(w)+y,value:w,offset:y,index:x})):a.domain().map((w,x)=>({coordinate:a(w)+y,value:r?r[w]:w,index:x,offset:y}))},JS=1e-4,i7=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-JS,s=Math.max(r[0],r[1])+JS,a=t(e[0]),o=t(e[n-1]);(a<i||a>s||o<i||o>s)&&t.domain([e[0],e[n-1]])}},s7=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0,a=0;a<e;++a){var o=Dn(t[a][n][1])?t[a][n][0]:t[a][n][1];o>=0?(t[a][n][0]=i,t[a][n][1]=i+o,i=t[a][n][1]):(t[a][n][0]=s,t[a][n][1]=s+o,s=t[a][n][1])}},a7=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0;s<e;++s){var a=Dn(t[s][n][1])?t[s][n][0]:t[s][n][1];a>=0?(t[s][n][0]=i,t[s][n][1]=i+a,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},o7={sign:s7,expand:H9,none:Wo,silhouette:K9,wiggle:G9,positive:a7},l7=(t,e,n)=>{var r=o7[n],i=W9().keys(e).value((s,a)=>+Vt(s,a,0)).order(xy).offset(r);return i(t)};function u7(t){return t==null?void 0:String(t)}function dh(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!lt(i[e.dataKey])){var o=f2(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=Vt(i,lt(a)?e.dataKey:a);return lt(l)?null:e.scale(l)}var c7=t=>{var e=t.flat(2).filter(oe);return[Math.min(...e),Math.max(...e)]},d7=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],f7=(t,e,n)=>{if(t!=null)return d7(Object.keys(t).reduce((r,i)=>{var s=t[i],{stackedData:a}=s,o=a.reduce((l,u)=>{var c=RO(u,e,n),d=c7(c);return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},ZS=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,eA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Zu=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Vm(e,c=>c.coordinate),s=1/0,a=1,o=i.length;a<o;a++){var l=i[a],u=i[a-1];s=Math.min((l.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function tA(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return qn(qn({},e),{},{dataKey:n,payload:r,value:i,name:s})}function Km(t,e){if(t)return String(t);if(typeof e=="string")return e}function h7(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var s=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return s?{x:t,y:e}:null}return r?J8({x:t,y:e},r):null}var m7=(t,e,n,r)=>{var i=e.find(u=>u&&u.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,{radius:a}=r;return qn(qn(qn({},r),Lt(r.cx,r.cy,a,s)),{},{angle:s,radius:a})}var o=i.coordinate,{angle:l}=r;return qn(qn(qn({},r),Lt(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{x:0,y:0}},p7=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Oi=t=>t.layout.width,ji=t=>t.layout.height,g7=t=>t.layout.scale,LO=t=>t.layout.margin,Ix=W(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),kx=W(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),v7="data-recharts-item-index",y7="data-recharts-item-data-key",Gm=60;function nA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ui(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nA(Object(n),!0).forEach(function(r){w7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w7(t,e,n){return(e=x7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x7(t){var e=_7(t,"string");return typeof e=="symbol"?e:e+""}function _7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var b7=t=>t.brush.height,zt=W([Oi,ji,LO,b7,Ix,kx,lO,Uz],(t,e,n,r,i,s,a,o)=>{var l=s.reduce((g,y)=>{var{orientation:b}=y;if(!y.mirror&&!y.hide){var w=typeof y.width=="number"?y.width:Gm;return Ui(Ui({},g),{},{[b]:g[b]+w})}return g},{left:n.left||0,right:n.right||0}),u=i.reduce((g,y)=>{var{orientation:b}=y;return!y.mirror&&!y.hide?Ui(Ui({},g),{},{[b]:Sa(g,"".concat(b))+y.height}):g},{top:n.top||0,bottom:n.bottom||0}),c=Ui(Ui({},u),l),d=c.bottom;c.bottom+=r,c=r7(c,a,o);var h=t-c.left-c.right,p=e-c.top-c.bottom;return Ui(Ui({brushBottom:d},c),{},{width:Math.max(h,0),height:Math.max(p,0)})}),E7=W(zt,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),$O=W(Oi,ji,(t,e)=>({x:0,y:0,width:t,height:e})),S7=S.createContext(null),xn=()=>S.useContext(S7)!=null,qm=t=>t.brush,Ym=W([qm,zt,LO],(t,e,n)=>({height:t.height,x:oe(t.x)?t.x:e.left,y:oe(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:oe(t.width)?t.width:e.width})),Cx=()=>{var t,e=xn(),n=ce(E7),r=ce(Ym),i=(t=ce(qm))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},A7={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},VO=()=>{var t;return(t=ce(zt))!==null&&t!==void 0?t:A7},Nx=()=>ce(Oi),Ox=()=>ce(ji),P7={top:0,right:0,bottom:0,left:0},T7=()=>{var t;return(t=ce(e=>e.layout.margin))!==null&&t!==void 0?t:P7},je=t=>t.layout.layoutType,Qm=()=>ce(je),I7={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},FO=Fn({name:"legend",initialState:I7,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=mi(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:rA,setLegendSettings:k7,addLegendPayload:C7,removeLegendPayload:N7}=FO.actions,O7=FO.reducer,j7=["contextPayload"];function Ny(){return Ny=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ny.apply(null,arguments)}function iA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Go(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iA(Object(n),!0).forEach(function(r){jx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jx(t,e,n){return(e=R7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R7(t){var e=D7(t,"string");return typeof e=="symbol"?e:e+""}function D7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function M7(t,e){if(t==null)return{};var n,r,i=L7(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function L7(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function $7(t){return t.value}function V7(t){var{contextPayload:e}=t,n=M7(t,j7),r=X2(e,t.payloadUniqBy,$7),i=Go(Go({},n),{},{payload:r});return S.isValidElement(t.content)?S.cloneElement(t.content,i):typeof t.content=="function"?S.createElement(t.content,i):S.createElement(fx,i)}function F7(t,e,n,r,i,s){var{layout:a,align:o,verticalAlign:l}=e,u,c;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(o==="center"&&a==="vertical"?u={left:((r||0)-s.width)/2}:u=o==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(l==="middle"?c={top:((i||0)-s.height)/2}:c=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Go(Go({},u),c)}function B7(t){var e=Ut();return S.useEffect(()=>{e(k7(t))},[e,t]),null}function U7(t){var e=Ut();return S.useEffect(()=>(e(rA(t)),()=>{e(rA({width:0,height:0}))}),[e,t]),null}function z7(t){var e=Hz(),n=m9(),r=T7(),{width:i,height:s,wrapperStyle:a,portal:o}=t,[l,u]=uO([e]),c=Nx(),d=Ox(),h=c-(r.left||0)-(r.right||0),p=Xm.getWidthOrHeight(t.layout,s,i,h),g=o?a:Go(Go({position:"absolute",width:(p==null?void 0:p.width)||i||"auto",height:(p==null?void 0:p.height)||s||"auto"},F7(a,t,r,c,d,l)),a),y=o??n;if(y==null)return null;var b=S.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:u},S.createElement(B7,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),S.createElement(U7,{width:l.width,height:l.height}),S.createElement(V7,Ny({},t,p,{margin:r,chartWidth:c,chartHeight:d,contextPayload:e})));return sw.createPortal(b,y)}class Xm extends S.PureComponent{static getWidthOrHeight(e,n,r,i){return e==="vertical"&&oe(n)?{height:n}:e==="horizontal"?{width:r||i}:null}render(){return S.createElement(z7,this.props)}}jx(Xm,"displayName","Legend");jx(Xm,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Oy(){return Oy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oy.apply(null,arguments)}function sA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Og(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sA(Object(n),!0).forEach(function(r){W7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W7(t,e,n){return(e=H7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H7(t){var e=K7(t,"string");return typeof e=="symbol"?e:e+""}function K7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function G7(t){return Array.isArray(t)&&Wr(t[0])&&Wr(t[1])?t.join(" ~ "):t}var q7=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:a,itemSorter:o,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:d,accessibilityLayer:h=!1}=t,p=()=>{if(s&&s.length){var N={padding:0,margin:0},D=(o?Vm(s,o):s).map((I,A)=>{if(I.type==="none")return null;var k=I.formatter||a||G7,{value:T,name:O}=I,R=T,C=O;if(k){var G=k(T,O,I,A,s);if(Array.isArray(G))[R,C]=G;else if(G!=null)R=G;else return null}var L=Og({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},r);return S.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(A),style:L},Wr(C)?S.createElement("span",{className:"recharts-tooltip-item-name"},C):null,Wr(C)?S.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,S.createElement("span",{className:"recharts-tooltip-item-value"},R),S.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return S.createElement("ul",{className:"recharts-tooltip-item-list",style:N},D)}return null},g=Og({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),y=Og({margin:0},i),b=!lt(c),w=b?c:"",x=Ne("recharts-default-tooltip",l),_=Ne("recharts-tooltip-label",u);b&&d&&s!==void 0&&s!==null&&(w=d(c,s));var P=h?{role:"status","aria-live":"assertive"}:{};return S.createElement("div",Oy({className:x,style:g},P),S.createElement("p",{className:_,style:y},S.isValidElement(w)?w:"".concat(w)),p())},$l="recharts-tooltip-wrapper",Y7={visibility:"hidden"};function Q7(t){var{coordinate:e,translateX:n,translateY:r}=t;return Ne($l,{["".concat($l,"-right")]:oe(n)&&e&&oe(e.x)&&n>=e.x,["".concat($l,"-left")]:oe(n)&&e&&oe(e.x)&&n<e.x,["".concat($l,"-bottom")]:oe(r)&&e&&oe(e.y)&&r>=e.y,["".concat($l,"-top")]:oe(r)&&e&&oe(e.y)&&r<e.y})}function aA(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=t;if(s&&oe(s[r]))return s[r];var c=n[r]-o-(i>0?i:0),d=n[r]+i;if(e[r])return a[r]?c:d;var h=l[r];if(h==null)return 0;if(a[r]){var p=c,g=h;return p<g?Math.max(d,h):Math.max(c,h)}if(u==null)return 0;var y=d+o,b=h+u;return y>b?Math.max(c,h):Math.max(d,h)}function X7(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function J7(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:o,viewBox:l}=t,u,c,d;return a.height>0&&a.width>0&&n?(c=aA({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),d=aA({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=X7({translateX:c,translateY:d,useTranslate3d:o})):u=Y7,{cssProperties:u,cssClasses:Q7({translateX:c,translateY:d,coordinate:n})}}function oA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Td(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oA(Object(n),!0).forEach(function(r){jy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jy(t,e,n){return(e=Z7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z7(t){var e=eW(t,"string");return typeof e=="symbol"?e:e+""}function eW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class tW extends S.PureComponent{constructor(){super(...arguments),jy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),jy(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:a,hasPayload:o,isAnimationActive:l,offset:u,position:c,reverseDirection:d,useTranslate3d:h,viewBox:p,wrapperStyle:g,lastBoundingBox:y,innerRef:b,hasPortalFromProps:w}=this.props,{cssClasses:x,cssProperties:_}=J7({allowEscapeViewBox:n,coordinate:a,offsetTopLeft:u,position:c,reverseDirection:d,tooltipBox:{height:y.height,width:y.width},useTranslate3d:h,viewBox:p}),P=w?{}:Td(Td({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),N=Td(Td({},P),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},g);return S.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:x,style:N,ref:b},s)}}var nW=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ll={isSsr:nW()},BO=()=>ce(t=>t.rootProps.accessibilityLayer);function ln(t){return Number.isFinite(t)}function fh(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function Ry(){return Ry=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ry.apply(null,arguments)}function lA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lA(Object(n),!0).forEach(function(r){rW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rW(t,e,n){return(e=iW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iW(t){var e=sW(t,"string");return typeof e=="symbol"?e:e+""}function sW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cA={curveBasisClosed:j9,curveBasisOpen:R9,curveBasis:O9,curveBumpX:y9,curveBumpY:w9,curveLinearClosed:D9,curveLinear:Om,curveMonotoneX:M9,curveMonotoneY:L9,curveNatural:$9,curveStep:V9,curveStepAfter:B9,curveStepBefore:F9},Id=t=>ln(t.x)&&ln(t.y),Vl=t=>t.x,Fl=t=>t.y,aW=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Ac(t));return(n==="curveMonotone"||n==="curveBump")&&e?cA["".concat(n).concat(e==="vertical"?"Y":"X")]:cA[n]||Om},oW=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,a=aW(e,i),o=s?n.filter(Id):n,l;if(Array.isArray(r)){var u=s?r.filter(d=>Id(d)):r,c=o.map((d,h)=>uA(uA({},d),{},{base:u[h]}));return i==="vertical"?l=bd().y(Fl).x1(Vl).x0(d=>d.base.x):l=bd().x(Vl).y1(Fl).y0(d=>d.base.y),l.defined(Id).curve(a),l(c)}return i==="vertical"&&oe(r)?l=bd().y(Fl).x1(Vl).x0(r):oe(r)?l=bd().x(Vl).y1(Fl).y0(r):l=E2().x(Vl).y(Fl),l.defined(Id).curve(a),l(o)},wu=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var s=n&&n.length?oW(t):r;return S.createElement("path",Ry({},Ns(t),ax(t),{className:Ne("recharts-curve",e),d:s===null?void 0:s,ref:i}))},lW=["x","y","top","left","width","height","className"];function Dy(){return Dy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dy.apply(null,arguments)}function dA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dA(Object(n),!0).forEach(function(r){cW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cW(t,e,n){return(e=dW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dW(t){var e=fW(t,"string");return typeof e=="symbol"?e:e+""}function fW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hW(t,e){if(t==null)return{};var n,r,i=mW(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var pW=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),gW=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:a=0,className:o}=t,l=hW(t,lW),u=uW({x:e,y:n,top:r,left:i,width:s,height:a},l);return!oe(e)||!oe(n)||!oe(s)||!oe(a)||!oe(r)||!oe(i)?null:S.createElement("path",Dy({},ot(u,!0),{className:Ne("recharts-cross",o),d:pW(e,n,s,a,r,i)}))};function vW(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function fA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fA(Object(n),!0).forEach(function(r){wW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wW(t,e,n){return(e=xW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xW(t){var e=_W(t,"string");return typeof e=="symbol"?e:e+""}function _W(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qr(t,e){var n=yW({},t),r=e,i=Object.keys(e),s=i.reduce((a,o)=>(a[o]===void 0&&r[o]!==void 0&&(a[o]=r[o]),a),n);return s}var UO={},zO={},WO={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}t.isPlainObject=e})(WO);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WO,n=yx,r=Mm,i=Lm,s=Dm;function a(u,c,d){return o(u,c,void 0,void 0,void 0,void 0,d)}function o(u,c,d,h,p,g,y){const b=y(u,c,d,h,p,g);if(b!==void 0)return b;if(typeof u==typeof c)switch(typeof u){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return u===c;case"number":return u===c||Object.is(u,c);case"function":return u===c;case"object":return l(u,c,g,y)}return l(u,c,g,y)}function l(u,c,d,h){if(Object.is(u,c))return!0;let p=r.getTag(u),g=r.getTag(c);if(p===i.argumentsTag&&(p=i.objectTag),g===i.argumentsTag&&(g=i.objectTag),p!==g)return!1;switch(p){case i.stringTag:return u.toString()===c.toString();case i.numberTag:{const w=u.valueOf(),x=c.valueOf();return s.eq(w,x)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(u.valueOf(),c.valueOf());case i.regexpTag:return u.source===c.source&&u.flags===c.flags;case i.functionTag:return u===c}d=d??new Map;const y=d.get(u),b=d.get(c);if(y!=null&&b!=null)return y===c;d.set(u,c),d.set(c,u);try{switch(p){case i.mapTag:{if(u.size!==c.size)return!1;for(const[w,x]of u.entries())if(!c.has(w)||!o(x,c.get(w),w,u,c,d,h))return!1;return!0}case i.setTag:{if(u.size!==c.size)return!1;const w=Array.from(u.values()),x=Array.from(c.values());for(let _=0;_<w.length;_++){const P=w[_],N=x.findIndex(D=>o(P,D,void 0,u,c,d,h));if(N===-1)return!1;x.splice(N,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(u)!==Buffer.isBuffer(c)||u.length!==c.length)return!1;for(let w=0;w<u.length;w++)if(!o(u[w],c[w],w,u,c,d,h))return!1;return!0}case i.arrayBufferTag:return u.byteLength!==c.byteLength?!1:l(new Uint8Array(u),new Uint8Array(c),d,h);case i.dataViewTag:return u.byteLength!==c.byteLength||u.byteOffset!==c.byteOffset?!1:l(new Uint8Array(u),new Uint8Array(c),d,h);case i.errorTag:return u.name===c.name&&u.message===c.message;case i.objectTag:{if(!(l(u.constructor,c.constructor,d,h)||e.isPlainObject(u)&&e.isPlainObject(c)))return!1;const x=[...Object.keys(u),...n.getSymbols(u)],_=[...Object.keys(c),...n.getSymbols(c)];if(x.length!==_.length)return!1;for(let P=0;P<x.length;P++){const N=x[P],D=u[N];if(!Object.hasOwn(c,N))return!1;const I=c[N];if(!o(D,I,N,u,c,d,h))return!1}return!0}default:return!1}}finally{d.delete(u),d.delete(c)}}t.isEqualWith=a})(zO);var HO={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(HO);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zO,n=HO;function r(i,s){return e.isEqualWith(i,s,n.noop)}t.isEqual=r})(UO);var bW=UO.isEqual;const EW=ki(bW);var hh=1e-4,KO=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],GO=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),hA=(t,e)=>n=>{var r=KO(t,e);return GO(r,n)},SW=(t,e)=>n=>{var r=KO(t,e),i=[...r.map((s,a)=>s*a).slice(1),0];return GO(i,n)},mA=function(){for(var e,n,r,i,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];if(a.length===1)switch(a[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var l=a[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([e,r,n,i]=l[1].split(")")[0].split(",").map(g=>parseFloat(g)))}}else a.length===4&&([e,r,n,i]=a);var u=hA(e,n),c=hA(r,i),d=SW(e,n),h=g=>g>1?1:g<0?0:g,p=g=>{for(var y=g>1?1:g,b=y,w=0;w<8;++w){var x=u(b)-y,_=d(b);if(Math.abs(x-y)<hh||_<hh)return c(b);b=h(b-x/_)}return c(b)};return p.isStepper=!1,p},AW=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(a,o,l)=>{var u=-(a-o)*n,c=l*r,d=l+(u-c)*i/1e3,h=l*i/1e3+a;return Math.abs(h-o)<hh&&Math.abs(d)<hh?[o,0]:[h,d]};return s.isStepper=!0,s.dt=i,s},qO=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return mA(t);case"spring":return AW();default:if(t.split("(")[0]==="cubic-bezier")return mA(t)}return typeof t=="function"?t:null};function pA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pA(Object(n),!0).forEach(function(r){PW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PW(t,e,n){return(e=TW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TW(t){var e=IW(t,"string");return typeof e=="symbol"?e:e+""}function IW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kW=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),CW=(t,e,n)=>t.map(r=>"".concat(kW(r)," ").concat(e,"ms ").concat(n)).join(","),NW=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),ec=(t,e)=>Object.keys(e).reduce((n,r)=>gA(gA({},n),{},{[r]:t(r,e[r])}),{});function vA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vA(Object(n),!0).forEach(function(r){OW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OW(t,e,n){return(e=jW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jW(t){var e=RW(t,"string");return typeof e=="symbol"?e:e+""}function RW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mh=(t,e,n)=>t+(e-t)*n,My=t=>{var{from:e,to:n}=t;return e!==n},YO=(t,e,n)=>{var r=ec((i,s)=>{if(My(s)){var[a,o]=t(s.from,s.to,s.velocity);return Dt(Dt({},s),{},{from:a,velocity:o})}return s},e);return n<1?ec((i,s)=>My(s)?Dt(Dt({},s),{},{velocity:mh(s.velocity,r[i].velocity,n),from:mh(s.from,r[i].from,n)}):s,e):YO(t,r,n-1)};function DW(t,e,n,r,i,s){var a,o=r.reduce((h,p)=>Dt(Dt({},h),{},{[p]:{from:t[p],velocity:0,to:e[p]}}),{}),l=()=>ec((h,p)=>p.from,o),u=()=>!Object.values(o).filter(My).length,c=null,d=h=>{a||(a=h);var p=h-a,g=p/n.dt;o=YO(n,o,g),i(Dt(Dt(Dt({},t),e),l())),a=h,u()||(c=s.setTimeout(d))};return()=>(c=s.setTimeout(d),()=>{c()})}function MW(t,e,n,r,i,s,a){var o=null,l=i.reduce((d,h)=>Dt(Dt({},d),{},{[h]:[t[h],e[h]]}),{}),u,c=d=>{u||(u=d);var h=(d-u)/r,p=ec((y,b)=>mh(...b,n(h)),l);if(s(Dt(Dt(Dt({},t),e),p)),h<1)o=a.setTimeout(c);else{var g=ec((y,b)=>mh(...b,n(1)),l);s(Dt(Dt(Dt({},t),e),g))}};return()=>(o=a.setTimeout(c),()=>{o()})}const QO=(t,e,n,r,i,s)=>{var a=NW(t,e);return n.isStepper===!0?DW(t,e,n,a,i,s):MW(t,e,n,r,a,i,s)};function LW(t){var e,n=()=>null,r=!1,i=null,s=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,[l,...u]=o;if(typeof l=="number"){i=t.setTimeout(s.bind(null,u),l);return}s(l),i=t.setTimeout(s.bind(null,u));return}typeof a=="string"&&(e=a,n(e)),typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),s(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}class $W{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=a=>{a-r>=n?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}function VW(){return LW(new $W)}var FW=S.createContext(VW);function XO(t,e){var n=S.useContext(FW);return S.useMemo(()=>e??n(t),[t,e,n])}var BW=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function Ly(){return Ly=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ly.apply(null,arguments)}function UW(t,e){if(t==null)return{};var n,r,i=zW(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function yA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yA(Object(n),!0).forEach(function(r){ta(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ta(t,e,n){return(e=WW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WW(t){var e=HW(t,"string");return typeof e=="symbol"?e:e+""}function HW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Rx extends S.PureComponent{constructor(e,n){super(e,n),ta(this,"mounted",!1),ta(this,"manager",void 0),ta(this,"stopJSAnimation",null),ta(this,"unSubscribe",null);var{isActive:r,attributeName:i,from:s,to:a,children:o,duration:l,animationManager:u}=this.props;if(this.manager=u,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||l<=0){this.state={style:{}},typeof o=="function"&&(this.state={style:a});return}if(s){if(typeof o=="function"){this.state={style:s};return}this.state={style:i?{[i]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:n}=this.props;this.mounted=!0,!(!e||!n)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:n,canBegin:r,attributeName:i,shouldReAnimate:s,to:a,from:o}=this.props,{style:l}=this.state;if(r){if(!n){var u={style:i?{[i]:a}:a};this.state&&l&&(i&&l[i]!==a||!i&&l!==a)&&this.setState(u);return}if(!(EW(e.to,a)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var d=c||s?o:e.to;if(this.state&&l){var h={style:i?{[i]:d}:d};(i&&l[i]!==d||!i&&l!==d)&&this.setState(h)}this.runAnimation(zi(zi({},this.props),{},{from:d,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:n,to:r,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:l}=e,u=QO(n,r,qO(s),i,this.changeStyle,this.manager.getTimeoutController()),c=()=>{this.stopJSAnimation=u()};this.manager.start([l,a,c,i,o])}runAnimation(e){var{begin:n,duration:r,attributeName:i,to:s,easing:a,onAnimationStart:o,onAnimationEnd:l,children:u}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof a=="function"||typeof u=="function"||a==="spring"){this.runJSAnimation(e);return}var c=i?{[i]:s}:s,d=CW(Object.keys(c),r,a);this.manager.start([o,n,zi(zi({},c),{},{transition:d}),r,l])}render(){var e=this.props,{children:n,begin:r,duration:i,attributeName:s,easing:a,isActive:o,from:l,to:u,canBegin:c,onAnimationEnd:d,shouldReAnimate:h,onAnimationReStart:p,animationManager:g}=e,y=UW(e,BW),b=S.Children.count(n),w=this.state.style;if(typeof n=="function")return n(w);if(!o||b===0||i<=0)return n;var x=_=>{var{style:P={},className:N}=_.props,D=S.cloneElement(_,zi(zi({},y),{},{style:zi(zi({},P),w),className:N}));return D};return b===1?x(S.Children.only(n)):S.createElement("div",null,S.Children.map(n,_=>x(_)))}}ta(Rx,"displayName","Animate");ta(Rx,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function wA(t){var e,n=XO((e=t.attributeName)!==null&&e!==void 0?e:Object.keys(t.to).join(","),t.animationManager);return S.createElement(Rx,Ly({},t,{animationManager:n}))}function ph(){return ph=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ph.apply(null,arguments)}var xA=(t,e,n,r,i)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),a=r>=0?1:-1,o=n>=0?1:-1,l=r>=0&&n>=0||r<0&&n<0?1:0,u;if(s>0&&i instanceof Array){for(var c=[0,0,0,0],d=0,h=4;d<h;d++)c[d]=i[d]>s?s:i[d];u="M".concat(t,",").concat(e+a*c[0]),c[0]>0&&(u+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(l,",").concat(t+o*c[0],",").concat(e)),u+="L ".concat(t+n-o*c[1],",").concat(e),c[1]>0&&(u+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(l,`,
        `).concat(t+n,",").concat(e+a*c[1])),u+="L ".concat(t+n,",").concat(e+r-a*c[2]),c[2]>0&&(u+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(l,`,
        `).concat(t+n-o*c[2],",").concat(e+r)),u+="L ".concat(t+o*c[3],",").concat(e+r),c[3]>0&&(u+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(l,`,
        `).concat(t,",").concat(e+r-a*c[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var p=Math.min(s,i);u="M ".concat(t,",").concat(e+a*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+o*p,",").concat(e,`
            L `).concat(t+n-o*p,",").concat(e,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+n,",").concat(e+a*p,`
            L `).concat(t+n,",").concat(e+r-a*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+n-o*p,",").concat(e+r,`
            L `).concat(t+o*p,",").concat(e+r,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t,",").concat(e+r-a*p," Z")}else u="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return u},KW={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},GW=t=>{var e=qr(t,KW),n=S.useRef(null),[r,i]=S.useState(-1);S.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&i(w)}catch{}},[]);var{x:s,y:a,width:o,height:l,radius:u,className:c}=e,{animationEasing:d,animationDuration:h,animationBegin:p,isAnimationActive:g,isUpdateAnimationActive:y}=e;if(s!==+s||a!==+a||o!==+o||l!==+l||o===0||l===0)return null;var b=Ne("recharts-rectangle",c);return y?S.createElement(wA,{canBegin:r>0,from:{width:o,height:l,x:s,y:a},to:{width:o,height:l,x:s,y:a},duration:h,animationEasing:d,isActive:y},w=>{var{width:x,height:_,x:P,y:N}=w;return S.createElement(wA,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:h,isActive:g,easing:d},S.createElement("path",ph({},ot(e,!0),{className:b,d:xA(P,N,x,_,u),ref:n})))}):S.createElement("path",ph({},ot(e,!0),{className:b,d:xA(s,a,o,l,u)}))};function JO(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,a=Lt(e,n,r,i),o=Lt(e,n,r,s);return{points:[a,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function $y(){return $y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$y.apply(null,arguments)}var qW=(t,e)=>{var n=er(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},kd=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:l}=t,u=o*(a?1:-1)+r,c=Math.asin(o/u)/ch,d=l?i:i+s*c,h=Lt(e,n,u,d),p=Lt(e,n,r,d),g=l?i-s*c:i,y=Lt(e,n,u*Math.cos(c*ch),g);return{center:h,circleTangency:p,lineTangency:y,theta:c}},ZO=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:a}=t,o=qW(s,a),l=s+o,u=Lt(e,n,i,s),c=Lt(e,n,i,l),d="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>l),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(r>0){var h=Lt(e,n,r,s),p=Lt(e,n,r,l);d+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=l),`,
            `).concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(e,",").concat(n," Z");return d},YW=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:l,endAngle:u}=t,c=er(u-l),{circleTangency:d,lineTangency:h,theta:p}=kd({cx:e,cy:n,radius:i,angle:l,sign:c,cornerRadius:s,cornerIsExternal:o}),{circleTangency:g,lineTangency:y,theta:b}=kd({cx:e,cy:n,radius:i,angle:u,sign:-c,cornerRadius:s,cornerIsExternal:o}),w=o?Math.abs(l-u):Math.abs(l-u)-p-b;if(w<0)return a?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):ZO({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var x="M ".concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(c<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(w>180),",").concat(+(c<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(c<0),",").concat(y.x,",").concat(y.y,`
  `);if(r>0){var{circleTangency:_,lineTangency:P,theta:N}=kd({cx:e,cy:n,radius:r,angle:l,sign:c,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:D,lineTangency:I,theta:A}=kd({cx:e,cy:n,radius:r,angle:u,sign:-c,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),k=o?Math.abs(l-u):Math.abs(l-u)-N-A;if(k<0&&s===0)return"".concat(x,"L").concat(e,",").concat(n,"Z");x+="L".concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(c<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(k>180),",").concat(+(c>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(c<0),",").concat(P.x,",").concat(P.y,"Z")}else x+="L".concat(e,",").concat(n,"Z");return x},QW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},XW=t=>{var e=qr(t,QW),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c,className:d}=e;if(s<i||u===c)return null;var h=Ne("recharts-sector",d),p=s-i,g=Ps(a,p,0,!0),y;return g>0&&Math.abs(u-c)<360?y=YW({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(g,p/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c}):y=ZO({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:c}),S.createElement("path",$y({},ot(e,!0),{className:h,d:y}))};function JW(t,e,n){var r,i,s,a;if(t==="horizontal")r=e.x,s=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:o,cy:l,innerRadius:u,outerRadius:c,angle:d}=e,h=Lt(o,l,u,d),p=Lt(o,l,c,d);r=h.x,i=h.y,s=p.x,a=p.y}else return JO(e);return[{x:r,y:i},{x:s,y:a}]}var ej={},tj={},nj={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_x;function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(nj);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nj;function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(tj);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bx,n=tj;function r(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),a=a===void 0?i<s?1:-1:n.toFinite(a);const o=Math.max(Math.ceil((s-i)/(a||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=i,i+=a;return l}t.range=r})(ej);var ZW=ej.range;const rj=ki(ZW);function gs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function eH(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Dx(t){let e,n,r;t.length!==2?(e=gs,n=(o,l)=>gs(t(o),l),r=(o,l)=>t(o)-l):(e=t===gs||t===eH?t:tH,n=t,r=t);function i(o,l,u=0,c=o.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(o[d],l)<0?u=d+1:c=d}while(u<c)}return u}function s(o,l,u=0,c=o.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(o[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function a(o,l,u=0,c=o.length){const d=i(o,l,u,c-1);return d>u&&r(o[d-1],l)>-r(o[d],l)?d-1:d}return{left:i,center:a,right:s}}function tH(){return 0}function ij(t){return t===null?NaN:+t}function*nH(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const rH=Dx(gs),Tc=rH.right;Dx(ij).center;class _A extends Map{constructor(e,n=aH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(bA(this,e))}has(e){return super.has(bA(this,e))}set(e,n){return super.set(iH(this,e),n)}delete(e){return super.delete(sH(this,e))}}function bA({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function iH({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function sH({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function aH(t){return t!==null&&typeof t=="object"?t.valueOf():t}function oH(t=gs){if(t===gs)return sj;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function sj(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const lH=Math.sqrt(50),uH=Math.sqrt(10),cH=Math.sqrt(2);function gh(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=lH?10:s>=uH?5:s>=cH?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/a,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=n&&n<2?gh(t,e,n*2):[o,l,u]}function Vy(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?gh(e,t,n):gh(t,e,n);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(r)if(a<0)for(let u=0;u<o;++u)l[u]=(s-u)/-a;else for(let u=0;u<o;++u)l[u]=(s-u)*a;else if(a<0)for(let u=0;u<o;++u)l[u]=(i+u)/-a;else for(let u=0;u<o;++u)l[u]=(i+u)*a;return l}function Fy(t,e,n){return e=+e,t=+t,n=+n,gh(t,e,n)[2]}function By(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Fy(e,t,n):Fy(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function EA(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function SA(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function aj(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?sj:oH(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*d/l+h)),g=Math.min(r,Math.floor(e+(l-u)*d/l+h));aj(t,e,p,g,i)}const s=t[e];let a=n,o=r;for(Bl(t,n,e),i(t[r],s)>0&&Bl(t,n,r);a<o;){for(Bl(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[n],s)===0?Bl(t,n,o):(++o,Bl(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function Bl(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function dH(t,e,n){if(t=Float64Array.from(nH(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return SA(t);if(e>=1)return EA(t);var r,i=(r-1)*e,s=Math.floor(i),a=EA(aj(t,s).subarray(0,s+1)),o=SA(t.subarray(s+1));return a+(o-a)*(i-s)}}function fH(t,e,n=ij){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),o=+n(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function hH(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function ur(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ri(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Uy=Symbol("implicit");function Mx(){var t=new _A,e=[],n=[],r=Uy;function i(s){let a=t.get(s);if(a===void 0){if(r!==Uy)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new _A;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Mx(e,n).unknown(r)},ur.apply(i,arguments),i}function Lx(){var t=Mx().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,o=!1,l=0,u=0,c=.5;delete t.unknown;function d(){var h=e().length,p=i<r,g=p?i:r,y=p?r:i;s=(y-g)/Math.max(1,h-l+u*2),o&&(s=Math.floor(s)),g+=(y-g-s*(h-l))*c,a=s*(1-l),o&&(g=Math.round(g),a=Math.round(a));var b=hH(h).map(function(w){return g+s*w});return n(p?b.reverse():b)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,d()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(h){return arguments.length?(o=!!h,d()):o},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},t.copy=function(){return Lx(e(),[r,i]).round(o).paddingInner(l).paddingOuter(u).align(c)},ur.apply(d(),arguments)}function oj(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return oj(e())},t}function mH(){return oj(Lx.apply(null,arguments).paddingInner(1))}function $x(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function lj(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ic(){}var tc=.7,vh=1/tc,To="\\s*([+-]?\\d+)\\s*",nc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Br="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pH=/^#([0-9a-f]{3,8})$/,gH=new RegExp(`^rgb\\(${To},${To},${To}\\)$`),vH=new RegExp(`^rgb\\(${Br},${Br},${Br}\\)$`),yH=new RegExp(`^rgba\\(${To},${To},${To},${nc}\\)$`),wH=new RegExp(`^rgba\\(${Br},${Br},${Br},${nc}\\)$`),xH=new RegExp(`^hsl\\(${nc},${Br},${Br}\\)$`),_H=new RegExp(`^hsla\\(${nc},${Br},${Br},${nc}\\)$`),AA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$x(Ic,rc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:PA,formatHex:PA,formatHex8:bH,formatHsl:EH,formatRgb:TA,toString:TA});function PA(){return this.rgb().formatHex()}function bH(){return this.rgb().formatHex8()}function EH(){return uj(this).formatHsl()}function TA(){return this.rgb().formatRgb()}function rc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=pH.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?IA(e):n===3?new gn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Cd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Cd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=gH.exec(t))?new gn(e[1],e[2],e[3],1):(e=vH.exec(t))?new gn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=yH.exec(t))?Cd(e[1],e[2],e[3],e[4]):(e=wH.exec(t))?Cd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=xH.exec(t))?NA(e[1],e[2]/100,e[3]/100,1):(e=_H.exec(t))?NA(e[1],e[2]/100,e[3]/100,e[4]):AA.hasOwnProperty(t)?IA(AA[t]):t==="transparent"?new gn(NaN,NaN,NaN,0):null}function IA(t){return new gn(t>>16&255,t>>8&255,t&255,1)}function Cd(t,e,n,r){return r<=0&&(t=e=n=NaN),new gn(t,e,n,r)}function SH(t){return t instanceof Ic||(t=rc(t)),t?(t=t.rgb(),new gn(t.r,t.g,t.b,t.opacity)):new gn}function zy(t,e,n,r){return arguments.length===1?SH(t):new gn(t,e,n,r??1)}function gn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}$x(gn,zy,lj(Ic,{brighter(t){return t=t==null?vh:Math.pow(vh,t),new gn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?tc:Math.pow(tc,t),new gn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new gn(da(this.r),da(this.g),da(this.b),yh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kA,formatHex:kA,formatHex8:AH,formatRgb:CA,toString:CA}));function kA(){return`#${na(this.r)}${na(this.g)}${na(this.b)}`}function AH(){return`#${na(this.r)}${na(this.g)}${na(this.b)}${na((isNaN(this.opacity)?1:this.opacity)*255)}`}function CA(){const t=yh(this.opacity);return`${t===1?"rgb(":"rgba("}${da(this.r)}, ${da(this.g)}, ${da(this.b)}${t===1?")":`, ${t})`}`}function yh(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function da(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function na(t){return t=da(t),(t<16?"0":"")+t.toString(16)}function NA(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new yr(t,e,n,r)}function uj(t){if(t instanceof yr)return new yr(t.h,t.s,t.l,t.opacity);if(t instanceof Ic||(t=rc(t)),!t)return new yr;if(t instanceof yr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-e)/o+2:a=(e-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new yr(a,o,l,t.opacity)}function PH(t,e,n,r){return arguments.length===1?uj(t):new yr(t,e,n,r??1)}function yr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}$x(yr,PH,lj(Ic,{brighter(t){return t=t==null?vh:Math.pow(vh,t),new yr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?tc:Math.pow(tc,t),new yr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new gn(jg(t>=240?t-240:t+120,i,r),jg(t,i,r),jg(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new yr(OA(this.h),Nd(this.s),Nd(this.l),yh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=yh(this.opacity);return`${t===1?"hsl(":"hsla("}${OA(this.h)}, ${Nd(this.s)*100}%, ${Nd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function OA(t){return t=(t||0)%360,t<0?t+360:t}function Nd(t){return Math.max(0,Math.min(1,t||0))}function jg(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Vx=t=>()=>t;function TH(t,e){return function(n){return t+n*e}}function IH(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function kH(t){return(t=+t)==1?cj:function(e,n){return n-e?IH(e,n,t):Vx(isNaN(e)?n:e)}}function cj(t,e){var n=e-t;return n?TH(t,n):Vx(isNaN(t)?e:t)}const jA=function t(e){var n=kH(e);function r(i,s){var a=n((i=zy(i)).r,(s=zy(s)).r),o=n(i.g,s.g),l=n(i.b,s.b),u=cj(i.opacity,s.opacity);return function(c){return i.r=a(c),i.g=o(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function CH(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function NH(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function OH(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=ul(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function jH(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function wh(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function RH(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ul(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Wy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rg=new RegExp(Wy.source,"g");function DH(t){return function(){return t}}function MH(t){return function(e){return t(e)+""}}function LH(t,e){var n=Wy.lastIndex=Rg.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(r=Wy.exec(t))&&(i=Rg.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:wh(r,i)})),n=Rg.lastIndex;return n<e.length&&(s=e.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?MH(l[0].x):DH(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)o[(d=l[c]).i]=d.x(u);return o.join("")})}function ul(t,e){var n=typeof e,r;return e==null||n==="boolean"?Vx(e):(n==="number"?wh:n==="string"?(r=rc(e))?(e=r,jA):LH:e instanceof rc?jA:e instanceof Date?jH:NH(e)?CH:Array.isArray(e)?OH:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?RH:wh)(t,e)}function Fx(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function $H(t,e){e===void 0&&(e=t,t=ul);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function VH(t){return function(){return t}}function xh(t){return+t}var RA=[0,1];function sn(t){return t}function Hy(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:VH(isNaN(e)?NaN:.5)}function FH(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function BH(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=Hy(i,r),s=n(a,s)):(r=Hy(r,i),s=n(s,a)),function(o){return s(r(o))}}function UH(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Hy(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(o){var l=Tc(t,o,1,r)-1;return s[l](i[l](o))}}function kc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Jm(){var t=RA,e=RA,n=ul,r,i,s,a=sn,o,l,u;function c(){var h=Math.min(t.length,e.length);return a!==sn&&(a=FH(t[0],t[h-1])),o=h>2?UH:BH,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?s:(l||(l=o(t.map(r),e,n)))(r(a(h)))}return d.invert=function(h){return a(i((u||(u=o(e,t.map(r),wh)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,xh),c()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=Fx,c()},d.clamp=function(h){return arguments.length?(a=h?!0:sn,c()):a!==sn},d.interpolate=function(h){return arguments.length?(n=h,c()):n},d.unknown=function(h){return arguments.length?(s=h,d):s},function(h,p){return r=h,i=p,c()}}function Bx(){return Jm()(sn,sn)}function zH(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function _h(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function qo(t){return t=_h(Math.abs(t)),t?t[1]:NaN}function WH(t,e){return function(n,r){for(var i=n.length,s=[],a=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function HH(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var KH=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ic(t){if(!(e=KH.exec(t)))throw new Error("invalid format: "+t);var e;return new Ux({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ic.prototype=Ux.prototype;function Ux(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Ux.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function GH(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var dj;function qH(t,e){var n=_h(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(dj=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+_h(t,Math.max(0,e+s-1))[0]}function DA(t,e){var n=_h(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const MA={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:zH,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>DA(t*100,e),r:DA,s:qH,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function LA(t){return t}var $A=Array.prototype.map,VA=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function YH(t){var e=t.grouping===void 0||t.thousands===void 0?LA:WH($A.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?LA:HH($A.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=ic(d);var h=d.fill,p=d.align,g=d.sign,y=d.symbol,b=d.zero,w=d.width,x=d.comma,_=d.precision,P=d.trim,N=d.type;N==="n"?(x=!0,N="g"):MA[N]||(_===void 0&&(_=12),P=!0,N="g"),(b||h==="0"&&p==="=")&&(b=!0,h="0",p="=");var D=y==="$"?n:y==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",I=y==="$"?r:/[%p]/.test(N)?a:"",A=MA[N],k=/[defgprs%]/.test(N);_=_===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function T(O){var R=D,C=I,G,L,K;if(N==="c")C=A(O)+C,O="";else{O=+O;var J=O<0||1/O<0;if(O=isNaN(O)?l:A(Math.abs(O),_),P&&(O=GH(O)),J&&+O==0&&g!=="+"&&(J=!1),R=(J?g==="("?g:o:g==="-"||g==="("?"":g)+R,C=(N==="s"?VA[8+dj/3]:"")+C+(J&&g==="("?")":""),k){for(G=-1,L=O.length;++G<L;)if(K=O.charCodeAt(G),48>K||K>57){C=(K===46?i+O.slice(G+1):O.slice(G))+C,O=O.slice(0,G);break}}}x&&!b&&(O=e(O,1/0));var z=R.length+O.length+C.length,Z=z<w?new Array(w-z+1).join(h):"";switch(x&&b&&(O=e(Z+O,Z.length?w-C.length:1/0),Z=""),p){case"<":O=R+O+C+Z;break;case"=":O=R+Z+O+C;break;case"^":O=Z.slice(0,z=Z.length>>1)+R+O+C+Z.slice(z);break;default:O=Z+R+O+C;break}return s(O)}return T.toString=function(){return d+""},T}function c(d,h){var p=u((d=ic(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(qo(h)/3)))*3,y=Math.pow(10,-g),b=VA[8+g/3];return function(w){return p(y*w)+b}}return{format:u,formatPrefix:c}}var Od,zx,fj;QH({thousands:",",grouping:[3],currency:["$",""]});function QH(t){return Od=YH(t),zx=Od.format,fj=Od.formatPrefix,Od}function XH(t){return Math.max(0,-qo(Math.abs(t)))}function JH(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qo(e)/3)))*3-qo(Math.abs(t)))}function ZH(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,qo(e)-qo(t))+1}function hj(t,e,n,r){var i=By(t,e,n),s;switch(r=ic(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=JH(i,a))&&(r.precision=s),fj(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=ZH(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=XH(i))&&(r.precision=s-(r.type==="%")*2);break}}return zx(r)}function Os(t){var e=t.domain;return t.ticks=function(n){var r=e();return Vy(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return hj(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],o=r[s],l,u,c=10;for(o<a&&(u=a,a=o,o=u,u=i,i=s,s=u);c-- >0;){if(u=Fy(a,o,n),u===l)return r[i]=a,r[s]=o,e(r);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function mj(){var t=Bx();return t.copy=function(){return kc(t,mj())},ur.apply(t,arguments),Os(t)}function pj(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,xh),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return pj(t).unknown(e)},t=arguments.length?Array.from(t,xh):[0,1],Os(n)}function gj(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function FA(t){return Math.log(t)}function BA(t){return Math.exp(t)}function eK(t){return-Math.log(-t)}function tK(t){return-Math.exp(-t)}function nK(t){return isFinite(t)?+("1e"+t):t<0?0:t}function rK(t){return t===10?nK:t===Math.E?Math.exp:e=>Math.pow(t,e)}function iK(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function UA(t){return(e,n)=>-t(-e,n)}function Wx(t){const e=t(FA,BA),n=e.domain;let r=10,i,s;function a(){return i=iK(r),s=rK(r),n()[0]<0?(i=UA(i),s=UA(s),t(eK,tK)):t(FA,BA),e}return e.base=function(o){return arguments.length?(r=+o,a()):r},e.domain=function(o){return arguments.length?(n(o),a()):n()},e.ticks=o=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let h=i(u),p=i(c),g,y;const b=o==null?10:+o;let w=[];if(!(r%1)&&p-h<b){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<r;++g)if(y=h<0?g/s(-h):g*s(h),!(y<u)){if(y>c)break;w.push(y)}}else for(;h<=p;++h)for(g=r-1;g>=1;--g)if(y=h>0?g/s(-h):g*s(h),!(y<u)){if(y>c)break;w.push(y)}w.length*2<b&&(w=Vy(u,c,b))}else w=Vy(h,p,Math.min(p-h,b)).map(s);return d?w.reverse():w},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=ic(l)).precision==null&&(l.trim=!0),l=zx(l)),o===1/0)return l;const u=Math.max(1,r*o/e.ticks().length);return c=>{let d=c/s(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},e.nice=()=>n(gj(n(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function vj(){const t=Wx(Jm()).domain([1,10]);return t.copy=()=>kc(t,vj()).base(t.base()),ur.apply(t,arguments),t}function zA(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function WA(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Hx(t){var e=1,n=t(zA(e),WA(e));return n.constant=function(r){return arguments.length?t(zA(e=+r),WA(e)):e},Os(n)}function yj(){var t=Hx(Jm());return t.copy=function(){return kc(t,yj()).constant(t.constant())},ur.apply(t,arguments)}function HA(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function sK(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function aK(t){return t<0?-t*t:t*t}function Kx(t){var e=t(sn,sn),n=1;function r(){return n===1?t(sn,sn):n===.5?t(sK,aK):t(HA(n),HA(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Os(e)}function Gx(){var t=Kx(Jm());return t.copy=function(){return kc(t,Gx()).exponent(t.exponent())},ur.apply(t,arguments),t}function oK(){return Gx.apply(null,arguments).exponent(.5)}function KA(t){return Math.sign(t)*t*t}function lK(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function wj(){var t=Bx(),e=[0,1],n=!1,r;function i(s){var a=lK(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(KA(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,xh)).map(KA)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return wj(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ur.apply(i,arguments),Os(i)}function xj(){var t=[],e=[],n=[],r;function i(){var a=0,o=Math.max(1,e.length);for(n=new Array(o-1);++a<o;)n[a-1]=fH(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:e[Tc(n,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(gs),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return xj().domain(t).range(e).unknown(r)},ur.apply(s,arguments)}function _j(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[Tc(r,l,0,n)]:s}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return _j().domain([t,e]).range(i).unknown(s)},ur.apply(Os(a),arguments)}function bj(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Tc(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return bj().domain(t).range(e).unknown(n)},ur.apply(i,arguments)}const Dg=new Date,Mg=new Date;function _t(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let u;do l.push(u=new Date(+s)),e(s,o),t(s);while(u<s&&s<a);return l},i.filter=s=>_t(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(Dg.setTime(+s),Mg.setTime(+a),t(Dg),t(Mg),Math.floor(n(Dg,Mg))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const bh=_t(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);bh.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?_t(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):bh);bh.range;const ci=1e3,tr=ci*60,di=tr*60,Pi=di*24,qx=Pi*7,GA=Pi*30,Lg=Pi*365,ra=_t(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ci)},(t,e)=>(e-t)/ci,t=>t.getUTCSeconds());ra.range;const Yx=_t(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ci)},(t,e)=>{t.setTime(+t+e*tr)},(t,e)=>(e-t)/tr,t=>t.getMinutes());Yx.range;const Qx=_t(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*tr)},(t,e)=>(e-t)/tr,t=>t.getUTCMinutes());Qx.range;const Xx=_t(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ci-t.getMinutes()*tr)},(t,e)=>{t.setTime(+t+e*di)},(t,e)=>(e-t)/di,t=>t.getHours());Xx.range;const Jx=_t(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*di)},(t,e)=>(e-t)/di,t=>t.getUTCHours());Jx.range;const Cc=_t(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*tr)/Pi,t=>t.getDate()-1);Cc.range;const Zm=_t(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Pi,t=>t.getUTCDate()-1);Zm.range;const Ej=_t(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Pi,t=>Math.floor(t/Pi));Ej.range;function Ma(t){return _t(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*tr)/qx)}const ep=Ma(0),Eh=Ma(1),uK=Ma(2),cK=Ma(3),Yo=Ma(4),dK=Ma(5),fK=Ma(6);ep.range;Eh.range;uK.range;cK.range;Yo.range;dK.range;fK.range;function La(t){return _t(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/qx)}const tp=La(0),Sh=La(1),hK=La(2),mK=La(3),Qo=La(4),pK=La(5),gK=La(6);tp.range;Sh.range;hK.range;mK.range;Qo.range;pK.range;gK.range;const Zx=_t(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Zx.range;const e_=_t(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());e_.range;const Ti=_t(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ti.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_t(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ti.range;const Ii=_t(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ii.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_t(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ii.range;function Sj(t,e,n,r,i,s){const a=[[ra,1,ci],[ra,5,5*ci],[ra,15,15*ci],[ra,30,30*ci],[s,1,tr],[s,5,5*tr],[s,15,15*tr],[s,30,30*tr],[i,1,di],[i,3,3*di],[i,6,6*di],[i,12,12*di],[r,1,Pi],[r,2,2*Pi],[n,1,qx],[e,1,GA],[e,3,3*GA],[t,1,Lg]];function o(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const p=d&&typeof d.range=="function"?d:l(u,c,d),g=p?p.range(u,+c+1):[];return h?g.reverse():g}function l(u,c,d){const h=Math.abs(c-u)/d,p=Dx(([,,b])=>b).right(a,h);if(p===a.length)return t.every(By(u/Lg,c/Lg,d));if(p===0)return bh.every(Math.max(By(u,c,d),1));const[g,y]=a[h/a[p-1][2]<a[p][2]/h?p-1:p];return g.every(y)}return[o,l]}const[vK,yK]=Sj(Ii,e_,tp,Ej,Jx,Qx),[wK,xK]=Sj(Ti,Zx,ep,Cc,Xx,Yx);function $g(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Vg(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ul(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function _K(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,u=zl(i),c=Wl(i),d=zl(s),h=Wl(s),p=zl(a),g=Wl(a),y=zl(o),b=Wl(o),w=zl(l),x=Wl(l),_={a:J,A:z,b:Z,B:te,c:null,d:ZA,e:ZA,f:WK,g:eG,G:nG,H:BK,I:UK,j:zK,L:Aj,m:HK,M:KK,p:F,q:V,Q:nP,s:rP,S:GK,u:qK,U:YK,V:QK,w:XK,W:JK,x:null,X:null,y:ZK,Y:tG,Z:rG,"%":tP},P={a:ne,A:xe,b:ye,B:Re,c:null,d:eP,e:eP,f:oG,g:vG,G:wG,H:iG,I:sG,j:aG,L:Tj,m:lG,M:uG,p:ve,q:tt,Q:nP,s:rP,S:cG,u:dG,U:fG,V:hG,w:mG,W:pG,x:null,X:null,y:gG,Y:yG,Z:xG,"%":tP},N={a:T,A:O,b:R,B:C,c:G,d:XA,e:XA,f:LK,g:QA,G:YA,H:JA,I:JA,j:jK,L:MK,m:OK,M:RK,p:k,q:NK,Q:VK,s:FK,S:DK,u:PK,U:TK,V:IK,w:AK,W:kK,x:L,X:K,y:QA,Y:YA,Z:CK,"%":$K};_.x=D(n,_),_.X=D(r,_),_.c=D(e,_),P.x=D(n,P),P.X=D(r,P),P.c=D(e,P);function D(Y,M){return function(H){var B=[],re=-1,de=0,Se=Y.length,De,Ye,bn;for(H instanceof Date||(H=new Date(+H));++re<Se;)Y.charCodeAt(re)===37&&(B.push(Y.slice(de,re)),(Ye=qA[De=Y.charAt(++re)])!=null?De=Y.charAt(++re):Ye=De==="e"?" ":"0",(bn=M[De])&&(De=bn(H,Ye)),B.push(De),de=re+1);return B.push(Y.slice(de,re)),B.join("")}}function I(Y,M){return function(H){var B=Ul(1900,void 0,1),re=A(B,Y,H+="",0),de,Se;if(re!=H.length)return null;if("Q"in B)return new Date(B.Q);if("s"in B)return new Date(B.s*1e3+("L"in B?B.L:0));if(M&&!("Z"in B)&&(B.Z=0),"p"in B&&(B.H=B.H%12+B.p*12),B.m===void 0&&(B.m="q"in B?B.q:0),"V"in B){if(B.V<1||B.V>53)return null;"w"in B||(B.w=1),"Z"in B?(de=Vg(Ul(B.y,0,1)),Se=de.getUTCDay(),de=Se>4||Se===0?Sh.ceil(de):Sh(de),de=Zm.offset(de,(B.V-1)*7),B.y=de.getUTCFullYear(),B.m=de.getUTCMonth(),B.d=de.getUTCDate()+(B.w+6)%7):(de=$g(Ul(B.y,0,1)),Se=de.getDay(),de=Se>4||Se===0?Eh.ceil(de):Eh(de),de=Cc.offset(de,(B.V-1)*7),B.y=de.getFullYear(),B.m=de.getMonth(),B.d=de.getDate()+(B.w+6)%7)}else("W"in B||"U"in B)&&("w"in B||(B.w="u"in B?B.u%7:"W"in B?1:0),Se="Z"in B?Vg(Ul(B.y,0,1)).getUTCDay():$g(Ul(B.y,0,1)).getDay(),B.m=0,B.d="W"in B?(B.w+6)%7+B.W*7-(Se+5)%7:B.w+B.U*7-(Se+6)%7);return"Z"in B?(B.H+=B.Z/100|0,B.M+=B.Z%100,Vg(B)):$g(B)}}function A(Y,M,H,B){for(var re=0,de=M.length,Se=H.length,De,Ye;re<de;){if(B>=Se)return-1;if(De=M.charCodeAt(re++),De===37){if(De=M.charAt(re++),Ye=N[De in qA?M.charAt(re++):De],!Ye||(B=Ye(Y,H,B))<0)return-1}else if(De!=H.charCodeAt(B++))return-1}return B}function k(Y,M,H){var B=u.exec(M.slice(H));return B?(Y.p=c.get(B[0].toLowerCase()),H+B[0].length):-1}function T(Y,M,H){var B=p.exec(M.slice(H));return B?(Y.w=g.get(B[0].toLowerCase()),H+B[0].length):-1}function O(Y,M,H){var B=d.exec(M.slice(H));return B?(Y.w=h.get(B[0].toLowerCase()),H+B[0].length):-1}function R(Y,M,H){var B=w.exec(M.slice(H));return B?(Y.m=x.get(B[0].toLowerCase()),H+B[0].length):-1}function C(Y,M,H){var B=y.exec(M.slice(H));return B?(Y.m=b.get(B[0].toLowerCase()),H+B[0].length):-1}function G(Y,M,H){return A(Y,e,M,H)}function L(Y,M,H){return A(Y,n,M,H)}function K(Y,M,H){return A(Y,r,M,H)}function J(Y){return a[Y.getDay()]}function z(Y){return s[Y.getDay()]}function Z(Y){return l[Y.getMonth()]}function te(Y){return o[Y.getMonth()]}function F(Y){return i[+(Y.getHours()>=12)]}function V(Y){return 1+~~(Y.getMonth()/3)}function ne(Y){return a[Y.getUTCDay()]}function xe(Y){return s[Y.getUTCDay()]}function ye(Y){return l[Y.getUTCMonth()]}function Re(Y){return o[Y.getUTCMonth()]}function ve(Y){return i[+(Y.getUTCHours()>=12)]}function tt(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var M=D(Y+="",_);return M.toString=function(){return Y},M},parse:function(Y){var M=I(Y+="",!1);return M.toString=function(){return Y},M},utcFormat:function(Y){var M=D(Y+="",P);return M.toString=function(){return Y},M},utcParse:function(Y){var M=I(Y+="",!0);return M.toString=function(){return Y},M}}}var qA={"-":"",_:" ",0:"0"},kt=/^\s*\d+/,bK=/^%/,EK=/[\\^$*+?|[\]().{}]/g;function Ie(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function SK(t){return t.replace(EK,"\\$&")}function zl(t){return new RegExp("^(?:"+t.map(SK).join("|")+")","i")}function Wl(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function AK(t,e,n){var r=kt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function PK(t,e,n){var r=kt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function TK(t,e,n){var r=kt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function IK(t,e,n){var r=kt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function kK(t,e,n){var r=kt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function YA(t,e,n){var r=kt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function QA(t,e,n){var r=kt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function CK(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function NK(t,e,n){var r=kt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function OK(t,e,n){var r=kt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function XA(t,e,n){var r=kt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function jK(t,e,n){var r=kt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function JA(t,e,n){var r=kt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function RK(t,e,n){var r=kt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function DK(t,e,n){var r=kt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function MK(t,e,n){var r=kt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function LK(t,e,n){var r=kt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function $K(t,e,n){var r=bK.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function VK(t,e,n){var r=kt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function FK(t,e,n){var r=kt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function ZA(t,e){return Ie(t.getDate(),e,2)}function BK(t,e){return Ie(t.getHours(),e,2)}function UK(t,e){return Ie(t.getHours()%12||12,e,2)}function zK(t,e){return Ie(1+Cc.count(Ti(t),t),e,3)}function Aj(t,e){return Ie(t.getMilliseconds(),e,3)}function WK(t,e){return Aj(t,e)+"000"}function HK(t,e){return Ie(t.getMonth()+1,e,2)}function KK(t,e){return Ie(t.getMinutes(),e,2)}function GK(t,e){return Ie(t.getSeconds(),e,2)}function qK(t){var e=t.getDay();return e===0?7:e}function YK(t,e){return Ie(ep.count(Ti(t)-1,t),e,2)}function Pj(t){var e=t.getDay();return e>=4||e===0?Yo(t):Yo.ceil(t)}function QK(t,e){return t=Pj(t),Ie(Yo.count(Ti(t),t)+(Ti(t).getDay()===4),e,2)}function XK(t){return t.getDay()}function JK(t,e){return Ie(Eh.count(Ti(t)-1,t),e,2)}function ZK(t,e){return Ie(t.getFullYear()%100,e,2)}function eG(t,e){return t=Pj(t),Ie(t.getFullYear()%100,e,2)}function tG(t,e){return Ie(t.getFullYear()%1e4,e,4)}function nG(t,e){var n=t.getDay();return t=n>=4||n===0?Yo(t):Yo.ceil(t),Ie(t.getFullYear()%1e4,e,4)}function rG(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ie(e/60|0,"0",2)+Ie(e%60,"0",2)}function eP(t,e){return Ie(t.getUTCDate(),e,2)}function iG(t,e){return Ie(t.getUTCHours(),e,2)}function sG(t,e){return Ie(t.getUTCHours()%12||12,e,2)}function aG(t,e){return Ie(1+Zm.count(Ii(t),t),e,3)}function Tj(t,e){return Ie(t.getUTCMilliseconds(),e,3)}function oG(t,e){return Tj(t,e)+"000"}function lG(t,e){return Ie(t.getUTCMonth()+1,e,2)}function uG(t,e){return Ie(t.getUTCMinutes(),e,2)}function cG(t,e){return Ie(t.getUTCSeconds(),e,2)}function dG(t){var e=t.getUTCDay();return e===0?7:e}function fG(t,e){return Ie(tp.count(Ii(t)-1,t),e,2)}function Ij(t){var e=t.getUTCDay();return e>=4||e===0?Qo(t):Qo.ceil(t)}function hG(t,e){return t=Ij(t),Ie(Qo.count(Ii(t),t)+(Ii(t).getUTCDay()===4),e,2)}function mG(t){return t.getUTCDay()}function pG(t,e){return Ie(Sh.count(Ii(t)-1,t),e,2)}function gG(t,e){return Ie(t.getUTCFullYear()%100,e,2)}function vG(t,e){return t=Ij(t),Ie(t.getUTCFullYear()%100,e,2)}function yG(t,e){return Ie(t.getUTCFullYear()%1e4,e,4)}function wG(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Qo(t):Qo.ceil(t),Ie(t.getUTCFullYear()%1e4,e,4)}function xG(){return"+0000"}function tP(){return"%"}function nP(t){return+t}function rP(t){return Math.floor(+t/1e3)}var Ga,kj,Cj;_G({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function _G(t){return Ga=_K(t),kj=Ga.format,Ga.parse,Cj=Ga.utcFormat,Ga.utcParse,Ga}function bG(t){return new Date(t)}function EG(t){return t instanceof Date?+t:+new Date(+t)}function t_(t,e,n,r,i,s,a,o,l,u){var c=Bx(),d=c.invert,h=c.domain,p=u(".%L"),g=u(":%S"),y=u("%I:%M"),b=u("%I %p"),w=u("%a %d"),x=u("%b %d"),_=u("%B"),P=u("%Y");function N(D){return(l(D)<D?p:o(D)<D?g:a(D)<D?y:s(D)<D?b:r(D)<D?i(D)<D?w:x:n(D)<D?_:P)(D)}return c.invert=function(D){return new Date(d(D))},c.domain=function(D){return arguments.length?h(Array.from(D,EG)):h().map(bG)},c.ticks=function(D){var I=h();return t(I[0],I[I.length-1],D??10)},c.tickFormat=function(D,I){return I==null?N:u(I)},c.nice=function(D){var I=h();return(!D||typeof D.range!="function")&&(D=e(I[0],I[I.length-1],D??10)),D?h(gj(I,D)):c},c.copy=function(){return kc(c,t_(t,e,n,r,i,s,a,o,l,u))},c}function SG(){return ur.apply(t_(wK,xK,Ti,Zx,ep,Cc,Xx,Yx,ra,kj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function AG(){return ur.apply(t_(vK,yK,Ii,e_,tp,Zm,Jx,Qx,ra,Cj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function np(){var t=0,e=1,n,r,i,s,a=sn,o=!1,l;function u(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(s(d)-n)*i,o?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(d){return arguments.length?(o=!!d,u):o},u.interpolator=function(d){return arguments.length?(a=d,u):a};function c(d){return function(h){var p,g;return arguments.length?([p,g]=h,a=d(p,g),u):[a(0),a(1)]}}return u.range=c(ul),u.rangeRound=c(Fx),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return s=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),u}}function js(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Nj(){var t=Os(np()(sn));return t.copy=function(){return js(t,Nj())},Ri.apply(t,arguments)}function Oj(){var t=Wx(np()).domain([1,10]);return t.copy=function(){return js(t,Oj()).base(t.base())},Ri.apply(t,arguments)}function jj(){var t=Hx(np());return t.copy=function(){return js(t,jj()).constant(t.constant())},Ri.apply(t,arguments)}function n_(){var t=Kx(np());return t.copy=function(){return js(t,n_()).exponent(t.exponent())},Ri.apply(t,arguments)}function PG(){return n_.apply(null,arguments).exponent(.5)}function Rj(){var t=[],e=sn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Tc(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(gs),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>dH(t,s/r))},n.copy=function(){return Rj(e).domain(t)},Ri.apply(n,arguments)}function rp(){var t=0,e=.5,n=1,r=1,i,s,a,o,l,u=sn,c,d=!1,h;function p(y){return isNaN(y=+y)?h:(y=.5+((y=+c(y))-s)*(r*y<r*s?o:l),u(d?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([t,e,n]=y,i=c(t=+t),s=c(e=+e),a=c(n=+n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,p):[t,e,n]},p.clamp=function(y){return arguments.length?(d=!!y,p):d},p.interpolator=function(y){return arguments.length?(u=y,p):u};function g(y){return function(b){var w,x,_;return arguments.length?([w,x,_]=b,u=$H(y,[w,x,_]),p):[u(0),u(.5),u(1)]}}return p.range=g(ul),p.rangeRound=g(Fx),p.unknown=function(y){return arguments.length?(h=y,p):h},function(y){return c=y,i=y(t),s=y(e),a=y(n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,p}}function Dj(){var t=Os(rp()(sn));return t.copy=function(){return js(t,Dj())},Ri.apply(t,arguments)}function Mj(){var t=Wx(rp()).domain([.1,1,10]);return t.copy=function(){return js(t,Mj()).base(t.base())},Ri.apply(t,arguments)}function Lj(){var t=Hx(rp());return t.copy=function(){return js(t,Lj()).constant(t.constant())},Ri.apply(t,arguments)}function r_(){var t=Kx(rp());return t.copy=function(){return js(t,r_()).exponent(t.exponent())},Ri.apply(t,arguments)}function TG(){return r_.apply(null,arguments).exponent(.5)}const ru=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Lx,scaleDiverging:Dj,scaleDivergingLog:Mj,scaleDivergingPow:r_,scaleDivergingSqrt:TG,scaleDivergingSymlog:Lj,scaleIdentity:pj,scaleImplicit:Uy,scaleLinear:mj,scaleLog:vj,scaleOrdinal:Mx,scalePoint:mH,scalePow:Gx,scaleQuantile:xj,scaleQuantize:_j,scaleRadial:wj,scaleSequential:Nj,scaleSequentialLog:Oj,scaleSequentialPow:n_,scaleSequentialQuantile:Rj,scaleSequentialSqrt:PG,scaleSequentialSymlog:jj,scaleSqrt:oK,scaleSymlog:yj,scaleThreshold:bj,scaleTime:SG,scaleUtc:AG,tickFormat:hj},Symbol.toStringTag,{value:"Module"}));var Rs=t=>t.chartData,IG=W([Rs],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),ip=(t,e,n,r)=>r?IG(t):Rs(t);function Xo(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(ln(e)&&ln(n))return!0}return!1}function iP(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function kG(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(ln(n))i=n;else if(typeof n=="function")return;if(ln(r))s=r;else if(typeof r=="function")return;var a=[i,s];if(Xo(a))return a}}function CG(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Xo(r))return iP(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,a,o;if(i==="auto")e!=null&&(a=Math.min(...e));else if(oe(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&ZS.test(i)){var l=ZS.exec(i);if(l==null||e==null)a=void 0;else{var u=+l[1];a=e[0]-u}}else a=e==null?void 0:e[0];if(s==="auto")e!=null&&(o=Math.max(...e));else if(oe(s))o=s;else if(typeof s=="function")try{e!=null&&(o=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&eA.test(s)){var c=eA.exec(s);if(c==null||e==null)o=void 0;else{var d=+c[1];o=e[1]+d}}else o=e==null?void 0:e[1];var h=[a,o];if(Xo(h))return e==null?h:iP(h,e,n)}}}var cl=1e9,NG={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s_,qe=!0,or="[DecimalError] ",fa=or+"Invalid argument: ",i_=or+"Exponent out of range: ",dl=Math.floor,Gs=Math.pow,OG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,kn,Pt=1e7,We=7,$j=9007199254740991,Ah=dl($j/We),ae={};ae.absoluteValue=ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ae.comparedTo=ae.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};ae.decimalPlaces=ae.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*We;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ae.dividedBy=ae.div=function(t){return pi(this,new this.constructor(t))};ae.dividedToIntegerBy=ae.idiv=function(t){var e=this,n=e.constructor;return Le(pi(e,new n(t),0,1),n.precision)};ae.equals=ae.eq=function(t){return!this.cmp(t)};ae.exponent=function(){return ht(this)};ae.greaterThan=ae.gt=function(t){return this.cmp(t)>0};ae.greaterThanOrEqualTo=ae.gte=function(t){return this.cmp(t)>=0};ae.isInteger=ae.isint=function(){return this.e>this.d.length-2};ae.isNegative=ae.isneg=function(){return this.s<0};ae.isPositive=ae.ispos=function(){return this.s>0};ae.isZero=function(){return this.s===0};ae.lessThan=ae.lt=function(t){return this.cmp(t)<0};ae.lessThanOrEqualTo=ae.lte=function(t){return this.cmp(t)<1};ae.logarithm=ae.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(kn))throw Error(or+"NaN");if(n.s<1)throw Error(or+(n.s?"NaN":"-Infinity"));return n.eq(kn)?new r(0):(qe=!1,e=pi(sc(n,s),sc(t,s),s),qe=!0,Le(e,i))};ae.minus=ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Bj(e,t):Vj(e,(t.s=-t.s,t))};ae.modulo=ae.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(or+"NaN");return n.s?(qe=!1,e=pi(n,t,0,1).times(t),qe=!0,n.minus(e)):Le(new r(n),i)};ae.naturalExponential=ae.exp=function(){return Fj(this)};ae.naturalLogarithm=ae.ln=function(){return sc(this)};ae.negated=ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ae.plus=ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Vj(e,t):Bj(e,(t.s=-t.s,t))};ae.precision=ae.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(fa+t);if(e=ht(i)+1,r=i.d.length-1,n=r*We+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ae.squareRoot=ae.sqrt=function(){var t,e,n,r,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(or+"NaN")}for(t=ht(o),qe=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=jr(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=dl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(s=r,r=s.plus(pi(o,s,a+2)).times(.5),jr(s.d).slice(0,a)===(e=jr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Le(s,n+1,0),s.times(s).eq(o)){r=s;break}}else if(e!="9999")break;a+=4}return qe=!0,Le(r,n)};ae.times=ae.mul=function(t){var e,n,r,i,s,a,o,l,u,c=this,d=c.constructor,h=c.d,p=(t=new d(t)).d;if(!c.s||!t.s)return new d(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=p.length,l<u&&(s=h,h=p,p=s,a=l,l=u,u=a),s=[],a=l+u,r=a;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)o=s[i]+p[r]*h[i-r-1]+e,s[i--]=o%Pt|0,e=o/Pt|0;s[i]=(s[i]+e)%Pt|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,qe?Le(t,d.precision):t};ae.toDecimalPlaces=ae.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Hr(t,0,cl),e===void 0?e=r.rounding:Hr(e,0,8),Le(n,t+ht(n)+1,e))};ae.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Ta(r,!0):(Hr(t,0,cl),e===void 0?e=i.rounding:Hr(e,0,8),r=Le(new i(r),t+1,e),n=Ta(r,!0,t+1)),n};ae.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Ta(i):(Hr(t,0,cl),e===void 0?e=s.rounding:Hr(e,0,8),r=Le(new s(i),t+ht(i)+1,e),n=Ta(r.abs(),!1,t+ht(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ae.toInteger=ae.toint=function(){var t=this,e=t.constructor;return Le(new e(t),ht(t)+1,e.rounding)};ae.toNumber=function(){return+this};ae.toPower=ae.pow=function(t){var e,n,r,i,s,a,o=this,l=o.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(kn);if(o=new l(o),!o.s){if(t.s<1)throw Error(or+"Infinity");return o}if(o.eq(kn))return o;if(r=l.precision,t.eq(kn))return Le(o,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=o.s,a){if((n=c<0?-c:c)<=$j){for(i=new l(kn),e=Math.ceil(r/We+4),qe=!1;n%2&&(i=i.times(o),aP(i.d,e)),n=dl(n/2),n!==0;)o=o.times(o),aP(o.d,e);return qe=!0,t.s<0?new l(kn).div(i):Le(i,r)}}else if(s<0)throw Error(or+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,qe=!1,i=t.times(sc(o,r+u)),qe=!0,i=Fj(i),i.s=s,i};ae.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=ht(i),r=Ta(i,n<=s.toExpNeg||n>=s.toExpPos)):(Hr(t,1,cl),e===void 0?e=s.rounding:Hr(e,0,8),i=Le(new s(i),t,e),n=ht(i),r=Ta(i,t<=n||n<=s.toExpNeg,t)),r};ae.toSignificantDigits=ae.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Hr(t,1,cl),e===void 0?e=r.rounding:Hr(e,0,8)),Le(new r(n),t,e)};ae.toString=ae.valueOf=ae.val=ae.toJSON=ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ht(t),n=t.constructor;return Ta(t,e<=n.toExpNeg||e>=n.toExpPos)};function Vj(t,e){var n,r,i,s,a,o,l,u,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),qe?Le(e,d):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(r=l,s=-s,o=u.length):(r=u,i=a,o=l.length),a=Math.ceil(d/We),o=a>o?a+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=l.length,s=u.length,o-s<0&&(s=o,r=u,u=l,l=r),n=0;s;)n=(l[--s]=l[s]+u[s]+n)/Pt|0,l[s]%=Pt;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,qe?Le(e,d):e}function Hr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(fa+t)}function jr(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=We-r.length,n&&(s+=Ki(n)),s+=r;a=t[e],r=a+"",n=We-r.length,n&&(s+=Ki(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var pi=function(){function t(r,i){var s,a=0,o=r.length;for(r=r.slice();o--;)s=r[o]*i+a,r[o]=s%Pt|0,a=s/Pt|0;return a&&r.unshift(a),r}function e(r,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*Pt+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var o,l,u,c,d,h,p,g,y,b,w,x,_,P,N,D,I,A,k=r.constructor,T=r.s==i.s?1:-1,O=r.d,R=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(or+"Division by zero");for(l=r.e-i.e,I=R.length,N=O.length,p=new k(T),g=p.d=[],u=0;R[u]==(O[u]||0);)++u;if(R[u]>(O[u]||0)&&--l,s==null?x=s=k.precision:a?x=s+(ht(r)-ht(i))+1:x=s,x<0)return new k(0);if(x=x/We+2|0,u=0,I==1)for(c=0,R=R[0],x++;(u<N||c)&&x--;u++)_=c*Pt+(O[u]||0),g[u]=_/R|0,c=_%R|0;else{for(c=Pt/(R[0]+1)|0,c>1&&(R=t(R,c),O=t(O,c),I=R.length,N=O.length),P=I,y=O.slice(0,I),b=y.length;b<I;)y[b++]=0;A=R.slice(),A.unshift(0),D=R[0],R[1]>=Pt/2&&++D;do c=0,o=e(R,y,I,b),o<0?(w=y[0],I!=b&&(w=w*Pt+(y[1]||0)),c=w/D|0,c>1?(c>=Pt&&(c=Pt-1),d=t(R,c),h=d.length,b=y.length,o=e(d,y,h,b),o==1&&(c--,n(d,I<h?A:R,h))):(c==0&&(o=c=1),d=R.slice()),h=d.length,h<b&&d.unshift(0),n(y,d,b),o==-1&&(b=y.length,o=e(R,y,I,b),o<1&&(c++,n(y,I<b?A:R,b))),b=y.length):o===0&&(c++,y=[0]),g[u++]=c,o&&y[0]?y[b++]=O[P]||0:(y=[O[P]],b=1);while((P++<N||y[0]!==void 0)&&x--)}return g[0]||g.shift(),p.e=l,Le(p,a?s+ht(p)+1:s)}}();function Fj(t,e){var n,r,i,s,a,o,l=0,u=0,c=t.constructor,d=c.precision;if(ht(t)>16)throw Error(i_+ht(t));if(!t.s)return new c(kn);for(qe=!1,o=d,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(Gs(2,u))/Math.LN10*2+5|0,o+=r,n=i=s=new c(kn),c.precision=o;;){if(i=Le(i.times(t),o),n=n.times(++l),a=s.plus(pi(i,n,o)),jr(a.d).slice(0,o)===jr(s.d).slice(0,o)){for(;u--;)s=Le(s.times(s),o);return c.precision=d,e==null?(qe=!0,Le(s,d)):s}s=a}}function ht(t){for(var e=t.e*We,n=t.d[0];n>=10;n/=10)e++;return e}function Fg(t,e,n){if(e>t.LN10.sd())throw qe=!0,n&&(t.precision=n),Error(or+"LN10 precision limit exceeded");return Le(new t(t.LN10),e)}function Ki(t){for(var e="";t--;)e+="0";return e}function sc(t,e){var n,r,i,s,a,o,l,u,c,d=1,h=10,p=t,g=p.d,y=p.constructor,b=y.precision;if(p.s<1)throw Error(or+(p.s?"NaN":"-Infinity"));if(p.eq(kn))return new y(0);if(e==null?(qe=!1,u=b):u=e,p.eq(10))return e==null&&(qe=!0),Fg(y,u);if(u+=h,y.precision=u,n=jr(g),r=n.charAt(0),s=ht(p),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=jr(p.d),r=n.charAt(0),d++;s=ht(p),r>1?(p=new y("0."+n),s++):p=new y(r+"."+n.slice(1))}else return l=Fg(y,u+2,b).times(s+""),p=sc(new y(r+"."+n.slice(1)),u-h).plus(l),y.precision=b,e==null?(qe=!0,Le(p,b)):p;for(o=a=p=pi(p.minus(kn),p.plus(kn),u),c=Le(p.times(p),u),i=3;;){if(a=Le(a.times(c),u),l=o.plus(pi(a,new y(i),u)),jr(l.d).slice(0,u)===jr(o.d).slice(0,u))return o=o.times(2),s!==0&&(o=o.plus(Fg(y,u+2,b).times(s+""))),o=pi(o,new y(d),u),y.precision=b,e==null?(qe=!0,Le(o,b)):o;o=l,i+=2}}function sP(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=dl(n/We),t.d=[],r=(n+1)%We,n<0&&(r+=We),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=We;r<i;)t.d.push(+e.slice(r,r+=We));e=e.slice(r),r=We-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),qe&&(t.e>Ah||t.e<-Ah))throw Error(i_+n)}else t.s=0,t.e=0,t.d=[0];return t}function Le(t,e,n){var r,i,s,a,o,l,u,c,d=t.d;for(a=1,s=d[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=We,i=e,u=d[c=0];else{if(c=Math.ceil((r+1)/We),s=d.length,c>=s)return t;for(u=s=d[c],a=1;s>=10;s/=10)a++;r%=We,i=r-We+a}if(n!==void 0&&(s=Gs(10,a-i-1),o=u/s%10|0,l=e<0||d[c+1]!==void 0||u%s,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?u/Gs(10,a-i):0:d[c-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(s=ht(t),d.length=1,e=e-s-1,d[0]=Gs(10,(We-e%We)%We),t.e=dl(-e/We)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=c,s=1,c--):(d.length=c+1,s=Gs(10,We-r),d[c]=i>0?(u/Gs(10,a-i)%Gs(10,i)|0)*s:0),l)for(;;)if(c==0){(d[0]+=s)==Pt&&(d[0]=1,++t.e);break}else{if(d[c]+=s,d[c]!=Pt)break;d[c--]=0,s=1}for(r=d.length;d[--r]===0;)d.pop();if(qe&&(t.e>Ah||t.e<-Ah))throw Error(i_+ht(t));return t}function Bj(t,e){var n,r,i,s,a,o,l,u,c,d,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),qe?Le(e,p):e;if(l=t.d,d=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,o=d.length):(n=d,r=u,o=l.length),i=Math.max(Math.ceil(p/We),o)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=d.length,c=i<o,c&&(o=i),i=0;i<o;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}a=0}for(c&&(n=l,l=d,d=n,e.s=-e.s),o=l.length,i=d.length-o;i>0;--i)l[o++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(s=i;s&&l[--s]===0;)l[s]=Pt-1;--l[s],l[i]+=Pt}l[i]-=d[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,qe?Le(e,p):e):new h(0)}function Ta(t,e,n){var r,i=ht(t),s=jr(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+Ki(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Ki(-i-1)+s,n&&(r=n-a)>0&&(s+=Ki(r))):i>=a?(s+=Ki(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+Ki(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=Ki(r))),t.s<0?"-"+s:s}function aP(t,e){if(t.length>e)return t.length=e,!0}function Uj(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(fa+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return sP(a,s.toString())}else if(typeof s!="string")throw Error(fa+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,OG.test(s))sP(a,s);else throw Error(fa+s)}if(i.prototype=ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Uj,i.config=i.set=jG,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function jG(t){if(!t||typeof t!="object")throw Error(or+"Object expected");var e,n,r,i=["precision",1,cl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(dl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(fa+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(fa+n+": "+r);return this}var s_=Uj(NG);kn=new s_(1);const Ce=s_;var RG=t=>t,zj={},Wj=t=>t===zj,oP=t=>function e(){return arguments.length===0||arguments.length===1&&Wj(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},Hj=(t,e)=>t===1?e:oP(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(a=>a!==zj).length;return s>=t?e(...r):Hj(t-s,oP(function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];var u=r.map(c=>Wj(c)?o.shift():c);return e(...u,...o)}))}),sp=t=>Hj(t.length,t),Ky=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},DG=sp((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),MG=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return RG;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((o,l)=>l(o),s(...arguments))}},Gy=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),Kj=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e&&i.every((a,o)=>{var l;return a===((l=e)===null||l===void 0?void 0:l[o])})||(e=i,n=t(...i)),n}};function Gj(t){var e;return t===0?e=1:e=Math.floor(new Ce(t).abs().log(10).toNumber())+1,e}function qj(t,e,n){for(var r=new Ce(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}sp((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});sp((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});sp((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var Yj=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},Qj=(t,e,n)=>{if(t.lte(0))return new Ce(0);var r=Gj(t.toNumber()),i=new Ce(10).pow(r),s=t.div(i),a=r!==1?.05:.1,o=new Ce(Math.ceil(s.div(a).toNumber())).add(n).mul(a),l=o.mul(i);return e?new Ce(l.toNumber()):new Ce(Math.ceil(l.toNumber()))},LG=(t,e,n)=>{var r=new Ce(1),i=new Ce(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Ce(10).pow(Gj(t)-1),i=new Ce(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Ce(Math.floor(t)))}else t===0?i=new Ce(Math.floor((e-1)/2)):n||(i=new Ce(Math.floor(t)));var a=Math.floor((e-1)/2),o=MG(DG(l=>i.add(new Ce(l-a).mul(r)).toNumber()),Ky);return o(0,e)},Xj=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Ce(0),tickMin:new Ce(0),tickMax:new Ce(0)};var a=Qj(new Ce(n).sub(e).div(r-1),i,s),o;e<=0&&n>=0?o=new Ce(0):(o=new Ce(e).add(n).div(2),o=o.sub(new Ce(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),u=Math.ceil(new Ce(n).sub(o).div(a).toNumber()),c=l+u+1;return c>r?Xj(e,n,r,i,s+1):(c<r&&(u=n>0?u+(r-c):u,l=n>0?l:l+(r-c)),{step:a,tickMin:o.sub(new Ce(l).mul(a)),tickMax:o.add(new Ce(u).mul(a))})};function $G(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),[a,o]=Yj([e,n]);if(a===-1/0||o===1/0){var l=o===1/0?[a,...Ky(0,r-1).map(()=>1/0)]:[...Ky(0,r-1).map(()=>-1/0),o];return e>n?Gy(l):l}if(a===o)return LG(a,r,i);var{step:u,tickMin:c,tickMax:d}=Xj(a,o,s,i,0),h=qj(c,d.add(new Ce(.1).mul(u)),u);return e>n?Gy(h):h}function VG(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,a]=Yj([n,r]);if(s===-1/0||a===1/0)return[n,r];if(s===a)return[s];var o=Math.max(e,2),l=Qj(new Ce(a).sub(s).div(o-1),i,0),u=[...qj(new Ce(s),new Ce(a),l),a];return i===!1&&(u=u.map(c=>Math.round(c))),n>r?Gy(u):u}var FG=Kj($G),BG=Kj(VG),UG=t=>t.rootProps.barCategoryGap,ap=t=>t.rootProps.stackOffset,a_=t=>t.options.chartName,o_=t=>t.rootProps.syncId,Jj=t=>t.rootProps.syncMethod,l_=t=>t.options.eventEmitter,ii={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Tn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},op=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},zG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ii.angleAxisId,includeHidden:!1,name:void 0,reversed:ii.reversed,scale:ii.scale,tick:ii.tick,tickCount:void 0,ticks:void 0,type:ii.type,unit:void 0},WG={allowDataOverflow:Tn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Tn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Tn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Tn.scale,tick:Tn.tick,tickCount:Tn.tickCount,ticks:void 0,type:Tn.type,unit:void 0},HG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ii.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ii.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ii.scale,tick:ii.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},KG={allowDataOverflow:Tn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Tn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Tn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Tn.scale,tick:Tn.tick,tickCount:Tn.tickCount,ticks:void 0,type:"category",unit:void 0},u_=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?HG:zG,c_=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?KG:WG,lp=t=>t.polarOptions,d_=W([Oi,ji,zt],G8),Zj=W([lp,d_],(t,e)=>{if(t!=null)return Ps(t.innerRadius,e,0)}),eR=W([lp,d_],(t,e)=>{if(t!=null)return Ps(t.outerRadius,e,e*.8)}),GG=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},tR=W([lp],GG);W([u_,tR],op);var nR=W([d_,Zj,eR],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});W([c_,nR],op);var rR=W([je,lp,Zj,eR,Oi,ji],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:a,cy:o,startAngle:l,endAngle:u}=e;return{cx:Ps(a,i,i/2),cy:Ps(o,s,s/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),mt=(t,e)=>e,up=(t,e,n)=>n;function f_(t){return t==null?void 0:t.id}var bt=t=>{var e=je(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},fl=t=>t.tooltip.settings.axisId,Et=t=>{var e=bt(t),n=fl(t);return Nc(t,e,n)};function iR(t,e,n){var{chartData:r=[]}=e,i=n==null?void 0:n.dataKey,s=new Map;return t.forEach(a=>{var o,l=(o=a.data)!==null&&o!==void 0?o:r;if(!(l==null||l.length===0)){var u=f_(a);l.forEach((c,d)=>{var h=i==null?d:String(Vt(c,i,null)),p=Vt(c,a.dataKey,0),g;s.has(h)?g=s.get(h):g={},Object.assign(g,{[u]:p}),s.set(h,g)})}}),Array.from(s.values())}function h_(t){return t.stackId!=null&&t.dataKey!=null}function lP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ph(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lP(Object(n),!0).forEach(function(r){qG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qG(t,e,n){return(e=YG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YG(t){var e=QG(t,"string");return typeof e=="symbol"?e:e+""}function QG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qy=[0,"auto"],Sn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Di=(t,e)=>{var n=t.cartesianAxis.xAxis[e];return n??Sn},An={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:qy,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Gm},Ds=(t,e)=>{var n=t.cartesianAxis.yAxis[e];return n??An},XG={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},m_=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??XG},_n=(t,e,n)=>{switch(e){case"xAxis":return Di(t,n);case"yAxis":return Ds(t,n);case"zAxis":return m_(t,n);case"angleAxis":return u_(t,n);case"radiusAxis":return c_(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},JG=(t,e,n)=>{switch(e){case"xAxis":return Di(t,n);case"yAxis":return Ds(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Nc=(t,e,n)=>{switch(e){case"xAxis":return Di(t,n);case"yAxis":return Ds(t,n);case"angleAxis":return u_(t,n);case"radiusAxis":return c_(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},sR=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function aR(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var p_=t=>t.graphicalItems.cartesianItems,ZG=W([mt,up],aR),oR=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Oc=W([p_,_n,ZG],oR),lR=W([Oc],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(h_)),uR=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),cR=W([Oc],uR),dR=t=>t.map(e=>e.data).filter(Boolean).flat(1),eq=W([Oc],dR),fR=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},g_=W([eq,ip],fR),hR=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Vt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Vt(i,r)}))):t.map(r=>({value:r})),cp=W([g_,_n,Oc],hR);function mR(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function $a(t){return t.filter(e=>Wr(e)||e instanceof Date).map(Number).filter(e=>Dn(e)===!1)}function tq(t,e,n){return!n||typeof e!="number"||Dn(e)?[]:n.length?$a(n.flatMap(r=>{var i=Vt(t,r.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!ln(s)||!ln(a)))return[e-s,e+a]})):[]}var nq=W([lR,ip,Et],iR),pR=(t,e,n)=>{var r={},i=e.reduce((s,a)=>(a.stackId==null||(s[a.stackId]==null&&(s[a.stackId]=[]),s[a.stackId].push(a)),s),r);return Object.fromEntries(Object.entries(i).map(s=>{var[a,o]=s,l=o.map(f_);return[a,{stackedData:l7(t,l,n),graphicalItems:o}]}))},Yy=W([nq,lR,ap],pR),gR=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var s=f7(t,r,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},rq=W([Yy,Rs,mt],gR),vR=(t,e,n,r,i)=>n.length>0?t.flatMap(s=>n.flatMap(a=>{var o,l,u=(o=r[a.id])===null||o===void 0?void 0:o.filter(d=>mR(i,d)),c=Vt(s,(l=e.dataKey)!==null&&l!==void 0?l:a.dataKey);return{value:c,errorDomain:tq(s,c,u)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(s=>({value:Vt(s,e.dataKey),errorDomain:[]})):t.map(s=>({value:s,errorDomain:[]})),dp=t=>t.errorBars,yR=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>mR(n,r));W([cR,dp,mt],yR);var iq=W([g_,_n,cR,dp,mt],vR);function sq(t){var{value:e}=t;if(Wr(e)||e instanceof Date)return e}var uP=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=$a(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},aq=(t,e,n)=>{var r=t.map(sq).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&d2(r))?rj(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},v_=t=>{var e;if(t==null||!("domain"in t))return qy;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=$a(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:qy},Th=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},wR=t=>t.referenceElements.dots,hl=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),oq=W([wR,mt,up],hl),xR=t=>t.referenceElements.areas,lq=W([xR,mt,up],hl),_R=t=>t.referenceElements.lines,uq=W([_R,mt,up],hl),bR=(t,e)=>{var n=$a(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},cq=W(oq,mt,bR),ER=(t,e)=>{var n=$a(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},dq=W([lq,mt],ER),SR=(t,e)=>{var n=$a(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},fq=W(uq,mt,SR),hq=W(cq,fq,dq,(t,e,n)=>Th(t,n,e)),mq=W([_n],v_),AR=(t,e,n,r,i,s,a)=>{var o=kG(e,t.allowDataOverflow);if(o!=null)return o;var l=s==="vertical"&&a==="xAxis"||s==="horizontal"&&a==="yAxis",u=l?Th(n,i,uP(r)):Th(i,uP(r));return CG(e,u,t.allowDataOverflow)},pq=W([_n,mq,rq,iq,hq,je,mt],AR),gq=[0,1],PR=(t,e,n,r,i,s,a)=>{if(!((t==null||n==null||n.length===0)&&a===void 0)){var{dataKey:o,type:l}=t,u=Gr(e,s);return u&&o==null?rj(0,n.length):l==="category"?aq(r,t,u):i==="expand"?gq:a}},y_=W([_n,je,g_,cp,ap,mt,pq],PR),TR=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:a}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(Ac(s));return o in ru?o:"point"}}},jc=W([_n,je,sR,a_,mt],TR);function vq(t){if(t!=null){if(t in ru)return ru[t]();var e="scale".concat(Ac(t));if(e in ru)return ru[e]()}}function w_(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=vq(e);if(i!=null){var s=i.domain(n).range(r);return i7(s),s}}}var IR=(t,e,n)=>{var r=v_(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Xo(t))return FG(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Xo(t))return BG(t,e.tickCount,e.allowDecimals)}},x_=W([y_,Nc,jc],IR),kR=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Xo(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],a=e[1],o=n[n.length-1];return[Math.min(i,s),Math.max(a,o)]}return e},yq=W([_n,y_,x_,mt],kR),wq=W(cp,_n,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from($a(t.map(o=>o.value))).sort((o,l)=>o-l);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var a=r[s+1]-r[s];n=Math.min(n,a)}return n/i}}),CR=W(wq,je,UG,zt,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!ln(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var a=Ps(n,t*s),o=t*s/2;return o-a-(o-a)/s*a}return 0}),xq=(t,e)=>{var n=Di(t,e);return n==null||typeof n.padding!="string"?0:CR(t,"xAxis",e,n.padding)},_q=(t,e)=>{var n=Ds(t,e);return n==null||typeof n.padding!="string"?0:CR(t,"yAxis",e,n.padding)},bq=W(Di,xq,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Eq=W(Ds,_q,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Sq=W([zt,bq,Ym,qm,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),Aq=W([zt,je,Eq,Ym,qm,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:a}=i;return s?[r.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Rc=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Sq(t,n,r);case"yAxis":return Aq(t,n,r);case"zAxis":return(i=m_(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return tR(t);case"radiusAxis":return nR(t,n);default:return}},NR=W([_n,Rc],op),ml=W([_n,jc,yq,NR],w_);W([Oc,dp,mt],yR);function OR(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var fp=(t,e)=>e,hp=(t,e,n)=>n,Pq=W(Ix,fp,hp,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(OR)),Tq=W(kx,fp,hp,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(OR)),jR=(t,e)=>({width:t.width,height:e.height}),Iq=(t,e)=>{var n=typeof e.width=="number"?e.width:Gm;return{width:n,height:t.height}},kq=W(zt,Di,jR),Cq=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Nq=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Oq=W(ji,zt,Pq,fp,hp,(t,e,n,r,i)=>{var s={},a;return n.forEach(o=>{var l=jR(e,o);a==null&&(a=Cq(e,r,t));var u=r==="top"&&!i||r==="bottom"&&i;s[o.id]=a-Number(u)*l.height,a+=(u?-1:1)*l.height}),s}),jq=W(Oi,zt,Tq,fp,hp,(t,e,n,r,i)=>{var s={},a;return n.forEach(o=>{var l=Iq(e,o);a==null&&(a=Nq(e,r,t));var u=r==="left"&&!i||r==="right"&&i;s[o.id]=a-Number(u)*l.width,a+=(u?-1:1)*l.width}),s}),Rq=(t,e)=>{var n=zt(t),r=Di(t,e);if(r!=null){var i=Oq(t,r.orientation,r.mirror),s=i[e];return s==null?{x:n.left,y:0}:{x:n.left,y:s}}},Dq=(t,e)=>{var n=zt(t),r=Ds(t,e);if(r!=null){var i=jq(t,r.orientation,r.mirror),s=i[e];return s==null?{x:0,y:n.top}:{x:s,y:n.top}}},Mq=W(zt,Ds,(t,e)=>{var n=typeof e.width=="number"?e.width:Gm;return{width:n,height:t.height}}),RR=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=n,o=Gr(t,r),l=e.map(u=>u.value);if(a&&o&&s==="category"&&i&&d2(l))return l}},__=W([je,cp,_n,mt],RR),DR=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,a=Gr(t,r);if(a&&(i==="number"||s!=="auto"))return e.map(o=>o.value)}},b_=W([je,cp,Nc,mt],DR),cP=W([je,JG,jc,ml,__,b_,Rc,x_,mt],(t,e,n,r,i,s,a,o,l)=>{if(e==null)return null;var u=Gr(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:s,duplicateDomain:i,isCategorical:u,niceTicks:o,range:a,realScaleType:n,scale:r}}),Lq=(t,e,n,r,i,s,a,o,l)=>{if(!(e==null||r==null)){var u=Gr(t,l),{type:c,ticks:d,tickCount:h}=e,p=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,g=c==="category"&&r.bandwidth?r.bandwidth()/p:0;g=l==="angleAxis"&&s!=null&&s.length>=2?er(s[0]-s[1])*2*g:g;var y=d||i;if(y){var b=y.map((w,x)=>{var _=a?a.indexOf(w):w;return{index:x,coordinate:r(_)+g,value:w,offset:g}});return b.filter(w=>!Dn(w.coordinate))}return u&&o?o.map((w,x)=>({coordinate:r(w)+g,value:w,index:x,offset:g})):r.ticks?r.ticks(h).map(w=>({coordinate:r(w)+g,value:w,offset:g})):r.domain().map((w,x)=>({coordinate:r(w)+g,value:a?a[w]:w,index:x,offset:g}))}},MR=W([je,Nc,jc,ml,x_,Rc,__,b_,mt],Lq),$q=(t,e,n,r,i,s,a)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var o=Gr(t,a),{tickCount:l}=e,u=0;return u=a==="angleAxis"&&(r==null?void 0:r.length)>=2?er(r[0]-r[1])*2*u:u,o&&s?s.map((c,d)=>({coordinate:n(c)+u,value:c,index:d,offset:u})):n.ticks?n.ticks(l).map(c=>({coordinate:n(c)+u,value:c,offset:u})):n.domain().map((c,d)=>({coordinate:n(c)+u,value:i?i[c]:c,index:d,offset:u}))}},mp=W([je,Nc,ml,Rc,__,b_,mt],$q),pp=W(_n,ml,(t,e)=>{if(!(t==null||e==null))return Ph(Ph({},t),{},{scale:e})}),Vq=W([_n,jc,y_,NR],w_);W((t,e,n)=>m_(t,n),Vq,(t,e)=>{if(!(t==null||e==null))return Ph(Ph({},t),{},{scale:e})});var Fq=W([je,Ix,kx],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),LR=t=>t.options.defaultTooltipEventType,$R=t=>t.options.validateTooltipEventTypes;function VR(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function E_(t,e){var n=LR(t),r=$R(t);return VR(e,n,r)}function Bq(t){return ce(e=>E_(e,t))}var FR=(t,e)=>{var n,r=Number(e);if(!(Dn(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Uq=t=>t.tooltip.settings,Xi={active:!1,index:null,dataKey:void 0,coordinate:void 0},zq={itemInteraction:{click:Xi,hover:Xi},axisInteraction:{click:Xi,hover:Xi},keyboardInteraction:Xi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},BR=Fn({name:"tooltip",initialState:zq,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=mi(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Wq,removeTooltipEntrySettings:Hq,setTooltipSettingsState:Kq,setActiveMouseOverItemIndex:Gq,mouseLeaveItem:Mte,mouseLeaveChart:UR,setActiveClickItemIndex:Lte,setMouseOverAxisIndex:zR,setMouseClickAxisIndex:qq,setSyncInteraction:Qy,setKeyboardInteraction:Xy}=BR.actions,Yq=BR.reducer;function dP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dP(Object(n),!0).forEach(function(r){Qq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qq(t,e,n){return(e=Xq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xq(t){var e=Jq(t,"string");return typeof e=="symbol"?e:e+""}function Jq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zq(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function eY(t){return t.index!=null}var WR=(t,e,n,r)=>{if(e==null)return Xi;var i=Zq(t,e,n);if(i==null)return Xi;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(eY(i)){if(s)return jd(jd({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return jd(jd({},Xi),{},{coordinate:i.coordinate})},S_=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!ln(r))return n;var i=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(i,Math.min(r,s)))},HR=(t,e,n,r,i,s,a,o)=>{if(!(s==null||o==null)){var l=a[0],u=l==null?void 0:o(l.positions,s);if(u!=null)return u;var c=i==null?void 0:i[Number(s)];if(c)switch(n){case"horizontal":return{x:c.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:c.coordinate}}}},KR=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},Dc=t=>t.options.tooltipPayloadSearcher,pl=t=>t.tooltip;function fP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(n),!0).forEach(function(r){tY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tY(t,e,n){return(e=nY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nY(t){var e=rY(t,"string");return typeof e=="symbol"?e:e+""}function rY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iY(t,e){return t??e}var GR=(t,e,n,r,i,s,a)=>{if(!(e==null||s==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:c}=n,d=[];return t.reduce((h,p)=>{var g,{dataDefinedOnItem:y,settings:b}=p,w=iY(y,o),x=Array.isArray(w)?RO(w,u,c):w,_=(g=b==null?void 0:b.dataKey)!==null&&g!==void 0?g:r==null?void 0:r.dataKey,P=b==null?void 0:b.nameKey,N;if(r!=null&&r.dataKey&&Array.isArray(x)&&!Array.isArray(x[0])&&a==="axis"?N=f2(x,r.dataKey,i):N=s(x,e,l,P),Array.isArray(N))N.forEach(I=>{var A=hP(hP({},b),{},{name:I.name,unit:I.unit,color:void 0,fill:void 0});h.push(tA({tooltipEntrySettings:A,dataKey:I.dataKey,payload:I.payload,value:Vt(I.payload,I.dataKey),name:I.name}))});else{var D;h.push(tA({tooltipEntrySettings:b,dataKey:_,payload:N,value:Vt(N,_),name:(D=Vt(N,P))!==null&&D!==void 0?D:b==null?void 0:b.name}))}return h},d)}},A_=W([Et,je,sR,a_,bt],TR),sY=W([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),aY=W([bt,fl],aR),Mc=W([sY,Et,aY],oR),oY=W([Mc],t=>t.filter(h_)),lY=W([Mc],dR),gl=W([lY,Rs],fR),uY=W([oY,Rs,Et],iR),P_=W([gl,Et,Mc],hR),cY=W([Et],v_),dY=W([Mc],t=>t.filter(h_)),fY=W([uY,dY,ap],pR),hY=W([fY,Rs,bt],gR),mY=W([Mc],uR),pY=W([gl,Et,mY,dp,bt],vR),gY=W([wR,bt,fl],hl),vY=W([gY,bt],bR),yY=W([xR,bt,fl],hl),wY=W([yY,bt],ER),xY=W([_R,bt,fl],hl),_Y=W([xY,bt],SR),bY=W([vY,_Y,wY],Th),EY=W([Et,cY,hY,pY,bY,je,bt],AR),qR=W([Et,je,gl,P_,ap,bt,EY],PR),SY=W([qR,Et,A_],IR),AY=W([Et,qR,SY,bt],kR),YR=t=>{var e=bt(t),n=fl(t),r=!1;return Rc(t,e,n,r)},QR=W([Et,YR],op),XR=W([Et,A_,AY,QR],w_),PY=W([je,P_,Et,bt],RR),TY=W([je,P_,Et,bt],DR),IY=(t,e,n,r,i,s,a,o)=>{if(e){var{type:l}=e,u=Gr(t,o);if(r){var c=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,d=l==="category"&&r.bandwidth?r.bandwidth()/c:0;return d=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?er(i[0]-i[1])*2*d:d,u&&a?a.map((h,p)=>({coordinate:r(h)+d,value:h,index:p,offset:d})):r.domain().map((h,p)=>({coordinate:r(h)+d,value:s?s[h]:h,index:p,offset:d}))}}},Mi=W([je,Et,A_,XR,YR,PY,TY,bt],IY),T_=W([LR,$R,Uq],(t,e,n)=>VR(n.shared,t,e)),JR=t=>t.tooltip.settings.trigger,I_=t=>t.tooltip.settings.defaultIndex,gp=W([pl,T_,JR,I_],WR),ac=W([gp,gl],S_),ZR=W([Mi,ac],FR),kY=W([gp],t=>{if(t)return t.dataKey}),eD=W([pl,T_,JR,I_],KR),CY=W([Oi,ji,je,zt,Mi,I_,eD,Dc],HR),NY=W([gp,CY],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),OY=W([gp],t=>t.active),jY=W([eD,ac,Rs,Et,ZR,Dc,T_],GR),RY=W([jY],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function mP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mP(Object(n),!0).forEach(function(r){DY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DY(t,e,n){return(e=MY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MY(t){var e=LY(t,"string");return typeof e=="symbol"?e:e+""}function LY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $Y=()=>ce(Et),VY=()=>{var t=$Y(),e=ce(Mi),n=ce(XR);return Zu(pP(pP({},t),{},{scale:n}),e)},tD=()=>ce(a_),k_=(t,e)=>e,nD=(t,e,n)=>n,C_=(t,e,n,r)=>r,FY=W(Mi,t=>Vm(t,e=>e.coordinate)),N_=W([pl,k_,nD,C_],WR),rD=W([N_,gl],S_),BY=(t,e,n)=>{if(e!=null){var r=pl(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},iD=W([pl,k_,nD,C_],KR),Ih=W([Oi,ji,je,zt,Mi,C_,iD,Dc],HR),UY=W([N_,Ih],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),sD=W(Mi,rD,FR),zY=W([iD,rD,Rs,Et,sD,Dc,k_],GR),WY=W([N_],t=>({isActive:t.active,activeIndex:t.index})),HY=(t,e,n,r,i,s,a,o)=>{if(!(!t||!e||!r||!i||!s)){var l=h7(t.chartX,t.chartY,e,n,o);if(l){var u=p7(l,e),c=n7(u,a,s,r,i),d=m7(e,s,c,l);return{activeIndex:String(c),activeCoordinate:d}}}};function Jy(){return Jy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jy.apply(null,arguments)}function gP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(n),!0).forEach(function(r){KY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KY(t,e,n){return(e=GY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GY(t){var e=qY(t,"string");return typeof e=="symbol"?e:e+""}function qY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YY(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:s,layout:a,cursor:o,tooltipEventType:l,chartName:u}=t,c=e,d=n,h=r;if(!o||!c||u!=="ScatterChart"&&l!=="axis")return null;var p,g;if(u==="ScatterChart")p=c,g=gW;else if(u==="BarChart")p=vW(a,c,i,s),g=GW;else if(a==="radial"){var{cx:y,cy:b,radius:w,startAngle:x,endAngle:_}=JO(c);p={cx:y,cy:b,startAngle:x,endAngle:_,innerRadius:w,outerRadius:w},g=XW}else p={points:JW(a,c,i)},g=wu;var P=typeof o=="object"&&"className"in o?o.className:void 0,N=Rd(Rd(Rd(Rd({stroke:"#ccc",pointerEvents:"none"},i),p),ot(o,!1)),{},{payload:d,payloadIndex:h,className:Ne("recharts-tooltip-cursor",P)});return S.isValidElement(o)?S.cloneElement(o,N):S.createElement(g,N)}function QY(t){var e=VY(),n=VO(),r=Qm(),i=tD();return S.createElement(YY,Jy({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var aD=S.createContext(null),XY=()=>S.useContext(aD),oD={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function s(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,d||l,h),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,g=new Array(p);h<p;h++)g[h]=d[h].fn;return g},o.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},o.prototype.emit=function(u,c,d,h,p,g){var y=n?n+u:u;if(!this._events[y])return!1;var b=this._events[y],w=arguments.length,x,_;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),w){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,c),!0;case 3:return b.fn.call(b.context,c,d),!0;case 4:return b.fn.call(b.context,c,d,h),!0;case 5:return b.fn.call(b.context,c,d,h,p),!0;case 6:return b.fn.call(b.context,c,d,h,p,g),!0}for(_=1,x=new Array(w-1);_<w;_++)x[_-1]=arguments[_];b.fn.apply(b.context,x)}else{var P=b.length,N;for(_=0;_<P;_++)switch(b[_].once&&this.removeListener(u,b[_].fn,void 0,!0),w){case 1:b[_].fn.call(b[_].context);break;case 2:b[_].fn.call(b[_].context,c);break;case 3:b[_].fn.call(b[_].context,c,d);break;case 4:b[_].fn.call(b[_].context,c,d,h);break;default:if(!x)for(N=1,x=new Array(w-1);N<w;N++)x[N-1]=arguments[N];b[_].fn.apply(b[_].context,x)}}return!0},o.prototype.on=function(u,c,d){return s(this,u,c,d,!1)},o.prototype.once=function(u,c,d){return s(this,u,c,d,!0)},o.prototype.removeListener=function(u,c,d,h){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return a(this,p),this;var g=this._events[p];if(g.fn)g.fn===c&&(!h||g.once)&&(!d||g.context===d)&&a(this,p);else{for(var y=0,b=[],w=g.length;y<w;y++)(g[y].fn!==c||h&&!g[y].once||d&&g[y].context!==d)&&b.push(g[y]);b.length?this._events[p]=b.length===1?b[0]:b:a(this,p)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(oD);var JY=oD.exports;const ZY=ki(JY);var oc=new ZY,Zy="recharts.syncEvent.tooltip",vP="recharts.syncEvent.brush";function lD(t,e){if(e){var n=Number.parseInt(e,10);if(!Dn(n))return t==null?void 0:t[n]}}var eQ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},uD=Fn({name:"options",initialState:eQ,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),tQ=uD.reducer,{createEventEmitter:nQ}=uD.actions;function rQ(t){return t.tooltip.syncInteraction}var iQ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},cD=Fn({name:"chartData",initialState:iQ,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:yP,setDataStartEndIndexes:sQ,setComputedData:$te}=cD.actions,aQ=cD.reducer,dD=()=>{};function oQ(){var t=ce(o_),e=ce(l_),n=Ut(),r=ce(Jj),i=ce(Mi),s=Qm(),a=Cx(),o=ce(l=>l.rootProps.className);S.useEffect(()=>{if(t==null)return dD;var l=(u,c,d)=>{if(e!==d&&t===u){if(r==="index"){n(c);return}if(i!=null){var h;if(typeof r=="function"){var p={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},g=r(i,p);h=i[g]}else r==="value"&&(h=i.find(D=>String(D.value)===c.payload.label));var{coordinate:y}=c.payload;if(h==null||c.payload.active===!1||y==null||a==null){n(Qy({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:b,y:w}=y,x=Math.min(b,a.x+a.width),_=Math.min(w,a.y+a.height),P={x:s==="horizontal"?h.coordinate:x,y:s==="horizontal"?_:h.coordinate},N=Qy({active:c.payload.active,coordinate:P,dataKey:c.payload.dataKey,index:String(h.index),label:c.payload.label});n(N)}}};return oc.on(Zy,l),()=>{oc.off(Zy,l)}},[o,n,e,t,r,i,s,a])}function lQ(){var t=ce(o_),e=ce(l_),n=Ut();S.useEffect(()=>{if(t==null)return dD;var r=(i,s,a)=>{e!==a&&t===i&&n(sQ(s))};return oc.on(vP,r),()=>{oc.off(vP,r)}},[n,e,t])}function uQ(){var t=Ut();S.useEffect(()=>{t(nQ())},[t]),oQ(),lQ()}function cQ(t,e,n,r,i,s){var a=ce(h=>BY(h,t,e)),o=ce(l_),l=ce(o_),u=ce(Jj),c=ce(rQ),d=c==null?void 0:c.active;S.useEffect(()=>{if(!d&&l!=null&&o!=null){var h=Qy({active:s,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r});oc.emit(Zy,l,h,o)}},[d,n,a,i,r,o,l,u,s])}function wP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wP(Object(n),!0).forEach(function(r){dQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dQ(t,e,n){return(e=fQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fQ(t){var e=hQ(t,"string");return typeof e=="symbol"?e:e+""}function hQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mQ(t){return t.dataKey}function pQ(t,e){return S.isValidElement(t)?S.cloneElement(t,e):typeof t=="function"?S.createElement(t,e):S.createElement(q7,e)}var _P=[],gQ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!ll.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function fD(t){var e=qr(t,gQ),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:s,content:a,filterNull:o,isAnimationActive:l,offset:u,payloadUniqBy:c,position:d,reverseDirection:h,useTranslate3d:p,wrapperStyle:g,cursor:y,shared:b,trigger:w,defaultIndex:x,portal:_,axisId:P}=e,N=Ut(),D=typeof x=="number"?String(x):x;S.useEffect(()=>{N(Kq({shared:b,trigger:w,axisId:P,active:n,defaultIndex:D}))},[N,b,w,P,n,D]);var I=Cx(),A=BO(),k=Bq(b),{activeIndex:T,isActive:O}=ce(ye=>WY(ye,k,w,D)),R=ce(ye=>zY(ye,k,w,D)),C=ce(ye=>sD(ye,k,w,D)),G=ce(ye=>UY(ye,k,w,D)),L=R,K=XY(),J=n??O,[z,Z]=uO([L,J]),te=k==="axis"?C:void 0;cQ(k,w,G,te,T,J);var F=_??K;if(F==null)return null;var V=L??_P;J||(V=_P),o&&V.length&&(V=X2(L.filter(ye=>ye.value!=null&&(ye.hide!==!0||e.includeHidden)),c,mQ));var ne=V.length>0,xe=S.createElement(tW,{allowEscapeViewBox:r,animationDuration:i,animationEasing:s,isAnimationActive:l,active:J,coordinate:G,hasPayload:ne,offset:u,position:d,reverseDirection:h,useTranslate3d:p,viewBox:I,wrapperStyle:g,lastBoundingBox:z,innerRef:Z,hasPortalFromProps:!!_},pQ(a,xP(xP({},e),{},{payload:V,label:te,active:J,coordinate:G,accessibilityLayer:A})));return S.createElement(S.Fragment,null,sw.createPortal(xe,F),J&&S.createElement(QY,{cursor:y,tooltipEventType:k,coordinate:G,payload:L,index:T}))}var hD={},mD={},pD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let a,o=null;const l=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),c=()=>{o!==null&&(n.apply(a,o),a=void 0,o=null)},d=()=>{u&&c(),y()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,d()},r)},g=()=>{h!==null&&(clearTimeout(h),h=null)},y=()=>{g(),a=void 0,o=null},b=()=>{c()},w=function(...x){if(i!=null&&i.aborted)return;a=this,o=x;const _=h==null;p(),l&&_&&c()};return w.schedule=p,w.cancel=y,w.flush=b,i==null||i.addEventListener("abort",y,{once:!0}),w}t.debounce=e})(pD);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pD;function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:l}=s,u=Array(2);a&&(u[0]="leading"),o&&(u[1]="trailing");let c,d=null;const h=e.debounce(function(...y){c=r.apply(this,y),d=null},i,{edges:u}),p=function(...y){return l!=null&&(d===null&&(d=Date.now()),Date.now()-d>=l)?(c=r.apply(this,y),d=Date.now(),h.cancel(),h.schedule(),c):(h.apply(this,y),c)},g=()=>(h.flush(),c);return p.cancel=h.cancel,p.flush=g,p}t.debounce=n})(mD);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mD;function n(r,i=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return e.debounce(r,i,{leading:a,maxWait:i,trailing:o})}t.throttle=n})(hD);var vQ=hD.throttle;const yQ=ki(vQ);var xu=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function bP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bP(Object(n),!0).forEach(function(r){wQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wQ(t,e,n){return(e=xQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xQ(t){var e=_Q(t,"string");return typeof e=="symbol"?e:e+""}function _Q(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gD=S.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:a=0,minHeight:o,maxHeight:l,children:u,debounce:c=0,id:d,className:h,onResize:p,style:g={}}=t,y=S.useRef(null),b=S.useRef();b.current=p,S.useImperativeHandle(e,()=>y.current);var[w,x]=S.useState({containerWidth:r.width,containerHeight:r.height}),_=S.useCallback((N,D)=>{x(I=>{var A=Math.round(N),k=Math.round(D);return I.containerWidth===A&&I.containerHeight===k?I:{containerWidth:A,containerHeight:k}})},[]);S.useEffect(()=>{var N=k=>{var T,{width:O,height:R}=k[0].contentRect;_(O,R),(T=b.current)===null||T===void 0||T.call(b,O,R)};c>0&&(N=yQ(N,c,{trailing:!0,leading:!1}));var D=new ResizeObserver(N),{width:I,height:A}=y.current.getBoundingClientRect();return _(I,A),D.observe(y.current),()=>{D.disconnect()}},[_,c]);var P=S.useMemo(()=>{var{containerWidth:N,containerHeight:D}=w;if(N<0||D<0)return null;xu(ea(i)||ea(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),xu(!n||n>0,"The aspect(%s) must be greater than zero.",n);var I=ea(i)?N:i,A=ea(s)?D:s;return n&&n>0&&(I?A=I/n:A&&(I=A*n),l&&A>l&&(A=l)),xu(I>0||A>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,A,i,s,a,o,n),S.Children.map(u,k=>S.cloneElement(k,{width:I,height:A,style:Bg({width:I,height:A},k.props.style)}))},[n,u,s,l,o,a,w,i]);return S.createElement("div",{id:d?"".concat(d):void 0,className:Ne("recharts-responsive-container",h),style:Bg(Bg({},g),{},{width:i,height:s,minWidth:a,minHeight:o,maxHeight:l}),ref:y},S.createElement("div",{style:{width:0,height:0,overflow:"visible"}},P))});function bQ(t,e,n){return(e=EQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EQ(t){var e=SQ(t,"string");return typeof e=="symbol"?e:e+""}function SQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class AQ{constructor(e){bQ(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function EP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EP(Object(n),!0).forEach(function(r){TQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TQ(t,e,n){return(e=IQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IQ(t){var e=kQ(t,"string");return typeof e=="symbol"?e:e+""}function kQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CQ={cacheSize:2e3,enableCache:!0},vD=PQ({},CQ),SP=new AQ(vD.cacheSize),NQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},AP="recharts_measurement_span";function OQ(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(o)}var PP=(t,e)=>{try{var n=document.getElementById(AP);n||(n=document.createElement("span"),n.setAttribute("id",AP),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,NQ,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},_u=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ll.isSsr)return{width:0,height:0};if(!vD.enableCache)return PP(e,n);var r=OQ(e,n),i=SP.get(r);if(i)return i;var s=PP(e,n);return SP.set(r,s),s},TP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,IP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,RQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,yD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},DQ=Object.keys(yD),co="NaN";function MQ(t,e){return t*yD[e]}class fn{static parse(e){var n,[,r,i]=(n=RQ.exec(e))!==null&&n!==void 0?n:[];return new fn(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Dn(e)&&(this.unit=""),n!==""&&!jQ.test(n)&&(this.num=NaN,this.unit=""),DQ.includes(n)&&(this.num=MQ(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new fn(NaN,""):new fn(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new fn(NaN,""):new fn(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new fn(NaN,""):new fn(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new fn(NaN,""):new fn(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Dn(this.num)}}function wD(t){if(t.includes(co))return co;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=TP.exec(e))!==null&&n!==void 0?n:[],a=fn.parse(r??""),o=fn.parse(s??""),l=i==="*"?a.multiply(o):a.divide(o);if(l.isNaN())return co;e=e.replace(TP,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,c,d,h]=(u=IP.exec(e))!==null&&u!==void 0?u:[],p=fn.parse(c??""),g=fn.parse(h??""),y=d==="+"?p.add(g):p.subtract(g);if(y.isNaN())return co;e=e.replace(IP,y.toString())}return e}var kP=/\(([^()]*)\)/;function LQ(t){for(var e=t,n;(n=kP.exec(e))!=null;){var[,r]=n;e=e.replace(kP,wD(r))}return e}function $Q(t){var e=t.replace(/\s+/g,"");return e=LQ(e),e=wD(e),e}function VQ(t){try{return $Q(t)}catch{return co}}function Ug(t){var e=VQ(t.slice(5,-1));return e===co?"":e}var FQ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],BQ=["dx","dy","angle","className","breakAll"];function e0(){return e0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e0.apply(null,arguments)}function CP(t,e){if(t==null)return{};var n,r,i=UQ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function UQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var xD=/[ \f\n\r\t\v\u2028\u2029]+/,_D=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];lt(e)||(n?i=e.toString().split(""):i=e.toString().split(xD));var s=i.map(o=>({word:o,width:_u(o,r).width})),a=n?0:_u(" ",r).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},zQ=(t,e,n,r,i)=>{var{maxLines:s,children:a,style:o,breakAll:l}=t,u=oe(s),c=a,d=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return O.reduce((R,C)=>{var{word:G,width:L}=C,K=R[R.length-1];if(K&&(r==null||i||K.width+L+n<Number(r)))K.words.push(G),K.width+=L+n;else{var J={words:[G],width:L};R.push(J)}return R},[])},h=d(e),p=T=>T.reduce((O,R)=>O.width>R.width?O:R);if(!u||i)return h;var g=h.length>s||p(h).width>Number(r);if(!g)return h;for(var y="…",b=T=>{var O=c.slice(0,T),R=_D({breakAll:l,style:o,children:O+y}).wordsWithComputedWidth,C=d(R),G=C.length>s||p(C).width>Number(r);return[G,C]},w=0,x=c.length-1,_=0,P;w<=x&&_<=c.length-1;){var N=Math.floor((w+x)/2),D=N-1,[I,A]=b(D),[k]=b(N);if(!I&&!k&&(w=N+1),I&&k&&(x=N-1),!I&&k){P=A;break}_++}return P||h},NP=t=>{var e=lt(t)?[]:t.toString().split(xD);return[{words:e}]},WQ=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:a}=t;if((e||n)&&!ll.isSsr){var o,l,u=_D({breakAll:s,children:r,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:d}=u;o=c,l=d}else return NP(r);return zQ({breakAll:s,children:r,maxLines:a,style:i},o,l,e,n)}return NP(r)},OP="#808080",O_=S.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:a=!1,textAnchor:o="start",verticalAnchor:l="end",fill:u=OP}=t,c=CP(t,FQ),d=S.useMemo(()=>WQ({breakAll:c.breakAll,children:c.children,maxLines:c.maxLines,scaleToFit:a,style:c.style,width:c.width}),[c.breakAll,c.children,c.maxLines,a,c.style,c.width]),{dx:h,dy:p,angle:g,className:y,breakAll:b}=c,w=CP(c,BQ);if(!Wr(n)||!Wr(r))return null;var x=n+(oe(h)?h:0),_=r+(oe(p)?p:0),P;switch(l){case"start":P=Ug("calc(".concat(s,")"));break;case"middle":P=Ug("calc(".concat((d.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:P=Ug("calc(".concat(d.length-1," * -").concat(i,")"));break}var N=[];if(a){var D=d[0].width,{width:I}=c;N.push("scale(".concat(oe(I)?I/D:1,")"))}return g&&N.push("rotate(".concat(g,", ").concat(x,", ").concat(_,")")),N.length&&(w.transform=N.join(" ")),S.createElement("text",e0({},ot(w,!0),{ref:e,x,y:_,className:Ne("recharts-text",y),textAnchor:o,fill:u.includes("url")?OP:u}),d.map((A,k)=>{var T=A.words.join(b?"":" ");return S.createElement("tspan",{x,dy:k===0?P:i,key:"".concat(T,"-").concat(k)},T)}))});O_.displayName="Text";var HQ=["offset"],KQ=["labelRef"];function jP(t,e){if(t==null)return{};var n,r,i=GQ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function GQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function RP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RP(Object(n),!0).forEach(function(r){qQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qQ(t,e,n){return(e=YQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YQ(t){var e=QQ(t,"string");return typeof e=="symbol"?e:e+""}function QQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function si(){return si=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},si.apply(null,arguments)}var XQ=t=>{var{value:e,formatter:n}=t,r=lt(t.children)?e:t.children;return typeof n=="function"?n(r):r},j_=t=>t!=null&&typeof t=="function",JQ=(t,e)=>{var n=er(e-t),r=Math.min(Math.abs(e-t),360);return n*r},ZQ=(t,e,n,r)=>{var{position:i,offset:s,className:a}=t,{cx:o,cy:l,innerRadius:u,outerRadius:c,startAngle:d,endAngle:h,clockWise:p}=r,g=(u+c)/2,y=JQ(d,h),b=y>=0?1:-1,w,x;i==="insideStart"?(w=d+b*s,x=p):i==="insideEnd"?(w=h-b*s,x=!p):i==="end"&&(w=h+b*s,x=p),x=y<=0?x:!x;var _=Lt(o,l,g,w),P=Lt(o,l,g,w+(x?1:-1)*359),N="M".concat(_.x,",").concat(_.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(x?0:1,`,
    `).concat(P.x,",").concat(P.y),D=lt(t.id)?Qu("recharts-radial-line-"):t.id;return S.createElement("text",si({},n,{dominantBaseline:"central",className:Ne("recharts-radial-bar-label",a)}),S.createElement("defs",null,S.createElement("path",{id:D,d:N})),S.createElement("textPath",{xlinkHref:"#".concat(D)},e))},eX=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:o,endAngle:l}=t,u=(o+l)/2;if(n==="outside"){var{x:c,y:d}=Lt(r,i,a+e,u);return{x:c,y:d,textAnchor:c>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(s+a)/2,{x:p,y:g}=Lt(r,i,h,u);return{x:p,y:g,textAnchor:"middle",verticalAnchor:"middle"}},tX=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,{x:s,y:a,width:o,height:l}=e,u=l>=0?1:-1,c=u*r,d=u>0?"end":"start",h=u>0?"start":"end",p=o>=0?1:-1,g=p*r,y=p>0?"end":"start",b=p>0?"start":"end";if(i==="top"){var w={x:s+o/2,y:a-u*r,textAnchor:"middle",verticalAnchor:d};return rt(rt({},w),n?{height:Math.max(a-n.y,0),width:o}:{})}if(i==="bottom"){var x={x:s+o/2,y:a+l+c,textAnchor:"middle",verticalAnchor:h};return rt(rt({},x),n?{height:Math.max(n.y+n.height-(a+l),0),width:o}:{})}if(i==="left"){var _={x:s-g,y:a+l/2,textAnchor:y,verticalAnchor:"middle"};return rt(rt({},_),n?{width:Math.max(_.x-n.x,0),height:l}:{})}if(i==="right"){var P={x:s+o+g,y:a+l/2,textAnchor:b,verticalAnchor:"middle"};return rt(rt({},P),n?{width:Math.max(n.x+n.width-P.x,0),height:l}:{})}var N=n?{width:o,height:l}:{};return i==="insideLeft"?rt({x:s+g,y:a+l/2,textAnchor:b,verticalAnchor:"middle"},N):i==="insideRight"?rt({x:s+o-g,y:a+l/2,textAnchor:y,verticalAnchor:"middle"},N):i==="insideTop"?rt({x:s+o/2,y:a+c,textAnchor:"middle",verticalAnchor:h},N):i==="insideBottom"?rt({x:s+o/2,y:a+l-c,textAnchor:"middle",verticalAnchor:d},N):i==="insideTopLeft"?rt({x:s+g,y:a+c,textAnchor:b,verticalAnchor:h},N):i==="insideTopRight"?rt({x:s+o-g,y:a+c,textAnchor:y,verticalAnchor:h},N):i==="insideBottomLeft"?rt({x:s+g,y:a+l-c,textAnchor:b,verticalAnchor:d},N):i==="insideBottomRight"?rt({x:s+o-g,y:a+l-c,textAnchor:y,verticalAnchor:d},N):i&&typeof i=="object"&&(oe(i.x)||ea(i.x))&&(oe(i.y)||ea(i.y))?rt({x:s+Ps(i.x,o),y:a+Ps(i.y,l),textAnchor:"end",verticalAnchor:"end"},N):rt({x:s+o/2,y:a+l/2,textAnchor:"middle",verticalAnchor:"middle"},N)},nX=t=>"cx"in t&&oe(t.cx);function In(t){var{offset:e=5}=t,n=jP(t,HQ),r=rt({offset:e},n),{viewBox:i,position:s,value:a,children:o,content:l,className:u="",textBreakAll:c,labelRef:d}=r,h=ce(rR),p=Cx(),g=s==="center"?p:h??p,y=i||g;if(!y||lt(a)&&lt(o)&&!S.isValidElement(l)&&typeof l!="function")return null;var b=rt(rt({},r),{},{viewBox:y});if(S.isValidElement(l)){var{labelRef:w}=b,x=jP(b,KQ);return S.cloneElement(l,x)}var _;if(typeof l=="function"){if(_=S.createElement(l,b),S.isValidElement(_))return _}else _=XQ(r);var P=nX(y),N=ot(r,!0);if(P&&(s==="insideStart"||s==="insideEnd"||s==="end"))return ZQ(r,_,N,y);var D=P?eX(y,r.offset,r.position):tX(r,y);return S.createElement(O_,si({ref:d,className:Ne("recharts-label",u)},N,D,{breakAll:c}),_)}In.displayName="Label";var bD=t=>{var{cx:e,cy:n,angle:r,startAngle:i,endAngle:s,r:a,radius:o,innerRadius:l,outerRadius:u,x:c,y:d,top:h,left:p,width:g,height:y,clockWise:b,labelViewBox:w}=t;if(w)return w;if(oe(g)&&oe(y)){if(oe(c)&&oe(d))return{x:c,y:d,width:g,height:y};if(oe(h)&&oe(p))return{x:h,y:p,width:g,height:y}}if(oe(c)&&oe(d))return{x:c,y:d,width:0,height:0};if(oe(e)&&oe(n))return{cx:e,cy:n,startAngle:i||r||0,endAngle:s||r||0,innerRadius:l||0,outerRadius:u||o||a||0,clockWise:b};if(t.viewBox)return t.viewBox},rX=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?S.createElement(In,si({key:"label-implicit"},r)):Wr(t)?S.createElement(In,si({key:"label-implicit",value:t},r)):S.isValidElement(t)?t.type===In?S.cloneElement(t,rt({key:"label-implicit"},r)):S.createElement(In,si({key:"label-implicit",content:t},r)):j_(t)?S.createElement(In,si({key:"label-implicit",content:t},r)):t&&typeof t=="object"?S.createElement(In,si({},t,{key:"label-implicit"},r)):null},iX=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:i,labelRef:s}=e,a=bD(e),o=g2(i,In).map((u,c)=>S.cloneElement(u,{viewBox:n||a,key:"label-".concat(c)}));if(!r)return o;var l=rX(e.label,n||a,s);return[l,...o]};In.parseViewBox=bD;In.renderCallByParent=iX;var ED={},SD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(SD);var AD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(AD);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SD,n=AD,r=Rm;function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(ED);var sX=ED.last;const aX=ki(sX);var oX=["valueAccessor"],lX=["data","dataKey","clockWise","id","textBreakAll"];function kh(){return kh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kh.apply(null,arguments)}function DP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DP(Object(n),!0).forEach(function(r){uX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uX(t,e,n){return(e=cX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cX(t){var e=dX(t,"string");return typeof e=="symbol"?e:e+""}function dX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LP(t,e){if(t==null)return{};var n,r,i=fX(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var hX=t=>Array.isArray(t.value)?aX(t.value):t.value;function vs(t){var{valueAccessor:e=hX}=t,n=LP(t,oX),{data:r,dataKey:i,clockWise:s,id:a,textBreakAll:o}=n,l=LP(n,lX);return!r||!r.length?null:S.createElement(Pr,{className:"recharts-label-list"},r.map((u,c)=>{var d=lt(i)?e(u,c):Vt(u&&u.payload,i),h=lt(a)?{}:{id:"".concat(a,"-").concat(c)};return S.createElement(In,kh({},ot(u,!0),l,h,{parentViewBox:u.parentViewBox,value:d,textBreakAll:o,viewBox:In.parseViewBox(lt(s)?u:MP(MP({},u),{},{clockWise:s})),key:"label-".concat(c),index:c}))}))}vs.displayName="LabelList";function mX(t,e){return t?t===!0?S.createElement(vs,{key:"labelList-implicit",data:e}):S.isValidElement(t)||j_(t)?S.createElement(vs,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?S.createElement(vs,kh({data:e},t,{key:"labelList-implicit"})):null:null}function pX(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:r}=t,i=g2(r,vs).map((a,o)=>S.cloneElement(a,{data:e,key:"labelList-".concat(o)}));if(!n)return i;var s=mX(t.label,e);return[s,...i]}vs.renderCallByParent=pX;function t0(){return t0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t0.apply(null,arguments)}var R_=t=>{var{cx:e,cy:n,r,className:i}=t,s=Ne("recharts-dot",i);return e===+e&&n===+n&&r===+r?S.createElement("circle",t0({},Ns(t),ax(t),{className:s,cx:e,cy:n,r})):null},gX={radiusAxis:{},angleAxis:{}},PD=Fn({name:"polarAxis",initialState:gX,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Vte,removeRadiusAxis:Fte,addAngleAxis:Bte,removeAngleAxis:Ute}=PD.actions,vX=PD.reducer;function TD(t){var{fn:e,args:n}=t,r=Ut(),i=xn();return S.useEffect(()=>{if(!i){var s=e(n);return r(Wq(s)),()=>{r(Hq(s))}}},[e,n,r,i]),null}var yX=()=>{};function ID(t){var{legendPayload:e}=t,n=Ut(),r=xn();return S.useEffect(()=>r?yX:(n(C7(e)),()=>{n(N7(e))}),[n,r,e]),null}function kD(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=S.useRef(Qu(e)),r=S.useRef(t);return r.current!==t&&(n.current=Qu(e),r.current=t),n.current}var zg,wX=()=>{var[t]=S.useState(()=>Qu("uid-"));return t},xX=(zg=dL.useId)!==null&&zg!==void 0?zg:wX;function _X(t,e){var n=xX();return e||(t?"".concat(t,"-").concat(n):n)}var bX=S.createContext(void 0),CD=t=>{var{id:e,type:n,children:r}=t,i=_X("recharts-".concat(n),e);return S.createElement(bX.Provider,{value:i},r(i))},EX={cartesianItems:[],polarItems:[]},ND=Fn({name:"graphicalItems",initialState:EX,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=mi(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=mi(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=mi(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:SX,replaceCartesianGraphicalItem:AX,removeCartesianGraphicalItem:PX,addPolarGraphicalItem:zte,removePolarGraphicalItem:Wte}=ND.actions,TX=ND.reducer;function OD(t){var e=Ut(),n=S.useRef(null);return S.useEffect(()=>{n.current===null?e(SX(t)):n.current!==t&&e(AX({prev:n.current,next:t})),n.current=t},[e,t]),S.useEffect(()=>()=>{n.current&&(e(PX(n.current)),n.current=null)},[e]),null}function IX(){}var kX={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},$P={t:0},Wg={t:1};function jD(t){var e=qr(t,kX),{isActive:n,canBegin:r,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:l,children:u}=e,c=XO("JavascriptAnimate",e.animationManager),[d,h]=S.useState(n?$P:Wg),p=S.useRef(null);return S.useEffect(()=>{n||h(Wg)},[n]),S.useEffect(()=>{if(!n||!r)return IX;var g=QO($P,Wg,qO(s),i,h,c.getTimeoutController()),y=()=>{p.current=g()};return c.start([l,a,y,i,o]),()=>{c.stop(),p.current&&p.current(),o()}},[n,r,i,s,a,l,o,c]),u(d.t)}var CX=W([zt],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),NX=W([CX,Oi,ji],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),vp=()=>ce(NX),OX=()=>ce(RY);function VP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VP(Object(n),!0).forEach(function(r){jX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jX(t,e,n){return(e=RX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RX(t){var e=DX(t,"string");return typeof e=="symbol"?e:e+""}function DX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MX=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s}=t;if(i===!1||e.x==null||e.y==null)return null;var a=FP(FP({index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},ot(i,!1)),ax(i)),o;return S.isValidElement(i)?o=S.cloneElement(i,a):typeof i=="function"?o=i(a):o=S.createElement(R_,a),S.createElement(Pr,{className:"recharts-active-dot"},o)};function n0(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i}=t,s=ce(ac),a=OX();if(e==null||a==null)return null;var o=e.find(l=>a.includes(l.payload));return lt(o)?null:MX({point:o,childIndex:Number(s),mainColor:n,dataKey:i,activeDot:r})}var LX={},RD=Fn({name:"errorBars",initialState:LX,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Hte,removeErrorBar:Kte}=RD.actions,$X=RD.reducer,VX=["children"];function FX(t,e){if(t==null)return{};var n,r,i=BX(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function BX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var UX={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},zX=S.createContext(UX);function WX(t){var{children:e}=t,n=FX(t,VX);return S.createElement(zX.Provider,{value:n},e)}function D_(t,e){var n,r,i=ce(u=>Di(u,t)),s=ce(u=>Ds(u,e)),a=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Sn.allowDataOverflow,o=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:An.allowDataOverflow,l=a||o;return{needClip:l,needClipX:a,needClipY:o}}function DD(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=vp(),{needClipX:s,needClipY:a,needClip:o}=D_(e,n);if(!o)return null;var{x:l,y:u,width:c,height:d}=i;return S.createElement("clipPath",{id:"clipPath-".concat(r)},S.createElement("rect",{x:s?l:l-c/2,y:a?u:u-d/2,width:s?c:c*2,height:a?d:d*2}))}var HX=t=>{var{chartData:e}=t,n=Ut(),r=xn();return S.useEffect(()=>r?()=>{}:(n(yP(e)),()=>{n(yP(void 0))}),[e,n,r]),null},BP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},MD=Fn({name:"brush",initialState:BP,reducers:{setBrushSettings(t,e){return e.payload==null?BP:e.payload}}}),{setBrushSettings:Gte}=MD.actions,KX=MD.reducer;function GX(t,e,n){return(e=qX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qX(t){var e=YX(t,"string");return typeof e=="symbol"?e:e+""}function YX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class M_{static create(e){return new M_(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}GX(M_,"EPS",1e-4);function QX(t){return(t%180+180)%180}var XX=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=QX(i),a=s*Math.PI/180,o=Math.atan(r/n),l=a>o&&a<Math.PI-o?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},JX={dots:[],areas:[],lines:[]},LD=Fn({name:"referenceElements",initialState:JX,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=mi(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=mi(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=mi(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:qte,removeDot:Yte,addArea:Qte,removeArea:Xte,addLine:Jte,removeLine:Zte}=LD.actions,ZX=LD.reducer,eJ=S.createContext(void 0),tJ=t=>{var{children:e}=t,[n]=S.useState("".concat(Qu("recharts"),"-clip")),r=vp();if(r==null)return null;var{x:i,y:s,width:a,height:o}=r;return S.createElement(eJ.Provider,{value:n},S.createElement("defs",null,S.createElement("clipPath",{id:n},S.createElement("rect",{x:i,y:s,height:o,width:a}))),e)};function Hg(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function $D(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function nJ(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return XX(r,n)}function rJ(t,e,n){var r=n==="width",{x:i,y:s,width:a,height:o}=t;return e===1?{start:r?i:s,end:r?i+a:s+o}:{start:r?i+a:s+o,end:r?i:s}}function Ch(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function iJ(t,e){return $D(t,e+1)}function sJ(t,e,n,r,i){for(var s=(r||[]).slice(),{start:a,end:o}=e,l=0,u=1,c=a,d=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:$D(r,u)};var y=l,b,w=()=>(b===void 0&&(b=n(g,y)),b),x=g.coordinate,_=l===0||Ch(t,x,w,c,o);_||(l=0,c=a,u+=1),_&&(c=x+t*(w()/2+i),l+=u)},h;u<=s.length;)if(h=d(),h)return h.v;return[]}function UP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UP(Object(n),!0).forEach(function(r){aJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aJ(t,e,n){return(e=oJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oJ(t){var e=lJ(t,"string");return typeof e=="symbol"?e:e+""}function lJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uJ(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,{start:o}=e,{end:l}=e,u=function(h){var p=s[h],g,y=()=>(g===void 0&&(g=n(p,h)),g);if(h===a-1){var b=t*(p.coordinate+t*y()/2-l);s[h]=p=Yt(Yt({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate})}else s[h]=p=Yt(Yt({},p),{},{tickCoord:p.coordinate});var w=Ch(t,p.tickCoord,y,o,l);w&&(l=p.tickCoord-t*(y()/2+i),s[h]=Yt(Yt({},p),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return s}function cJ(t,e,n,r,i,s){var a=(r||[]).slice(),o=a.length,{start:l,end:u}=e;if(s){var c=r[o-1],d=n(c,o-1),h=t*(c.coordinate+t*d/2-u);a[o-1]=c=Yt(Yt({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var p=Ch(t,c.tickCoord,()=>d,l,u);p&&(u=c.tickCoord-t*(d/2+i),a[o-1]=Yt(Yt({},c),{},{isShow:!0}))}for(var g=s?o-1:o,y=function(x){var _=a[x],P,N=()=>(P===void 0&&(P=n(_,x)),P);if(x===0){var D=t*(_.coordinate-t*N()/2-l);a[x]=_=Yt(Yt({},_),{},{tickCoord:D<0?_.coordinate-D*t:_.coordinate})}else a[x]=_=Yt(Yt({},_),{},{tickCoord:_.coordinate});var I=Ch(t,_.tickCoord,N,l,u);I&&(l=_.tickCoord+t*(N()/2+i),a[x]=Yt(Yt({},_),{},{isShow:!0}))},b=0;b<g;b++)y(b);return a}function L_(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:a,orientation:o,interval:l,tickFormatter:u,unit:c,angle:d}=t;if(!i||!i.length||!r)return[];if(oe(l)||ll.isSsr){var h;return(h=iJ(i,oe(l)?l:0))!==null&&h!==void 0?h:[]}var p=[],g=o==="top"||o==="bottom"?"width":"height",y=c&&g==="width"?_u(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},b=(_,P)=>{var N=typeof u=="function"?u(_.value,P):_.value;return g==="width"?nJ(_u(N,{fontSize:e,letterSpacing:n}),y,d):_u(N,{fontSize:e,letterSpacing:n})[g]},w=i.length>=2?er(i[1].coordinate-i[0].coordinate):1,x=rJ(s,w,g);return l==="equidistantPreserveStart"?sJ(w,x,b,i,a):(l==="preserveStart"||l==="preserveStartEnd"?p=cJ(w,x,b,i,a,l==="preserveStartEnd"):p=uJ(w,x,b,i,a),p.filter(_=>_.isShow))}var dJ=["viewBox"],fJ=["viewBox"];function fo(){return fo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fo.apply(null,arguments)}function zP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zP(Object(n),!0).forEach(function(r){$_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WP(t,e){if(t==null)return{};var n,r,i=hJ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function $_(t,e,n){return(e=mJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mJ(t){var e=pJ(t,"string");return typeof e=="symbol"?e:e+""}function pJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ms extends S.Component{constructor(e){super(e),this.tickRefs=S.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,n){var{viewBox:r}=e,i=WP(e,dJ),s=this.props,{viewBox:a}=s,o=WP(s,fJ);return!Hg(r,a)||!Hg(i,o)||!Hg(n,this.state)}getTickLineCoord(e){var{x:n,y:r,width:i,height:s,orientation:a,tickSize:o,mirror:l,tickMargin:u}=this.props,c,d,h,p,g,y,b=l?-1:1,w=e.tickSize||o,x=oe(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=d=e.coordinate,p=r+ +!l*s,h=p-b*w,y=h-b*u,g=x;break;case"left":h=p=e.coordinate,d=n+ +!l*i,c=d-b*w,g=c-b*u,y=x;break;case"right":h=p=e.coordinate,d=n+ +l*i,c=d+b*w,g=c+b*u,y=x;break;default:c=d=e.coordinate,p=r+ +l*s,h=p+b*w,y=h+b*u,g=x;break}return{line:{x1:c,y1:h,x2:d,y2:p},tick:{x:g,y}}}getTickTextAnchor(){var{orientation:e,mirror:n}=this.props,r;switch(e){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:e,mirror:n}=this.props;switch(e){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:i,orientation:s,mirror:a,axisLine:o}=this.props,l=pt(pt(pt({},ot(this.props,!1)),ot(o,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var u=+(s==="top"&&!a||s==="bottom"&&a);l=pt(pt({},l),{},{x1:e,y1:n+u*i,x2:e+r,y2:n+u*i})}else{var c=+(s==="left"&&!a||s==="right"&&a);l=pt(pt({},l),{},{x1:e+c*r,y1:n,x2:e+c*r,y2:n+i})}return S.createElement("line",fo({},l,{className:Ne("recharts-cartesian-axis-line",Sa(o,"className"))}))}static renderTickItem(e,n,r){var i,s=Ne(n.className,"recharts-cartesian-axis-tick-value");if(S.isValidElement(e))i=S.cloneElement(e,pt(pt({},n),{},{className:s}));else if(typeof e=="function")i=e(pt(pt({},n),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=Ne(a,e.className)),i=S.createElement(O_,fo({},n,{className:a}),r)}return i}renderTicks(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:s,tick:a,tickFormatter:o,unit:l,padding:u}=this.props,c=L_(pt(pt({},this.props),{},{ticks:r}),e,n),d=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),p=Ns(this.props),g=ot(a,!1),y=pt(pt({},p),{},{fill:"none"},ot(i,!1)),b=c.map((w,x)=>{var{line:_,tick:P}=this.getTickLineCoord(w),N=pt(pt(pt(pt({textAnchor:d,verticalAnchor:h},p),{},{stroke:"none",fill:s},g),P),{},{index:x,payload:w,visibleTicksCount:c.length,tickFormatter:o,padding:u});return S.createElement(Pr,fo({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},h2(this.props,w,x)),i&&S.createElement("line",fo({},y,_,{className:Ne("recharts-cartesian-axis-tick-line",Sa(i,"className"))})),a&&Ms.renderTickItem(a,N,"".concat(typeof o=="function"?o(w.value,x):w.value).concat(l||"")))});return b.length>0?S.createElement("g",{className:"recharts-cartesian-axis-ticks"},b):null}render(){var{axisLine:e,width:n,height:r,className:i,hide:s}=this.props;if(s)return null;var{ticks:a}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:S.createElement(Pr,{className:Ne("recharts-cartesian-axis",i),ref:o=>{if(o){var l=o.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(l);var u=l[0];if(u){var c=window.getComputedStyle(u).fontSize,d=window.getComputedStyle(u).letterSpacing;(c!==this.state.fontSize||d!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,a),In.renderCallByParent(this.props))}}$_(Ms,"displayName","CartesianAxis");$_(Ms,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var gJ=["x1","y1","x2","y2","key"],vJ=["offset"],yJ=["xAxisId","yAxisId"],wJ=["xAxisId","yAxisId"];function HP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(n),!0).forEach(function(r){xJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xJ(t,e,n){return(e=_J(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _J(t){var e=bJ(t,"string");return typeof e=="symbol"?e:e+""}function bJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ia(){return ia=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ia.apply(null,arguments)}function Nh(t,e){if(t==null)return{};var n,r,i=EJ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function EJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var SJ=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:a,ry:o}=t;return S.createElement("rect",{x:r,y:i,ry:o,width:s,height:a,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function VD(t,e){var n;if(S.isValidElement(t))n=S.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:s,y2:a,key:o}=e,l=Nh(e,gJ),u=Ns(l),{offset:c}=u,d=Nh(u,vJ);n=S.createElement("line",ia({},d,{x1:r,y1:i,x2:s,y2:a,fill:"none",key:o}))}return n}function AJ(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,o=Nh(t,yJ),l=i.map((u,c)=>{var d=Zt(Zt({},o),{},{x1:e,y1:u,x2:e+n,y2:u,key:"line-".concat(c),index:c});return VD(r,d)});return S.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function PJ(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,o=Nh(t,wJ),l=i.map((u,c)=>{var d=Zt(Zt({},o),{},{x1:u,y1:e,x2:u,y2:e+n,key:"line-".concat(c),index:c});return VD(r,d)});return S.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function TJ(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:a,horizontalPoints:o,horizontal:l=!0}=t;if(!l||!e||!e.length)return null;var u=o.map(d=>Math.round(d+i-i)).sort((d,h)=>d-h);i!==u[0]&&u.unshift(0);var c=u.map((d,h)=>{var p=!u[h+1],g=p?i+a-d:u[h+1]-d;if(g<=0)return null;var y=h%e.length;return S.createElement("rect",{key:"react-".concat(h),y:d,x:r,height:g,width:s,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function IJ(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:a,height:o,verticalPoints:l}=t;if(!e||!n||!n.length)return null;var u=l.map(d=>Math.round(d+i-i)).sort((d,h)=>d-h);i!==u[0]&&u.unshift(0);var c=u.map((d,h)=>{var p=!u[h+1],g=p?i+a-d:u[h+1]-d;if(g<=0)return null;var y=h%n.length;return S.createElement("rect",{key:"react-".concat(h),x:d,y:s,width:g,height:o,stroke:"none",fill:n[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var kJ=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return DO(L_(Zt(Zt(Zt({},Ms.defaultProps),n),{},{ticks:MO(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},CJ=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return DO(L_(Zt(Zt(Zt({},Ms.defaultProps),n),{},{ticks:MO(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},NJ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function V_(t){var e=Nx(),n=Ox(),r=VO(),i=Zt(Zt({},qr(t,NJ)),{},{x:oe(t.x)?t.x:r.left,y:oe(t.y)?t.y:r.top,width:oe(t.width)?t.width:r.width,height:oe(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:a,x:o,y:l,width:u,height:c,syncWithTicks:d,horizontalValues:h,verticalValues:p}=i,g=xn(),y=ce(k=>cP(k,"xAxis",s,g)),b=ce(k=>cP(k,"yAxis",a,g));if(!oe(u)||u<=0||!oe(c)||c<=0||!oe(o)||o!==+o||!oe(l)||l!==+l)return null;var w=i.verticalCoordinatesGenerator||kJ,x=i.horizontalCoordinatesGenerator||CJ,{horizontalPoints:_,verticalPoints:P}=i;if((!_||!_.length)&&typeof x=="function"){var N=h&&h.length,D=x({yAxis:b?Zt(Zt({},b),{},{ticks:N?h:b.ticks}):void 0,width:e,height:n,offset:r},N?!0:d);xu(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(_=D)}if((!P||!P.length)&&typeof w=="function"){var I=p&&p.length,A=w({xAxis:y?Zt(Zt({},y),{},{ticks:I?p:y.ticks}):void 0,width:e,height:n,offset:r},I?!0:d);xu(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof A,"]")),Array.isArray(A)&&(P=A)}return S.createElement("g",{className:"recharts-cartesian-grid"},S.createElement(SJ,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),S.createElement(TJ,ia({},i,{horizontalPoints:_})),S.createElement(IJ,ia({},i,{verticalPoints:P})),S.createElement(AJ,ia({},i,{offset:r,horizontalPoints:_,xAxis:y,yAxis:b})),S.createElement(PJ,ia({},i,{offset:r,verticalPoints:P,xAxis:y,yAxis:b})))}V_.displayName="CartesianGrid";var FD=(t,e,n,r)=>pp(t,"xAxis",e,r),BD=(t,e,n,r)=>mp(t,"xAxis",e,r),UD=(t,e,n,r)=>pp(t,"yAxis",n,r),zD=(t,e,n,r)=>mp(t,"yAxis",n,r),OJ=W([je,FD,UD,BD,zD],(t,e,n,r,i)=>Gr(t,"xAxis")?Zu(e,r,!1):Zu(n,i,!1)),jJ=(t,e,n,r,i)=>i;function RJ(t){return t.type==="line"}var DJ=W([p_,jJ],(t,e)=>t.filter(RJ).find(n=>n.id===e)),MJ=W([je,FD,UD,BD,zD,DJ,OJ,ip],(t,e,n,r,i,s,a,o)=>{var{chartData:l,dataStartIndex:u,dataEndIndex:c}=o;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||a==null)){var{dataKey:d,data:h}=s,p;if(h!=null&&h.length>0?p=h:p=l==null?void 0:l.slice(u,c+1),p!=null)return rZ({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:d,bandSize:a,displayedData:p})}}),LJ=["id"],$J=["type","layout","connectNulls","needClip"],VJ=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function KP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KP(Object(n),!0).forEach(function(r){FJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FJ(t,e,n){return(e=BJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BJ(t){var e=UJ(t,"string");return typeof e=="symbol"?e:e+""}function UJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F_(t,e){if(t==null)return{};var n,r,i=zJ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ia(){return Ia=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ia.apply(null,arguments)}var WJ=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:Km(n,e),payload:t}]};function HJ(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:a,hide:o,unit:l}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:Km(a,e),hide:o,type:t.tooltipType,color:t.stroke,unit:l}}}var WD=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function KJ(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var GJ=(t,e,n)=>{var r=n.reduce((d,h)=>d+h);if(!r)return WD(e,t);for(var i=Math.floor(t/r),s=t%r,a=e-t,o=[],l=0,u=0;l<n.length;u+=n[l],++l)if(u+n[l]>s){o=[...n.slice(0,l),s-u];break}var c=o.length%2===0?[0,a]:[a];return[...KJ(n,i),...o,...c].map(d=>"".concat(d,"px")).join(", ")};function qJ(t,e){var n;if(S.isValidElement(t))n=S.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=Ne("recharts-line-dot",typeof t!="boolean"?t.className:"");n=S.createElement(R_,Ia({},e,{className:r}))}return n}function YJ(t,e){return t==null?!1:e?!0:t.length===1}function QJ(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:a}=r;if(!YJ(n,i))return null;var{id:o}=r,l=F_(r,LJ),u=Cm(i),c=Ns(l),d=ot(i,!0),h=n.map((g,y)=>{var b=gr(gr(gr({key:"dot-".concat(y),r:3},c),d),{},{index:y,cx:g.x,cy:g.y,dataKey:s,value:g.value,payload:g.payload,points:n});return qJ(i,b)}),p={clipPath:a?"url(#clipPath-".concat(u?"":"dots-").concat(e,")"):void 0};return S.createElement(Pr,Ia({className:"recharts-line-dots",key:"dots"},p),h)}function r0(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s,showLabels:a}=t,{type:o,layout:l,connectNulls:u,needClip:c}=s,d=F_(s,$J),h=gr(gr({},ot(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(e,")"):void 0,points:r,type:o,layout:l,connectNulls:u,strokeDasharray:i??s.strokeDasharray});return S.createElement(S.Fragment,null,(r==null?void 0:r.length)>1&&S.createElement(wu,Ia({},h,{pathRef:n})),S.createElement(QJ,{points:r,clipPathId:e,props:s}),a&&vs.renderCallByParent(s,r))}function XJ(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function JJ(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:a,strokeDasharray:o,isAnimationActive:l,animationBegin:u,animationDuration:c,animationEasing:d,animateNewValues:h,width:p,height:g,onAnimationEnd:y,onAnimationStart:b}=n,w=i.current,x=kD(n,"recharts-line-"),[_,P]=S.useState(!1),N=S.useCallback(()=>{typeof y=="function"&&y(),P(!1)},[y]),D=S.useCallback(()=>{typeof b=="function"&&b(),P(!0)},[b]),I=XJ(r.current),A=s.current;return S.createElement(jD,{begin:u,duration:c,isActive:l,easing:d,onAnimationEnd:N,onAnimationStart:D,key:x},k=>{var T=pr(A,I+A,k),O=Math.min(T,I),R;if(o){var C="".concat(o).split(/[,\s]+/gim).map(K=>parseFloat(K));R=GJ(O,I,C)}else R=WD(I,O);if(w){var G=w.length/a.length,L=k===1?a:a.map((K,J)=>{var z=Math.floor(J*G);if(w[z]){var Z=w[z];return gr(gr({},K),{},{x:pr(Z.x,K.x,k),y:pr(Z.y,K.y,k)})}return h?gr(gr({},K),{},{x:pr(p*2,K.x,k),y:pr(g/2,K.y,k)}):gr(gr({},K),{},{x:K.x,y:K.y})});return i.current=L,S.createElement(r0,{props:n,points:L,clipPathId:e,pathRef:r,showLabels:!_,strokeDasharray:R})}return k>0&&I>0&&(i.current=a,s.current=O),S.createElement(r0,{props:n,points:a,clipPathId:e,pathRef:r,showLabels:!_,strokeDasharray:R})})}function ZJ(t){var{clipPathId:e,props:n}=t,{points:r,isAnimationActive:i}=n,s=S.useRef(null),a=S.useRef(0),o=S.useRef(null),l=s.current;return i&&r&&r.length&&l!==r?S.createElement(JJ,{props:n,clipPathId:e,previousPointsRef:s,longestAnimatedLengthRef:a,pathRef:o}):S.createElement(r0,{props:n,points:r,clipPathId:e,pathRef:o,showLabels:!0})}var eZ=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:Vt(t.payload,e)});class tZ extends S.Component{render(){var e,{hide:n,dot:r,points:i,className:s,xAxisId:a,yAxisId:o,top:l,left:u,width:c,height:d,id:h,needClip:p}=this.props;if(n)return null;var g=Ne("recharts-line",s),y=h,{r:b=3,strokeWidth:w=2}=(e=ot(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},x=Cm(r),_=b*2+w;return S.createElement(S.Fragment,null,S.createElement(Pr,{className:g},p&&S.createElement("defs",null,S.createElement(DD,{clipPathId:y,xAxisId:a,yAxisId:o}),!x&&S.createElement("clipPath",{id:"clipPath-dots-".concat(y)},S.createElement("rect",{x:u-_/2,y:l-_/2,width:c+_,height:d+_}))),S.createElement(ZJ,{props:this.props,clipPathId:y}),S.createElement(WX,{xAxisId:a,yAxisId:o,data:i,dataPointFormatter:eZ,errorBarOffset:0},this.props.children)),S.createElement(n0,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var HD={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!ll.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function nZ(t){var e=qr(t,HD),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:o,dot:l,hide:u,isAnimationActive:c,label:d,legendType:h,xAxisId:p,yAxisId:g,id:y}=e,b=F_(e,VJ),{needClip:w}=D_(p,g),x=vp(),_=Qm(),P=xn(),N=ce(T=>MJ(T,p,g,P,y));if(_!=="horizontal"&&_!=="vertical"||N==null||x==null)return null;var{height:D,width:I,x:A,y:k}=x;return S.createElement(tZ,Ia({},b,{id:y,connectNulls:o,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,isAnimationActive:c,hide:u,label:d,legendType:h,xAxisId:p,yAxisId:g,points:N,layout:_,height:D,width:I,left:A,top:k,needClip:w}))}function rZ(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:a,bandSize:o,displayedData:l}=t;return l.map((u,c)=>{var d=Vt(u,a);if(e==="horizontal"){var h=dh({axis:n,ticks:i,bandSize:o,entry:u,index:c}),p=lt(d)?null:r.scale(d);return{x:h,y:p,value:d,payload:u}}var g=lt(d)?null:n.scale(d),y=dh({axis:r,ticks:s,bandSize:o,entry:u,index:c});return g==null||y==null?null:{x:g,y,value:d,payload:u}}).filter(Boolean)}function KD(t){var e=qr(t,HD),n=xn();return S.createElement(CD,{id:e.id,type:"line"},r=>S.createElement(S.Fragment,null,S.createElement(ID,{legendPayload:WJ(e)}),S.createElement(TD,{fn:HJ,args:e}),S.createElement(OD,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),S.createElement(nZ,Ia({},e,{id:r}))))}KD.displayName="Line";var GD=(t,e,n,r)=>pp(t,"xAxis",e,r),qD=(t,e,n,r)=>mp(t,"xAxis",e,r),YD=(t,e,n,r)=>pp(t,"yAxis",n,r),QD=(t,e,n,r)=>mp(t,"yAxis",n,r),iZ=W([je,GD,YD,qD,QD],(t,e,n,r,i)=>Gr(t,"xAxis")?Zu(e,r,!1):Zu(n,i,!1)),sZ=(t,e,n,r,i)=>i,XD=W([p_,sZ],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),aZ=(t,e,n,r,i)=>{var s,a=XD(t,e,n,r,i);if(a!=null){var o=je(t),l=Gr(o,"xAxis"),u;if(l?u=Yy(t,"yAxis",n,r):u=Yy(t,"xAxis",e,r),u!=null){var{stackId:c}=a,d=f_(a);if(!(c==null||d==null)){var h=(s=u[c])===null||s===void 0?void 0:s.stackedData;return h==null?void 0:h.find(p=>p.key===d)}}}},oZ=W([je,GD,YD,qD,QD,aZ,ip,iZ,XD],(t,e,n,r,i,s,a,o,l)=>{var{chartData:u,dataStartIndex:c,dataEndIndex:d}=a;if(!(l==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null)){var{data:h}=l,p;if(h&&h.length>0?p=h:p=u==null?void 0:u.slice(c,d+1),p!=null){var g=void 0;return TZ({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:c,areaSettings:l,stackedData:s,displayedData:p,chartBaseValue:g,bandSize:o})}}}),lZ=["id"],uZ=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function JD(t,e){if(t==null)return{};var n,r,i=cZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function GP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(n),!0).forEach(function(r){dZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dZ(t,e,n){return(e=fZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fZ(t){var e=hZ(t,"string");return typeof e=="symbol"?e:e+""}function hZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gi(){return gi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gi.apply(null,arguments)}function Oh(t,e){return t&&t!=="none"?t:e}var mZ=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:s,hide:a}=t;return[{inactive:a,dataKey:e,type:s,color:Oh(r,i),value:Km(n,e),payload:t}]};function pZ(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:a,hide:o,unit:l}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:Km(a,e),hide:o,type:t.tooltipType,color:Oh(r,s),unit:l}}}var gZ=(t,e)=>{var n;if(S.isValidElement(t))n=S.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=Ne("recharts-area-dot",typeof t!="boolean"?t.className:"");n=S.createElement(R_,gi({},e,{className:r}))}return n};function vZ(t,e){return t==null?!1:e?!0:t.length===1}function yZ(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:s,dataKey:a}=r;if(!vZ(n,s))return null;var o=Cm(s),l=Ns(r),u=ot(s,!0),c=n.map((h,p)=>{var g=sa(sa(sa({key:"dot-".concat(p),r:3},l),u),{},{index:p,cx:h.x,cy:h.y,dataKey:a,value:h.value,payload:h.payload,points:n});return gZ(s,g)}),d={clipPath:i?"url(#clipPath-".concat(o?"":"dots-").concat(e,")"):void 0};return S.createElement(Pr,gi({className:"recharts-area-dots"},d),c)}function i0(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:s,showLabels:a}=t,{layout:o,type:l,stroke:u,connectNulls:c,isRange:d}=s,{id:h}=s,p=JD(s,lZ),g=Ns(p);return S.createElement(S.Fragment,null,(e==null?void 0:e.length)>1&&S.createElement(Pr,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},S.createElement(wu,gi({},g,{id:h,points:e,connectNulls:c,type:l,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),u!=="none"&&S.createElement(wu,gi({},g,{className:"recharts-area-curve",layout:o,type:l,connectNulls:c,fill:"none",points:e})),u!=="none"&&d&&S.createElement(wu,gi({},g,{className:"recharts-area-curve",layout:o,type:l,connectNulls:c,fill:"none",points:n}))),S.createElement(yZ,{points:e,props:p,clipPathId:i}),a&&vs.renderCallByParent(p,e))}function wZ(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,s=r[0].y,a=r[r.length-1].y;if(!ln(s)||!ln(a))return null;var o=e*Math.abs(s-a),l=Math.max(...r.map(u=>u.x||0));return oe(n)?l=Math.max(n,l):n&&Array.isArray(n)&&n.length&&(l=Math.max(...n.map(u=>u.x||0),l)),oe(l)?S.createElement("rect",{x:0,y:s<a?s:s-o,width:l+(i?parseInt("".concat(i),10):1),height:Math.floor(o)}):null}function xZ(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,s=r[0].x,a=r[r.length-1].x;if(!ln(s)||!ln(a))return null;var o=e*Math.abs(s-a),l=Math.max(...r.map(u=>u.y||0));return oe(n)?l=Math.max(n,l):n&&Array.isArray(n)&&n.length&&(l=Math.max(...n.map(u=>u.y||0),l)),oe(l)?S.createElement("rect",{x:s<a?s:s-o,y:0,width:o,height:Math.floor(l+(i?parseInt("".concat(i),10):1))}):null}function _Z(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:s}=t;return n==="vertical"?S.createElement(wZ,{alpha:e,points:r,baseLine:i,strokeWidth:s}):S.createElement(xZ,{alpha:e,points:r,baseLine:i,strokeWidth:s})}function bZ(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s}=t,{points:a,baseLine:o,isAnimationActive:l,animationBegin:u,animationDuration:c,animationEasing:d,onAnimationStart:h,onAnimationEnd:p}=r,g=kD(r,"recharts-area-"),[y,b]=S.useState(!0),w=S.useCallback(()=>{typeof p=="function"&&p(),b(!1)},[p]),x=S.useCallback(()=>{typeof h=="function"&&h(),b(!0)},[h]),_=i.current,P=s.current;return S.createElement(jD,{begin:u,duration:c,isActive:l,easing:d,onAnimationEnd:w,onAnimationStart:x,key:g},N=>{if(_){var D=_.length/a.length,I=N===1?a:a.map((k,T)=>{var O=Math.floor(T*D);if(_[O]){var R=_[O];return sa(sa({},k),{},{x:pr(R.x,k.x,N),y:pr(R.y,k.y,N)})}return k}),A;return oe(o)?A=pr(P,o,N):lt(o)||Dn(o)?A=pr(P,0,N):A=o.map((k,T)=>{var O=Math.floor(T*D);if(Array.isArray(P)&&P[O]){var R=P[O];return sa(sa({},k),{},{x:pr(R.x,k.x,N),y:pr(R.y,k.y,N)})}return k}),N>0&&(i.current=I,s.current=A),S.createElement(i0,{points:I,baseLine:A,needClip:e,clipPathId:n,props:r,showLabels:!y})}return N>0&&(i.current=a,s.current=o),S.createElement(Pr,null,S.createElement("defs",null,S.createElement("clipPath",{id:"animationClipPath-".concat(n)},S.createElement(_Z,{alpha:N,points:a,baseLine:o,layout:r.layout,strokeWidth:r.strokeWidth}))),S.createElement(Pr,{clipPath:"url(#animationClipPath-".concat(n,")")},S.createElement(i0,{points:a,baseLine:o,needClip:e,clipPathId:n,props:r,showLabels:!0})))})}function EZ(t){var{needClip:e,clipPathId:n,props:r}=t,{points:i,baseLine:s,isAnimationActive:a}=r,o=S.useRef(null),l=S.useRef(),u=o.current,c=l.current;return a&&i&&i.length&&(u!==i||c!==s)?S.createElement(bZ,{needClip:e,clipPathId:n,props:r,previousPointsRef:o,previousBaselineRef:l}):S.createElement(i0,{points:i,baseLine:s,needClip:e,clipPathId:n,props:r,showLabels:!0})}class SZ extends S.PureComponent{render(){var e,{hide:n,dot:r,points:i,className:s,top:a,left:o,needClip:l,xAxisId:u,yAxisId:c,width:d,height:h,id:p,baseLine:g}=this.props;if(n)return null;var y=Ne("recharts-area",s),b=p,{r:w=3,strokeWidth:x=2}=(e=ot(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},_=Cm(r),P=w*2+x;return S.createElement(S.Fragment,null,S.createElement(Pr,{className:y},l&&S.createElement("defs",null,S.createElement(DD,{clipPathId:b,xAxisId:u,yAxisId:c}),!_&&S.createElement("clipPath",{id:"clipPath-dots-".concat(b)},S.createElement("rect",{x:o-P/2,y:a-P/2,width:d+P,height:h+P}))),S.createElement(EZ,{needClip:l,clipPathId:b,props:this.props})),S.createElement(n0,{points:i,mainColor:Oh(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(g)&&S.createElement(n0,{points:g,mainColor:Oh(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var ZD={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!ll.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function AZ(t){var e,n=qr(t,ZD),{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:o,dot:l,fill:u,fillOpacity:c,hide:d,isAnimationActive:h,legendType:p,stroke:g,xAxisId:y,yAxisId:b}=n,w=JD(n,uZ),x=Qm(),_=tD(),{needClip:P}=D_(y,b),N=xn(),{points:D,isRange:I,baseLine:A}=(e=ce(G=>oZ(G,y,b,N,t.id)))!==null&&e!==void 0?e:{},k=vp();if(x!=="horizontal"&&x!=="vertical"||k==null||_!=="AreaChart"&&_!=="ComposedChart")return null;var{height:T,width:O,x:R,y:C}=k;return!D||!D.length?null:S.createElement(SZ,gi({},w,{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:a,baseLine:A,connectNulls:o,dot:l,fill:u,fillOpacity:c,height:T,hide:d,layout:x,isAnimationActive:h,isRange:I,legendType:p,needClip:P,points:D,stroke:g,width:O,left:R,top:C,xAxisId:y,yAxisId:b}))}var PZ=(t,e,n,r,i)=>{var s=n??e;if(oe(s))return s;var a=t==="horizontal"?i:r,o=a.scale.domain();if(a.type==="number"){var l=Math.max(o[0],o[1]),u=Math.min(o[0],o[1]);return s==="dataMin"?u:s==="dataMax"||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return s==="dataMin"?o[0]:s==="dataMax"?o[1]:o[0]};function TZ(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:s,chartBaseValue:a,xAxis:o,yAxis:l,displayedData:u,dataStartIndex:c,xAxisTicks:d,yAxisTicks:h,bandSize:p}=t,g=i&&i.length,y=PZ(s,a,n,o,l),b=s==="horizontal",w=!1,x=u.map((P,N)=>{var D;g?D=i[c+N]:(D=Vt(P,r),Array.isArray(D)?w=!0:D=[y,D]);var I=D[1]==null||g&&!e&&Vt(P,r)==null;return b?{x:dh({axis:o,ticks:d,bandSize:p,entry:P,index:N}),y:I?null:l.scale(D[1]),value:D,payload:P}:{x:I?null:o.scale(D[1]),y:dh({axis:l,ticks:h,bandSize:p,entry:P,index:N}),value:D,payload:P}}),_;return g||w?_=x.map(P=>{var N=Array.isArray(P.value)?P.value[0]:null;return b?{x:P.x,y:N!=null&&P.y!=null?l.scale(N):null,payload:P.payload}:{x:N!=null?o.scale(N):null,y:P.y,payload:P.payload}}):_=b?l.scale(y):o.scale(y),{points:x,baseLine:_,isRange:w}}function eM(t){var e=qr(t,ZD),n=xn();return S.createElement(CD,{id:e.id,type:"area"},r=>S.createElement(S.Fragment,null,S.createElement(ID,{legendPayload:mZ(e)}),S.createElement(TD,{fn:pZ,args:e}),S.createElement(OD,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:u7(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),S.createElement(AZ,gi({},e,{id:r}))))}eM.displayName="Area";function qP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(n),!0).forEach(function(r){IZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IZ(t,e,n){return(e=kZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kZ(t){var e=CZ(t,"string");return typeof e=="symbol"?e:e+""}function CZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NZ={xAxis:{},yAxis:{},zAxis:{}},tM=Fn({name:"cartesianAxis",initialState:NZ,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=YP(YP({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:OZ,removeXAxis:jZ,addYAxis:RZ,removeYAxis:DZ,addZAxis:ene,removeZAxis:tne,updateYAxisWidth:MZ}=tM.actions,LZ=tM.reducer,$Z=["children"],VZ=["dangerouslySetInnerHTML","ticks"];function nM(t,e,n){return(e=FZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FZ(t){var e=BZ(t,"string");return typeof e=="symbol"?e:e+""}function BZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s0(){return s0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s0.apply(null,arguments)}function rM(t,e){if(t==null)return{};var n,r,i=UZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function UZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function zZ(t){var e=Ut(),n=S.useMemo(()=>{var{children:s}=t,a=rM(t,$Z);return a},[t]),r=ce(s=>Di(s,n.id)),i=n===r;return S.useEffect(()=>(e(OZ(n)),()=>{e(jZ(n))}),[n,e]),i?t.children:null}var WZ=t=>{var{xAxisId:e,className:n}=t,r=ce($O),i=xn(),s="xAxis",a=ce(p=>ml(p,s,e,i)),o=ce(p=>MR(p,s,e,i)),l=ce(p=>kq(p,e)),u=ce(p=>Rq(p,e));if(l==null||u==null)return null;var{dangerouslySetInnerHTML:c,ticks:d}=t,h=rM(t,VZ);return S.createElement(Ms,s0({},h,{scale:a,x:u.x,y:u.y,width:l.width,height:l.height,className:Ne("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:o}))},HZ=t=>{var e,n,r,i,s;return S.createElement(zZ,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter},S.createElement(WZ,t))};class yp extends S.Component{render(){return S.createElement(HZ,this.props)}}nM(yp,"displayName","XAxis");nM(yp,"defaultProps",{allowDataOverflow:Sn.allowDataOverflow,allowDecimals:Sn.allowDecimals,allowDuplicatedCategory:Sn.allowDuplicatedCategory,height:Sn.height,hide:!1,mirror:Sn.mirror,orientation:Sn.orientation,padding:Sn.padding,reversed:Sn.reversed,scale:Sn.scale,tickCount:Sn.tickCount,type:Sn.type,xAxisId:0});var KZ=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,a=0;if(e){e.forEach(c=>{if(c){var d=c.getBoundingClientRect();d.width>a&&(a=d.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+s,u=a+l+o+(n?r:0);return Math.round(u)}return 0},GZ=["dangerouslySetInnerHTML","ticks"];function iM(t,e,n){return(e=qZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qZ(t){var e=YZ(t,"string");return typeof e=="symbol"?e:e+""}function YZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function a0(){return a0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a0.apply(null,arguments)}function QZ(t,e){if(t==null)return{};var n,r,i=XZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function XZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function JZ(t){var e=Ut();return S.useEffect(()=>(e(RZ(t)),()=>{e(DZ(t))}),[t,e]),null}var ZZ=t=>{var e,{yAxisId:n,className:r,width:i,label:s}=t,a=S.useRef(null),o=S.useRef(null),l=ce($O),u=xn(),c=Ut(),d="yAxis",h=ce(_=>ml(_,d,n,u)),p=ce(_=>Mq(_,n)),g=ce(_=>Dq(_,n)),y=ce(_=>MR(_,d,n,u));if(S.useLayoutEffect(()=>{var _;if(!(i!=="auto"||!p||j_(s)||S.isValidElement(s))){var P=a.current,N=P==null||(_=P.tickRefs)===null||_===void 0?void 0:_.current,{tickSize:D,tickMargin:I}=P.props,A=KZ({ticks:N,label:o.current,labelGapWithTick:5,tickSize:D,tickMargin:I});Math.round(p.width)!==Math.round(A)&&c(MZ({id:n,width:A}))}},[a,a==null||(e=a.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,p==null?void 0:p.width,p,c,s,n,i]),p==null||g==null)return null;var{dangerouslySetInnerHTML:b,ticks:w}=t,x=QZ(t,GZ);return S.createElement(Ms,a0({},x,{ref:a,labelRef:o,scale:h,x:g.x,y:g.y,width:p.width,height:p.height,className:Ne("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:y}))},eee=t=>{var e,n,r,i,s;return S.createElement(S.Fragment,null,S.createElement(JZ,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter}),S.createElement(ZZ,t))},tee={allowDataOverflow:An.allowDataOverflow,allowDecimals:An.allowDecimals,allowDuplicatedCategory:An.allowDuplicatedCategory,hide:!1,mirror:An.mirror,orientation:An.orientation,padding:An.padding,reversed:An.reversed,scale:An.scale,tickCount:An.tickCount,type:An.type,width:An.width,yAxisId:0};class wp extends S.Component{render(){return S.createElement(eee,this.props)}}iM(wp,"displayName","YAxis");iM(wp,"defaultProps",tee);var nee={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lc=S;function ree(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var iee=typeof Object.is=="function"?Object.is:ree,see=Lc.useSyncExternalStore,aee=Lc.useRef,oee=Lc.useEffect,lee=Lc.useMemo,uee=Lc.useDebugValue;nee.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=aee(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=lee(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&a.hasValue){var g=a.value;if(i(g,p))return d=g}return d=p}if(g=d,iee(c,p))return g;var y=r(p);return i!==void 0&&i(g,y)?(c=p,g):(c=p,d=y)}var u=!1,c,d,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var o=see(t,s[0],s[1]);return oee(function(){a.hasValue=!0,a.value=o},[o]),uee(o),o};function cee(t){t()}function dee(){let t=null,e=null;return{clear(){t=null,e=null},notify(){cee(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var QP={notify(){},get:()=>[]};function fee(t,e){let n,r=QP,i=0,s=!1;function a(y){c();const b=r.subscribe(y);let w=!1;return()=>{w||(w=!0,b(),d())}}function o(){r.notify()}function l(){g.onStateChange&&g.onStateChange()}function u(){return s}function c(){i++,n||(n=t.subscribe(l),r=dee())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=QP)}function h(){s||(s=!0,c())}function p(){s&&(s=!1,d())}const g={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>r};return g}var hee=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mee=hee(),pee=()=>typeof navigator<"u"&&navigator.product==="ReactNative",gee=pee(),vee=()=>mee||gee?S.useLayoutEffect:S.useEffect,yee=vee(),Kg=Symbol.for("react-redux-context"),Gg=typeof globalThis<"u"?globalThis:{};function wee(){if(!S.createContext)return{};const t=Gg[Kg]??(Gg[Kg]=new Map);let e=t.get(S.createContext);return e||(e=S.createContext(null),t.set(S.createContext,e)),e}var xee=wee();function _ee(t){const{children:e,context:n,serverState:r,store:i}=t,s=S.useMemo(()=>{const l=fee(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),a=S.useMemo(()=>i.getState(),[i]);yee(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,a]);const o=n||xee;return S.createElement(o.Provider,{value:s},e)}var bee=_ee,Eee=(t,e)=>e,B_=W([Eee,je,rR,bt,QR,Mi,FY,zt],HY),U_=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},sM=ar("mouseClick"),aM=Pc();aM.startListening({actionCreator:sM,effect:(t,e)=>{var n=t.payload,r=B_(e.getState(),U_(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(qq({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var o0=ar("mouseMove"),oM=Pc();oM.startListening({actionCreator:o0,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=E_(r,r.tooltip.settings.shared),s=B_(r,U_(n));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?e.dispatch(zR({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(UR()))}});function See(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var XP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},lM=Fn({name:"rootProps",initialState:XP,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:XP.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),Aee=lM.reducer,{updateOptions:Pee}=lM.actions,uM=Fn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:nne}=uM.actions,Tee=uM.reducer,cM=ar("keyDown"),dM=ar("focus"),z_=Pc();z_.startListening({actionCreator:cM,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=Number(S_(i,gl(n))),o=Mi(n);if(s==="Enter"){var l=Ih(n,"axis","hover",String(i.index));e.dispatch(Xy({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var u=Fq(n),c=u==="left-to-right"?1:-1,d=s==="ArrowRight"?1:-1,h=a+d*c;if(!(o==null||h>=o.length||h<0)){var p=Ih(n,"axis","hover",String(h));e.dispatch(Xy({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});z_.startListening({actionCreator:dM,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",a=Ih(n,"axis","hover",String(s));e.dispatch(Xy({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var Hn=ar("externalEvent"),fM=Pc();fM.startListening({actionCreator:Hn,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:NY(n),activeDataKey:kY(n),activeIndex:ac(n),activeLabel:ZR(n),activeTooltipIndex:ac(n),isTooltipActive:OY(n)};t.payload.handler(r,t.payload.reactEvent)}}});var Iee=W([pl],t=>t.tooltipItemPayloads),kee=W([Iee,Dc,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(o=>o.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var a=e(s,n);return a}}}),hM=ar("touchMove"),mM=Pc();mM.startListening({actionCreator:hM,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=E_(r,r.tooltip.settings.shared);if(i==="axis"){var s=B_(r,U_({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(zR({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,o=n.touches[0],l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(v7),c=(a=l.getAttribute(y7))!==null&&a!==void 0?a:void 0,d=kee(e.getState(),u,c);e.dispatch(Gq({activeDataKey:c,activeIndex:u,activeCoordinate:d}))}}});var Cee=dO({brush:KX,cartesianAxis:LZ,chartData:aQ,errorBars:$X,graphicalItems:TX,layout:U8,legend:O7,options:tQ,polarAxis:vX,polarOptions:Tee,referenceElements:ZX,rootProps:Aee,tooltip:Yq}),Nee=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return h8({reducer:Cee,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([aM.middleware,oM.middleware,z_.middleware,fM.middleware,mM.middleware]),devTools:{serialize:{replacer:See},name:"recharts-".concat(n)}})};function Oee(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=xn(),s=S.useRef(null);if(i)return n;s.current==null&&(s.current=Nee(e,r));var a=xx;return S.createElement(bee,{context:a,store:s.current},n)}function jee(t){var{layout:e,width:n,height:r,margin:i}=t,s=Ut(),a=xn();return S.useEffect(()=>{a||(s(V8(e)),s(F8({width:n,height:r})),s($8(i)))},[s,a,e,n,r,i]),null}function Ree(t){var e=Ut();return S.useEffect(()=>{e(Pee(t))},[e,t]),null}var Dee=["children"];function Mee(t,e){if(t==null)return{};var n,r,i=Lee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jh(){return jh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jh.apply(null,arguments)}var $ee={width:"100%",height:"100%"},Vee=S.forwardRef((t,e)=>{var n=Nx(),r=Ox(),i=BO();if(!fh(n)||!fh(r))return null;var{children:s,otherAttributes:a,title:o,desc:l}=t,u,c;return typeof a.tabIndex=="number"?u=a.tabIndex:u=i?0:void 0,typeof a.role=="string"?c=a.role:c=i?"application":void 0,S.createElement(ox,jh({},a,{title:o,desc:l,role:c,tabIndex:u,width:n,height:r,style:$ee,ref:e}),s)}),Fee=t=>{var{children:e}=t,n=ce(Ym);if(!n)return null;var{width:r,height:i,y:s,x:a}=n;return S.createElement(ox,{width:r,height:i,x:a,y:s},e)},JP=S.forwardRef((t,e)=>{var{children:n}=t,r=Mee(t,Dee),i=xn();return i?S.createElement(Fee,null,n):S.createElement(Vee,jh({ref:e},r),n)});function Bee(){var t=Ut(),[e,n]=S.useState(null),r=ce(g7);return S.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;ln(s)&&s!==r&&t(B8(s))}},[e,t,r]),n}function ZP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZP(Object(n),!0).forEach(function(r){zee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zee(t,e,n){return(e=Wee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wee(t){var e=Hee(t,"string");return typeof e=="symbol"?e:e+""}function Hee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kee=S.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:d,onMouseUp:h,onTouchEnd:p,onTouchMove:g,onTouchStart:y,style:b,width:w}=t,x=Ut(),[_,P]=S.useState(null),[N,D]=S.useState(null);uQ();var I=Bee(),A=S.useCallback(V=>{I(V),typeof e=="function"&&e(V),P(V),D(V)},[I,e,P,D]),k=S.useCallback(V=>{x(sM(V)),x(Hn({handler:s,reactEvent:V}))},[x,s]),T=S.useCallback(V=>{x(o0(V)),x(Hn({handler:u,reactEvent:V}))},[x,u]),O=S.useCallback(V=>{x(UR()),x(Hn({handler:c,reactEvent:V}))},[x,c]),R=S.useCallback(V=>{x(o0(V)),x(Hn({handler:d,reactEvent:V}))},[x,d]),C=S.useCallback(()=>{x(dM())},[x]),G=S.useCallback(V=>{x(cM(V.key))},[x]),L=S.useCallback(V=>{x(Hn({handler:a,reactEvent:V}))},[x,a]),K=S.useCallback(V=>{x(Hn({handler:o,reactEvent:V}))},[x,o]),J=S.useCallback(V=>{x(Hn({handler:l,reactEvent:V}))},[x,l]),z=S.useCallback(V=>{x(Hn({handler:h,reactEvent:V}))},[x,h]),Z=S.useCallback(V=>{x(Hn({handler:y,reactEvent:V}))},[x,y]),te=S.useCallback(V=>{x(hM(V)),x(Hn({handler:g,reactEvent:V}))},[x,g]),F=S.useCallback(V=>{x(Hn({handler:p,reactEvent:V}))},[x,p]);return S.createElement(aD.Provider,{value:_},S.createElement(v2.Provider,{value:N},S.createElement("div",{className:Ne("recharts-wrapper",r),style:Uee({position:"relative",cursor:"default",width:w,height:i},b),onClick:k,onContextMenu:L,onDoubleClick:K,onFocus:C,onKeyDown:G,onMouseDown:J,onMouseEnter:T,onMouseLeave:O,onMouseMove:R,onMouseUp:z,onTouchEnd:F,onTouchMove:te,onTouchStart:Z,ref:A},n)))}),Gee=["children","className","width","height","style","compact","title","desc"];function qee(t,e){if(t==null)return{};var n,r,i=Yee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Yee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Qee=S.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:s,style:a,compact:o,title:l,desc:u}=t,c=qee(t,Gee),d=Ns(c);return o?S.createElement(JP,{otherAttributes:d,title:l,desc:u},n):S.createElement(Kee,{className:r,style:a,width:i,height:s,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},S.createElement(JP,{otherAttributes:d,title:l,desc:u,ref:e},S.createElement(tJ,null,n)))}),Xee=["width","height"];function l0(){return l0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l0.apply(null,arguments)}function Jee(t,e){if(t==null)return{};var n,r,i=Zee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ete={top:5,right:5,bottom:5,left:5},tte={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ete,reverseStackOrder:!1,syncMethod:"index"},pM=S.forwardRef(function(e,n){var r,i=qr(e.categoricalChartProps,tte),{width:s,height:a}=i,o=Jee(i,Xee);if(!fh(s)||!fh(a))return null;var{chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,categoricalChartProps:h}=e,p={chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return S.createElement(Oee,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:l},S.createElement(HX,{chartData:h.data}),S.createElement(jee,{width:s,height:a,layout:i.layout,margin:i.margin}),S.createElement(Ree,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),S.createElement(Qee,l0({},o,{width:s,height:a,ref:n})))}),nte=["axis"],rte=S.forwardRef((t,e)=>S.createElement(pM,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:nte,tooltipPayloadSearcher:lD,categoricalChartProps:t,ref:e})),ite=["axis"],ste=S.forwardRef((t,e)=>S.createElement(pM,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ite,tooltipPayloadSearcher:lD,categoricalChartProps:t,ref:e}));const qg=["#ffd700","#c0c0c0","#cd7f32","#3b82f6","#10b981","#8b5cf6","#f59e0b","#ef4444","#06b6d4","#84cc16"];function ate({data:t,seriesKeys:e=[],chartId:n="modern-multi",title:r="Classifica - Ultime 10 partite",selectedCount:i=3,playerRankings:s=[]}){const a=t.slice(-10),o=S.useMemo(()=>{if(a.length===0||e.length===0)return["auto","auto"];let c=1/0,d=-1/0;if(a.forEach(g=>{e.forEach(y=>{const b=g[y];typeof b=="number"&&(c=Math.min(c,b),d=Math.max(d,b))})}),c===1/0)return["auto","auto"];const p=(d-c)*.05;return[Math.max(0,Math.floor(c-p)),Math.ceil(d+p)]},[a,e]),l=({active:c,payload:d,label:h})=>c&&d&&d.length?m.jsxs("div",{className:"bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm border border-gray-200 dark:border-gray-700 rounded-xl shadow-xl p-4 min-w-48",children:[m.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-3",children:h}),m.jsx("div",{className:"space-y-2",children:d.sort((p,g)=>g.value-p.value).map((p,g)=>m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:p.color}}),m.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:p.dataKey})]}),m.jsx("span",{className:"text-sm font-bold",style:{color:p.color},children:p.value})]},g))})]}):null,u=({payload:c})=>{const d=[...c].sort((h,p)=>{const g=s.find(x=>x.name===h.value),y=s.find(x=>x.name===p.value),b=g?g.position:999,w=y?y.position:999;return b-w});return m.jsx("div",{className:"flex justify-center gap-3 mt-4 flex-wrap",children:d.map((h,p)=>{const g=s.find(b=>b.name===h.value),y=g?g.position:p+1;return m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-white shadow-sm",style:{backgroundColor:h.color}}),m.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:h.value}),m.jsxs("span",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded",children:[y,"°"]})]},h.value)})})};return m.jsxs("div",{className:"h-72 sm:h-80",children:[m.jsx(gD,{width:"100%",height:"100%",children:m.jsxs(rte,{data:a,margin:{left:10,right:10,top:20,bottom:60},children:[m.jsx("defs",{children:e.map((c,d)=>m.jsxs("filter",{id:`glow-${n}-${d}`,children:[m.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),m.jsxs("feMerge",{children:[m.jsx("feMergeNode",{in:"coloredBlur"}),m.jsx("feMergeNode",{in:"SourceGraphic"})]})]},c))}),m.jsx(V_,{strokeDasharray:"2 4",strokeOpacity:.15,horizontal:!0,vertical:!1}),m.jsx(yp,{dataKey:"label",tick:{fontSize:10,fill:"#6b7280"},axisLine:!1,tickLine:!1,interval:"preserveStartEnd"}),m.jsx(wp,{tick:{fontSize:11,fill:"#6b7280"},axisLine:!1,tickLine:!1,width:50,domain:o,scale:"linear"}),m.jsx(fD,{content:m.jsx(l,{})}),m.jsx(Xm,{content:m.jsx(u,{})}),e.map((c,d)=>m.jsx(KD,{type:"monotone",dataKey:c,stroke:qg[d]||`hsl(${d*36}, 70%, 50%)`,strokeWidth:d<3?4:d<5?3:2,dot:{r:d<3?4:d<5?3:2,fill:qg[d]||`hsl(${d*36}, 70%, 50%)`,stroke:"white",strokeWidth:2},activeDot:{r:d<3?7:d<5?6:5,fill:qg[d]||`hsl(${d*36}, 70%, 50%)`,stroke:"white",strokeWidth:3,filter:`url(#glow-${n}-${d})`,className:"drop-shadow-lg"},className:d<3?"drop-shadow-md":d<5?"drop-shadow-sm":""},c))]})}),m.jsxs("div",{className:"flex justify-between items-center mt-3 px-2",children:[m.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:r}),m.jsxs("span",{className:"text-xs text-gray-500",children:[a.length," periodi di gioco"]})]})]})}function gM({title:t,url:e,captureRef:n,captionBuilder:r,size:i="sm",T:s}){const a=e||(typeof window<"u"?window.location.href:""),o=(typeof r=="function"?r():"")||t||"Marsica Padel League",l=i==="sm"?s.btnGhostSm:s.btnGhost,u=g=>window.open(g,"_blank","noopener,noreferrer");async function c(){try{navigator.share?await navigator.share({title:t||"Marsica Padel League",text:o,url:a}):(await navigator.clipboard.writeText(a),alert("Link copiato negli appunti!"))}catch{}}function d(){if(!a)return c();u("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(a))}function h(g,y){const b=document.createElement("a");b.href=y,b.download=g,b.rel="noopener",b.style.display="none",document.body.appendChild(b),b.click(),setTimeout(()=>document.body.removeChild(b),100)}async function p(){const g=(n==null?void 0:n.current)||null;if(g)try{const y=await aw(()=>import("./index-6sdqbm2o.js"),[]),b=(s==null?void 0:s.name)==="dark"?"#0a0a0a":"#fafafa",w=await y.toPng(g,{pixelRatio:2,backgroundColor:b});try{const _=await(await fetch(w)).blob(),P=new File([_],"marsica-padel.png",{type:"image/png"});if(navigator.canShare&&navigator.canShare({files:[P]})){await navigator.share({files:[P],title:t||"Marsica Padel League",text:o});return}}catch{}h("marsica-padel.png",w);try{await navigator.clipboard.writeText(o)}catch{}alert("Immagine scaricata e didascalia copiata! Apri Instagram e caricala.");return}catch{}try{await navigator.clipboard.writeText(o+(a?`
${a}`:""))}catch{}u("https://www.instagram.com/")}return m.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 flex-wrap",children:[m.jsxs("button",{type:"button",onClick:c,className:l,title:"Condividi",children:[m.jsx("span",{className:"sm:hidden",children:"📤"}),m.jsx("span",{className:"hidden sm:inline",children:"Condividi"})]}),m.jsxs("button",{type:"button",onClick:d,className:l,title:"Condividi su Facebook",children:[m.jsx("span",{className:"sm:hidden",children:"f"}),m.jsx("span",{className:"hidden sm:inline",children:"Facebook"})]}),m.jsxs("button",{type:"button",onClick:p,className:l,title:"Condividi su Instagram",children:[m.jsx("span",{className:"sm:hidden",children:"📸"}),m.jsx("span",{className:"hidden sm:inline",children:"Instagram"})]})]})}function ote({players:t,matches:e,onOpenStats:n,T:r}){const i=S.useRef(null),[s,a]=S.useState(3),[o,l]=S.useState(!1),u=S.useMemo(()=>[...t].map(P=>({...P,winRate:(P.wins||0)+(P.losses||0)?(P.wins||0)/((P.wins||0)+(P.losses||0))*100:0})).sort((P,N)=>N.rating-P.rating),[t]),c=S.useMemo(()=>{const P=new Map;return e.forEach(N=>{[N.teamA,N.teamB].forEach(D=>{const[I,A]=D.sort(),k=`${I}_${A}`;if(!P.has(k)){const G=t.find(K=>K.id===I),L=t.find(K=>K.id===A);P.set(k,{key:k,players:[(G==null?void 0:G.name)||"Unknown",(L==null?void 0:L.name)||"Unknown"],wins:0,losses:0,matches:0})}const T=P.get(k);T.matches++;const O=N.teamA.includes(I)&&N.teamA.includes(A),R=N.sets.reduce((G,L)=>G+(L.a>L.b?1:0),0),C=N.sets.reduce((G,L)=>G+(L.b>L.a?1:0),0);O&&R>C||!O&&C>R?T.wins++:T.losses++})}),Array.from(P.values()).map(N=>({...N,winRate:N.matches>0?N.wins/N.matches*100:0})).sort((N,D)=>D.winRate-N.winRate)},[t,e]),d=S.useMemo(()=>{const P=new Map;return e.forEach(N=>{[...N.teamA,...N.teamB];const D=N.sets.reduce((T,O)=>T+(O.a>O.b?1:0),0),I=N.sets.reduce((T,O)=>T+(O.b>O.a?1:0),0);D>I?N.teamA:N.teamB,D>I?N.teamB:N.teamA;const A=N.sets.reduce((T,O)=>T+O.a,0),k=N.sets.reduce((T,O)=>T+O.b,0);N.teamA.forEach(T=>{if(!P.has(T)){const R=t.find(C=>C.id===T);P.set(T,{id:T,name:(R==null?void 0:R.name)||"Unknown",wins:0,losses:0,gamesWon:0,gamesLost:0,matches:0})}const O=P.get(T);O.matches++,D>I?(O.wins++,O.gamesWon+=A,O.gamesLost+=k):(O.losses++,O.gamesWon+=A,O.gamesLost+=k)}),N.teamB.forEach(T=>{if(!P.has(T)){const R=t.find(C=>C.id===T);P.set(T,{id:T,name:(R==null?void 0:R.name)||"Unknown",wins:0,losses:0,gamesWon:0,gamesLost:0,matches:0})}const O=P.get(T);O.matches++,I>D?(O.wins++,O.gamesWon+=k,O.gamesLost+=A):(O.losses++,O.gamesWon+=k,O.gamesLost+=A)})}),Array.from(P.values()).filter(N=>N.matches>=3).map(N=>({...N,winRate:N.wins/N.matches*100,gameEfficiency:N.gamesWon/(N.gamesWon+N.gamesLost)*100,efficiency:(N.wins/N.matches*.7+N.gamesWon/(N.gamesWon+N.gamesLost)*.3)*100})).sort((N,D)=>D.efficiency-N.efficiency)},[t,e]),h=S.useMemo(()=>{const P=new Map;[...e].sort((A,k)=>new Date(A.date)-new Date(k.date)).forEach(A=>{const k=A.sets.reduce((R,C)=>R+(C.a>C.b?1:0),0),T=A.sets.reduce((R,C)=>R+(C.b>C.a?1:0),0),O=k>T?A.teamA:A.teamB;k>T?A.teamB:A.teamA,[...A.teamA,...A.teamB].forEach(R=>{if(!P.has(R)){const L=t.find(K=>K.id===R);P.set(R,{id:R,name:(L==null?void 0:L.name)||"Unknown",currentStreak:0,bestWinStreak:0,worstLossStreak:0,streakType:"none",isActive:!0})}const C=P.get(R);O.includes(R)?(C.streakType==="win"?C.currentStreak++:(C.currentStreak=1,C.streakType="win"),C.currentStreak>C.bestWinStreak&&(C.bestWinStreak=C.currentStreak)):(C.streakType==="loss"?C.currentStreak++:(C.currentStreak=1,C.streakType="loss"),C.currentStreak>C.worstLossStreak&&(C.worstLossStreak=C.currentStreak))})});const D=Array.from(P.values()).filter(A=>A.bestWinStreak>0).sort((A,k)=>k.bestWinStreak!==A.bestWinStreak?k.bestWinStreak-A.bestWinStreak:A.streakType==="win"&&k.streakType!=="win"?-1:k.streakType==="win"&&A.streakType!=="win"?1:k.currentStreak-A.currentStreak),I=Array.from(P.values()).filter(A=>A.worstLossStreak>0).sort((A,k)=>k.worstLossStreak!==A.worstLossStreak?k.worstLossStreak-A.worstLossStreak:A.streakType==="loss"&&k.streakType!=="loss"?-1:k.streakType==="loss"&&A.streakType!=="loss"?1:k.currentStreak-A.currentStreak);return{positive:D,negative:I}},[t,e]),p=u.slice(0,s),g=p.map(P=>P.id),y=p.map(P=>P.name),b=p.map((P,N)=>({name:P.name,position:N+1})),w=S.useMemo(()=>YU(t,e,g),[t,e,g]),x=()=>["Classifica Marsica Padel League",...p.map((N,D)=>`${D+1}. ${N.name} — ${Math.round(N.rating)} pt`),"#MarsicaPadel #Padel"].join(`
`),_=typeof window<"u"?`${window.location.origin}${window.location.pathname}#classifica`:"";return m.jsx(On,{title:"Dashboard Classifiche",right:m.jsx(gM,{size:"sm",title:"Classifica Marsica Padel League",url:_,captureRef:i,captionBuilder:x,T:r}),T:r,children:m.jsxs("div",{ref:i,className:"space-y-8",children:[m.jsxs("div",{className:`rounded-2xl ${r.cardBg} ${r.border} p-6`,children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("span",{className:"text-2xl",children:"🏆"}),m.jsx("h3",{className:"text-lg font-semibold",children:"Ranking RPA"})]}),m.jsx("button",{onClick:()=>l(!o),className:`px-3 py-1 text-sm rounded-lg border transition-colors ${o?"bg-blue-50 border-blue-200 text-blue-700 dark:bg-blue-900/20 dark:border-blue-800 dark:text-blue-300":"bg-gray-50 border-gray-200 text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:o?"📊 Mostra Top 10":"📋 Mostra Tutti"})]}),m.jsxs("div",{className:"overflow-x-auto mb-6",children:[m.jsxs("table",{className:"min-w-full text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{className:`text-left border-b ${r.border} ${r.tableHeadText}`,children:[m.jsx("th",{className:"py-2 pr-3",children:"#"}),m.jsx("th",{className:"py-2 pr-3",children:"Giocatore"}),m.jsx("th",{className:"py-2 pr-3",children:"Ranking"}),m.jsx("th",{className:"py-2 pr-3",children:"Vittorie"}),m.jsx("th",{className:"py-2 pr-3",children:"Sconfitte"}),m.jsx("th",{className:"py-2 pr-3",children:"% Vittorie"})]})}),m.jsx("tbody",{children:(o?u:u.slice(0,10)).map((P,N)=>m.jsxs("tr",{className:"border-b border-black/5 dark:border-white/5 hover:bg-black/5 dark:hover:bg-white/5",children:[m.jsx("td",{className:"py-2 pr-3",children:N+1}),m.jsx("td",{className:"py-2 pr-3",children:m.jsx("button",{className:r.link,onClick:()=>n(P.id),children:P.name})}),m.jsxs("td",{className:"py-2 pr-3 font-semibold",children:[P.rating.toFixed(2),m.jsx(XU,{total:P.trend5Total,pos:P.trend5Pos,neg:P.trend5Neg})]}),m.jsx("td",{className:"py-2 pr-3",children:P.wins||0}),m.jsx("td",{className:"py-2 pr-3",children:P.losses||0}),m.jsxs("td",{className:"py-2 pr-3",children:[P.winRate.toFixed(0),"%"]})]},P.id))})]}),!o&&u.length>10&&m.jsx("div",{className:"mt-3 text-center",children:m.jsxs("button",{onClick:()=>l(!0),className:"text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 transition-colors",children:["... e altri ",u.length-10," giocatori"]})})]}),m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("div",{className:"font-medium",children:"Andamento del ranking"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"text-xs text-gray-500",children:"Mostra:"}),m.jsxs("select",{value:s,onChange:P=>a(Number(P.target.value)),className:`text-xs px-2 py-1 rounded-md border ${r.input}`,children:[m.jsx("option",{value:3,children:"Top 3"}),m.jsx("option",{value:5,children:"Top 5"}),m.jsx("option",{value:10,children:"Top 10"})]})]})]}),m.jsx(ate,{data:w,seriesKeys:y,chartId:"classifica",title:`Evoluzione del Top ${s}`,selectedCount:s,playerRankings:b})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[m.jsxs("div",{className:`rounded-2xl ${r.cardBg} ${r.border} p-6`,children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx("span",{className:"text-2xl",children:"👥"}),m.jsx("h3",{className:"text-lg font-semibold",children:"Migliori Coppie"})]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{className:`text-left border-b ${r.border} ${r.tableHeadText}`,children:[m.jsx("th",{className:"py-2 pr-3",children:"#"}),m.jsx("th",{className:"py-2 pr-3",children:"Coppia"}),m.jsx("th",{className:"py-2 pr-3",children:"V/S"}),m.jsx("th",{className:"py-2 pr-3",children:"%"})]})}),m.jsx("tbody",{children:c.slice(0,8).map((P,N)=>m.jsxs("tr",{className:"border-b border-black/5 dark:border-white/5 hover:bg-black/5 dark:hover:bg-white/5",children:[m.jsx("td",{className:"py-2 pr-3",children:N+1}),m.jsxs("td",{className:"py-2 pr-3 font-medium text-xs",children:[P.players[0]," & ",P.players[1]]}),m.jsxs("td",{className:"py-2 pr-3 text-xs",children:[m.jsx("span",{className:"text-green-600 dark:text-green-400",children:P.wins}),"/",m.jsx("span",{className:"text-red-600 dark:text-red-400",children:P.losses})]}),m.jsxs("td",{className:"py-2 pr-3 font-semibold",children:[P.winRate.toFixed(0),"%"]})]},P.key))})]})})]}),m.jsxs("div",{className:`rounded-2xl ${r.cardBg} ${r.border} p-6`,children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx("span",{className:"text-2xl",children:"⚡"}),m.jsx("h3",{className:"text-lg font-semibold",children:"Classifica Efficienza"})]}),m.jsx("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:m.jsx("p",{className:"text-xs text-blue-800 dark:text-blue-200",children:"Combinazione di % vittorie (70%) e % game vinti (30%)"})}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{className:`text-left border-b ${r.border} ${r.tableHeadText}`,children:[m.jsx("th",{className:"py-2 pr-3",children:"#"}),m.jsx("th",{className:"py-2 pr-3",children:"Giocatore"}),m.jsx("th",{className:"py-2 pr-3",children:"Eff."}),m.jsx("th",{className:"py-2 pr-3",children:"V/S"})]})}),m.jsx("tbody",{children:d.slice(0,8).map((P,N)=>m.jsxs("tr",{className:"border-b border-black/5 dark:border-white/5 hover:bg-black/5 dark:hover:bg-white/5",children:[m.jsx("td",{className:"py-2 pr-3",children:N+1}),m.jsx("td",{className:"py-2 pr-3",children:m.jsx("button",{className:r.link+" text-xs",onClick:()=>n(P.id),children:P.name})}),m.jsxs("td",{className:"py-2 pr-3 font-bold text-blue-600 dark:text-blue-400",children:[P.efficiency.toFixed(1),"%"]}),m.jsxs("td",{className:"py-2 pr-3 text-xs",children:[m.jsx("span",{className:"text-green-600 dark:text-green-400",children:P.wins}),"/",m.jsx("span",{className:"text-red-600 dark:text-red-400",children:P.losses})]})]},P.id))})]})})]}),m.jsxs("div",{className:`rounded-2xl ${r.cardBg} ${r.border} p-6`,children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx("span",{className:"text-2xl",children:"🔥"}),m.jsx("h3",{className:"text-lg font-semibold",children:"Streak Vittorie"})]}),m.jsx("div",{className:"mb-4 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:m.jsx("p",{className:"text-xs text-green-800 dark:text-green-200",children:"Migliori serie consecutive di vittorie"})}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{className:`text-left border-b ${r.border} ${r.tableHeadText}`,children:[m.jsx("th",{className:"py-2 pr-3",children:"#"}),m.jsx("th",{className:"py-2 pr-3",children:"Giocatore"}),m.jsx("th",{className:"py-2 pr-3",children:"Miglior"}),m.jsx("th",{className:"py-2 pr-3",children:"Stato"})]})}),m.jsx("tbody",{children:h.positive.slice(0,8).map((P,N)=>m.jsxs("tr",{className:"border-b border-black/5 dark:border-white/5 hover:bg-black/5 dark:hover:bg-white/5",children:[m.jsx("td",{className:"py-2 pr-3",children:N+1}),m.jsx("td",{className:"py-2 pr-3",children:m.jsx("button",{className:r.link+" text-xs",onClick:()=>n(P.id),children:P.name})}),m.jsx("td",{className:"py-2 pr-3 font-bold text-green-600 dark:text-green-400",children:P.bestWinStreak}),m.jsx("td",{className:"py-2 pr-3",children:P.streakType==="win"?m.jsxs("span",{className:"text-xs text-green-600 dark:text-green-400 font-semibold",children:["🔥 +",P.currentStreak]}):m.jsx("span",{className:"text-xs text-gray-500",children:"-"})})]},P.id))})]})})]}),m.jsxs("div",{className:`rounded-2xl ${r.cardBg} ${r.border} p-6`,children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx("span",{className:"text-2xl",children:"❄️"}),m.jsx("h3",{className:"text-lg font-semibold",children:"Streak Sconfitte"})]}),m.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:m.jsx("p",{className:"text-xs text-red-800 dark:text-red-200",children:"Peggiori serie consecutive di sconfitte"})}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{className:`text-left border-b ${r.border} ${r.tableHeadText}`,children:[m.jsx("th",{className:"py-2 pr-3",children:"#"}),m.jsx("th",{className:"py-2 pr-3",children:"Giocatore"}),m.jsx("th",{className:"py-2 pr-3",children:"Peggiore"}),m.jsx("th",{className:"py-2 pr-3",children:"Stato"})]})}),m.jsx("tbody",{children:h.negative.slice(0,8).map((P,N)=>m.jsxs("tr",{className:"border-b border-black/5 dark:border-white/5 hover:bg-black/5 dark:hover:bg-white/5",children:[m.jsx("td",{className:"py-2 pr-3",children:N+1}),m.jsx("td",{className:"py-2 pr-3",children:m.jsx("button",{className:r.link+" text-xs",onClick:()=>n(P.id),children:P.name})}),m.jsx("td",{className:"py-2 pr-3 font-bold text-red-600 dark:text-red-400",children:P.worstLossStreak}),m.jsx("td",{className:"py-2 pr-3",children:P.streakType==="loss"?m.jsxs("span",{className:"text-xs text-red-600 dark:text-red-400 font-semibold",children:["❄️ -",P.currentStreak]}):m.jsx("span",{className:"text-xs text-gray-500",children:"-"})})]},P.id))})]})})]})]})]})})}const lte=new Set(["di","de","del","della","dello","dalla","dalle","dei","degli","delle","da","dal","d","lo","la","le","van","von"]),ute=t=>String(t||"").toLowerCase();function ho(t=""){var s;const e=String(t||"").trim().split(/\s+/);if(e.length<=1)return e[0]||"";const n=e[e.length-1],r=e[e.length-2],i=ute(((s=r==null?void 0:r.replace)==null?void 0:s.call(r,/\.$/,""))||"");return i.endsWith("'")||lte.has(i)?`${r} ${n}`:n}const vM=new Intl.Collator("it",{sensitivity:"base",usage:"sort",numeric:!0}),eT=(t="")=>{const e=String(t).trim().split(/\s+/),n=e[0]||"",r=e.slice(1).join(" ");return`${n} ${r}`.trim()},W_=(t,e)=>vM.compare(eT(t.name),eT(e.name));function cte({state:t,setState:e,onOpenStats:n,playersById:r,T:i}){const[s,a]=S.useState(""),[o,l]=S.useState(""),[u,c]=S.useState(String(ge)),d=Array.isArray(t==null?void 0:t.players)?t.players:[],h=S.useMemo(()=>[...d].sort(W_),[d]),p=()=>{const y=s.trim(),b=o.trim();if(!y||!b)return;const w=`${y} ${b}`.trim(),x=Number(u||ge)||ge;e(_=>{const P=Array.isArray(_==null?void 0:_.players)?_.players:[];return{..._||{players:[],matches:[]},players:[...P,{id:qs(),name:w,baseRating:x,rating:x}]}}),a(""),l(""),c(String(ge))},g=y=>{confirm("Rimuovere il giocatore?")&&e(b=>{const w=Array.isArray(b==null?void 0:b.players)?b.players:[];return{...b||{players:[],matches:[]},players:w.filter(x=>x.id!==y)}})};return m.jsxs(On,{title:"Giocatori",T:i,children:[m.jsxs("form",{onSubmit:y=>{y.preventDefault(),p()},className:"flex flex-col sm:flex-row sm:flex-wrap gap-3 mb-4 items-stretch sm:items-end",children:[m.jsxs("div",{className:"flex flex-col flex-1 min-w-[140px]",children:[m.jsx("label",{className:`text-xs ${i.subtext}`,children:"Nome"}),m.jsx("input",{value:s,onChange:y=>a(y.target.value),placeholder:"Nome",className:`${i.input} w-full`})]}),m.jsxs("div",{className:"flex flex-col flex-1 min-w-[160px]",children:[m.jsx("label",{className:`text-xs ${i.subtext}`,children:"Cognome"}),m.jsx("input",{value:o,onChange:y=>l(y.target.value),placeholder:"Cognome",className:`${i.input} w-full`})]}),m.jsxs("div",{className:"flex flex-col w-full sm:w-auto sm:min-w-[160px]",children:[m.jsx("label",{className:`text-xs ${i.subtext}`,children:"Ranking iniziale"}),m.jsx("input",{type:"number",value:u,onChange:y=>c(y.target.value),className:`${i.input} w-full`})]}),m.jsx("button",{type:"submit",className:i.btnPrimary,children:"Aggiungi"})]}),m.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:h.length===0?m.jsx("div",{className:`text-sm ${i.subtext}`,children:"Nessun giocatore presente."}):h.map(y=>{var w;const b=((w=r==null?void 0:r[y.id])==null?void 0:w.rating)??y.rating??ge;return m.jsxs("div",{className:`rounded-xl ${i.cardBg} ${i.border} p-3 flex items-center justify-between`,children:[m.jsxs("div",{className:"min-w-0",children:[m.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(y.id),className:"font-medium hover:opacity-80 transition truncate",children:y.name}),m.jsxs("div",{className:`text-xs ${i.subtext}`,children:["Ranking: ",Number(b).toFixed(2)]})]}),m.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[m.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(y.id),className:i.link,children:"Statistiche"}),m.jsx("button",{type:"button",onClick:()=>g(y.id),className:"text-rose-500 hover:opacity-80 text-sm",children:"Elimina"})]})]},y.id)})})]})}function dte({m:t,playersById:e,onShowFormula:n,onDelete:r,T:i}){const s=y=>{var b;return((b=e==null?void 0:e[y])==null?void 0:b.name)??y},a=`${ho(s(t.teamA[0]))} & ${ho(s(t.teamA[1]))}`,o=`${ho(s(t.teamB[0]))} & ${ho(s(t.teamB[1]))}`,l=t.winner==="A",u=l?"text-emerald-500 font-semibold":"text-rose-500 font-semibold",c=l?"text-rose-500 font-semibold":"text-emerald-500 font-semibold",d=t.date?new Date(t.date).toLocaleString():"",h=Math.round(t.pts??0),p=l?"+":"-",g=h>=0?"text-emerald-500":"text-rose-500";return m.jsxs("div",{className:`rounded-xl ${i.cardBg} ${i.border} p-3 flex items-center justify-between gap-3`,children:[m.jsx("div",{className:"text-sm min-w-0",children:m.jsxs("div",{className:"truncate",children:[m.jsx("span",{className:u,children:a})," ",m.jsx("span",{className:`${i.subtext}`,children:"vs"})," ",m.jsx("span",{className:c,children:o})," ",m.jsx("span",{className:`${i.subtext}`,children:"—"})," ",m.jsxs("span",{className:"text-neutral-600 dark:text-neutral-300",children:["Sets ",t.setsA,"-",t.setsB," | Games ",t.gamesA,"-",t.gamesB]}),d&&m.jsxs("span",{className:"text-xs text-neutral-500 ml-2",children:["• ",d]})]})}),m.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[m.jsxs("button",{type:"button",onClick:()=>{var O,R,C,G;const y=((O=e[t.teamA[0]])==null?void 0:O.rating)??ge,b=((R=e[t.teamA[1]])==null?void 0:R.rating)??ge,w=((C=e[t.teamB[0]])==null?void 0:C.rating)??ge,x=((G=e[t.teamB[1]])==null?void 0:G.rating)??ge,_=y+b,P=w+x,N=Ea(t.sets||[]),D=N.winner==="A"?P-_:_-P,I=Jw(D),A=N.winner==="A"?N.gamesA-N.gamesB:N.gamesB-N.gamesA,k=(_+P)/100,T=Math.round((k+A)*I);n(ei.createElement("div",{className:"text-sm leading-6"},ei.createElement("div",null,`Team A=${Math.round(_)}, Team B=${Math.round(P)},  Gap=${Math.round(D)}`),ei.createElement("div",null,`Base = (${Math.round(_)} + ${Math.round(P)})/100 = ${((_+P)/100).toFixed(2)}`),ei.createElement("div",null,`DG = ${A}`),ei.createElement("div",null,`Punti = (Base + DG) × factor = (${((_+P)/100).toFixed(2)} + ${A}) × ${I.toFixed(2)} = ${((_+P)/100+A)*I}`),ei.createElement("div",null,`Punti (arrotondato) = ${t.pts??T}`)))},className:"text-right group",title:"Mostra formula punti",children:[m.jsx("div",{className:`text-xs ${i.subtext} group-hover:underline`,children:"Δ"}),m.jsxs("div",{className:`text-lg font-semibold ${g}`,children:[p,Math.abs(h)]})]}),m.jsx("button",{type:"button",className:"text-rose-500 hover:opacity-80 text-sm",onClick:r,children:"Elimina"})]})]})}function fte({sumA:t,sumB:e,teamALabel:n,teamBLabel:r}){const i=t!=null&&e!=null,s=i?(t+e)/100:null;return m.jsxs("div",{className:"text-sm space-y-3 leading-6",children:[m.jsx("div",{className:"font-semibold",children:"Come si calcolano i punti (RPA)"}),i?m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{children:["Team A (",m.jsx("b",{children:n}),") = ",m.jsx("b",{children:Math.round(t)})]}),m.jsxs("div",{children:["Team B (",m.jsx("b",{children:r}),") = ",m.jsx("b",{children:Math.round(e)})]}),m.jsxs("div",{children:[m.jsx("b",{children:"Base"})," = (",Math.round(t)," + ",Math.round(e),") / 100 = ",m.jsx("b",{children:s.toFixed(2)})]})]}):m.jsxs("div",{className:"text-neutral-500",children:["Seleziona i 2 giocatori di ",m.jsx("b",{children:"Team A"})," e ",m.jsx("b",{children:"Team B"})," per avere la ",m.jsx("b",{children:"Base"})," già calcolata."]}),m.jsxs("ol",{className:"list-decimal pl-5 space-y-1",children:[m.jsxs("li",{children:["Inserisci i set (best of 3) per determinare vincitore e ",m.jsx("b",{children:"DG"}),"."]}),m.jsxs("li",{children:["Calcola ",m.jsx("b",{children:"Gap"})," e quindi il ",m.jsx("b",{children:"Fattore"}),"."]}),m.jsxs("li",{children:["Punti finali = (",m.jsx("b",{children:"Base"})," + ",m.jsx("b",{children:"DG"}),") × ",m.jsx("b",{children:"Fattore"}),", arrotondati."]})]})]})}function hte(t){return(t||[]).filter(e=>String((e==null?void 0:e.a)??"")!==""||String((e==null?void 0:e.b)??"")!=="").map(e=>`${Number(e.a||0)}-${Number(e.b||0)}`).join(", ")}function mte(t){let e=0,n=0,r=0,i=0;for(const a of t||[]){const o=Number((a==null?void 0:a.a)||0),l=Number((a==null?void 0:a.b)||0);String(o)===""&&String(l)===""||(r+=o,i+=l,o>l?e++:l>o&&n++)}let s=null;return e>n?s="A":n>e&&(s="B"),{setsA:e,setsB:n,gamesA:r,gamesB:i,winner:s}}function pte({sumA:t,sumB:e,gap:n,factor:r,GD:i,P:s,winner:a,sets:o,teamALabel:l,teamBLabel:u}){const c=mte(o||[]),d=(t+e)/100,p=(d+i)*r,g=a==="A"?"Team A":"Team B",y=a==="A"?"Team B":"Team A";return m.jsxs("div",{className:"text-sm space-y-3 leading-6",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("div",{className:"font-semibold",children:"Squadre & ranking coppia"}),m.jsxs("div",{children:["Team A (",m.jsx("b",{children:l}),") = ",m.jsx("b",{children:Math.round(t)})]}),m.jsxs("div",{children:["Team B (",m.jsx("b",{children:u}),") = ",m.jsx("b",{children:Math.round(e)})]})]}),m.jsxs("div",{children:["Gap (S",m.jsx("sub",{children:"opp"})," − S",m.jsx("sub",{children:"you"}),") = ",m.jsx("b",{children:Math.round(n)})," • Fascia: ",Zw(n)]}),m.jsxs("ol",{className:"list-decimal pl-5 space-y-1",children:[m.jsxs("li",{children:[m.jsx("b",{children:"Base"})," = (Somma ranking coppie) / 100 = (",Math.round(t)," + ",Math.round(e),") / 100 = ",m.jsx("b",{children:d.toFixed(2)})]}),m.jsxs("li",{children:[m.jsx("b",{children:"DG"})," (Differenza Game) dal punto di vista della squadra vincente = ",m.jsx("b",{children:i})]}),m.jsxs("li",{children:[m.jsx("b",{children:"Fattore"})," dalla tabella fasce in base al Gap = ",m.jsx("b",{children:r.toFixed(2)})]}),m.jsxs("li",{children:[m.jsx("b",{children:"Punti"})," = (Base + DG) × Fattore = (",m.jsx("b",{children:d.toFixed(2)})," + ",m.jsx("b",{children:i}),") × ",m.jsx("b",{children:r.toFixed(2)})," = ",m.jsx("b",{children:p.toFixed(2)})]}),m.jsxs("li",{children:[m.jsx("b",{children:"Arrotondamento"})," ⇒ ",m.jsx("b",{children:Math.round(s)})]})]}),m.jsxs("div",{children:["Assegnazione: ",m.jsxs("span",{className:"text-emerald-500 font-semibold",children:[g," +",Math.round(s)]})," ","/"," ",m.jsxs("span",{className:"text-rose-500 font-semibold",children:[y," -",Math.round(s)]})]}),m.jsxs("div",{className:"text-neutral-500",children:["Risultato set: ",c.setsA,"-",c.setsB," (",hte(o),")"]})]})}const tT=t=>{const e=l=>String(l).padStart(2,"0"),n=new Date(t),r=n.getFullYear(),i=e(n.getMonth()+1),s=e(n.getDate()),a=e(n.getHours()),o=e(n.getMinutes());return`${r}-${i}-${s}T${a}:${o}`};function Dd({players:t,value:e,onChange:n,disabledIds:r,T:i}){return m.jsxs("select",{value:e,onChange:s=>n(s.target.value),className:`${i.input} pr-8 w-full`,children:[m.jsx("option",{value:"",children:"—"}),t.map(s=>m.jsx("option",{value:s.id,disabled:r==null?void 0:r.has(s.id),children:s.name},s.id))]})}function gte({state:t,setState:e,playersById:n,onShowFormula:r,derivedMatches:i,T:s}){var J,z,Z,te;const a=t.players,o=S.useMemo(()=>[...a].sort(W_),[a]),[l,u]=S.useState(""),[c,d]=S.useState(""),[h,p]=S.useState(""),[g,y]=S.useState(""),[b,w]=S.useState([{a:"",b:""},{a:"",b:""},{a:"",b:""}]),[x,_]=S.useState(tT(new Date)),P=Ea(b),N=l&&c&&h&&g&&P.winner,D=l?((J=n[l])==null?void 0:J.rating)??ge:null,I=c?((z=n[c])==null?void 0:z.rating)??ge:null,A=h?((Z=n[h])==null?void 0:Z.rating)??ge:null,k=g?((te=n[g])==null?void 0:te.rating)??ge:null,T=D!=null&&I!=null?D+I:null,O=A!=null&&k!=null?A+k:null,R=T!=null?`${Math.round(T)} (${Math.round(D)} + ${Math.round(I)})`:"—",C=O!=null?`${Math.round(O)} (${Math.round(A)} + ${Math.round(k)})`:"—",G=()=>{var Ye,bn,Bn,St,dn,Va,Yr,Qr;const F=((Ye=n[l])==null?void 0:Ye.name)||"—",V=((bn=n[c])==null?void 0:bn.name)||"—",ne=((Bn=n[h])==null?void 0:Bn.name)||"—",xe=((St=n[g])==null?void 0:St.name)||"—",ye=l?((dn=n[l])==null?void 0:dn.rating)??ge:null,Re=c?((Va=n[c])==null?void 0:Va.rating)??ge:null,ve=h?((Yr=n[h])==null?void 0:Yr.rating)??ge:null,tt=g?((Qr=n[g])==null?void 0:Qr.rating)??ge:null,Y=ye!=null&&Re!=null?ye+Re:null,M=ve!=null&&tt!=null?ve+tt:null,H=Ea(b||[]);if(!H.winner||Y==null||M==null){r(m.jsx(fte,{sumA:Y,sumB:M,teamALabel:`${F} + ${V}`,teamBLabel:`${ne} + ${xe}`}));return}const B=H.winner==="A"?M-Y:Y-M,re=Jw(B),de=H.winner==="A"?H.gamesA-H.gamesB:H.gamesB-H.gamesA,Se=(Y+M)/100,De=Math.round((Se+de)*re);r(m.jsx(pte,{sumA:Y,sumB:M,gap:B,factor:re,GD:de,P:De,winner:H.winner,sets:b,teamALabel:`${F} + ${V}`,teamBLabel:`${ne} + ${xe}`}))},L=()=>{if(!N)return alert("Seleziona 4 giocatori e inserisci i set (best of 3). Il risultato non può finire 1-1.");const F=(b||[]).map(ne=>({a:+((ne==null?void 0:ne.a)||0),b:+((ne==null?void 0:ne.b)||0)})),V=new Date(x||Date.now()).toISOString();e(ne=>({...ne,matches:[...ne.matches,{id:qs(),date:V,teamA:[l,c],teamB:[h,g],sets:F}]})),u(""),d(""),p(""),y(""),w([{a:"",b:""},{a:"",b:""},{a:"",b:""}]),_(tT(new Date))},K=F=>{confirm("Cancellare la partita?")&&e(V=>({...V,matches:V.matches.filter(ne=>ne.id!==F)}))};return m.jsxs(m.Fragment,{children:[m.jsxs(On,{title:"Crea Partita",T:s,children:[m.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"font-medium flex items-center gap-2",children:["Team A ",m.jsxs("span",{className:`text-xs ${s.subtext}`,children:["Ranking coppia: ",m.jsx("b",{children:R})]})]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[m.jsx(Dd,{T:s,players:o,value:l,onChange:u,disabledIds:new Set([c,h,g].filter(Boolean))}),m.jsx(Dd,{T:s,players:o,value:c,onChange:d,disabledIds:new Set([l,h,g].filter(Boolean))})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"font-medium flex items-center gap-2",children:["Team B ",m.jsxs("span",{className:`text-xs ${s.subtext}`,children:["Ranking coppia: ",m.jsx("b",{children:C})]})]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[m.jsx(Dd,{T:s,players:o,value:h,onChange:p,disabledIds:new Set([l,c,g].filter(Boolean))}),m.jsx(Dd,{T:s,players:o,value:g,onChange:y,disabledIds:new Set([l,c,h].filter(Boolean))})]})]})]}),m.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-[1fr,1fr]",children:[m.jsxs("div",{children:[m.jsx("div",{className:"font-medium mb-1",children:"Data e ora"}),m.jsx("input",{type:"datetime-local",value:x,onChange:F=>_(F.target.value),className:s.input})]}),m.jsxs("div",{children:[m.jsx("div",{className:"font-medium mb-2",children:"Risultato (best of 3)"}),m.jsx("div",{className:`w-full overflow-x-auto rounded-xl ${s.border}`,children:m.jsxs("table",{className:"min-w-[420px] w-full text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-black/5 dark:bg-white/10",children:[m.jsx("th",{className:"py-2 px-2 text-left",children:"Set"}),m.jsx("th",{className:"py-2 px-2 text-center",children:"Team A"}),m.jsx("th",{className:"py-2 px-2 text-center",children:"Team B"})]})}),m.jsx("tbody",{className:"divide-y divide-black/5 dark:divide-white/5",children:[0,1,2].map(F=>m.jsxs("tr",{children:[m.jsx("td",{className:"py-2 px-2",children:F+1}),m.jsx("td",{className:"py-2 px-2",children:m.jsx("input",{type:"number",min:"0",className:`${s.input} w-24 text-center`,value:b[F].a,onChange:V=>w(ne=>ne.map((xe,ye)=>ye===F?{...xe,a:V.target.value}:xe))})}),m.jsx("td",{className:"py-2 px-2",children:m.jsx("input",{type:"number",min:"0",className:`${s.input} w-24 text-center`,value:b[F].b,onChange:V=>w(ne=>ne.map((xe,ye)=>ye===F?{...xe,b:V.target.value}:xe))})})]},F))})]})}),m.jsx("div",{className:`mt-2 text-xs ${s.subtext}`,children:"Se dopo 2 set è 1–1, inserisci il 3° set per decidere."})]})]}),m.jsxs("div",{className:`mt-2 text-sm ${s.subtext.replace("600","300")}`,children:["Sets A-B: ",P.setsA,"-",P.setsB," | Games A-B: ",P.gamesA,"-",P.gamesB," ",P.winner&&m.jsxs("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs ${s.chip}`,children:["Vince ",P.winner]})]}),m.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-2",children:[m.jsx("button",{type:"button",onClick:L,className:s.btnPrimary,children:"Salva partita"}),m.jsx("button",{type:"button",onClick:G,className:s.btnGhost,children:"Mostra formula punti"})]})]}),m.jsx(On,{title:"Ultime partite",T:s,children:m.jsx("div",{className:"space-y-2",children:(i||[]).slice(-20).reverse().map(F=>m.jsx(dte,{m:F,playersById:n,onShowFormula:r,onDelete:()=>K(F.id),T:s},F.id))})})]})}const nT={primary:"#3b82f6",success:"#10b981",warning:"#f59e0b",danger:"#ef4444",purple:"#8b5cf6",indigo:"#6366f1"};function vte({data:t,dataKey:e="rating",chartId:n="modern-area",color:r="success",title:i="Trend ultime 10 partite",showGrid:s=!0}){const a=nT[r]||nT.success,o=t.slice(-10),l=S.useMemo(()=>{if(o.length===0)return["auto","auto"];let p=1/0,g=-1/0;if(o.forEach(w=>{const x=w[e];typeof x=="number"&&(p=Math.min(p,x),g=Math.max(g,x))}),p===1/0)return["auto","auto"];const b=(g-p)*.08;return[Math.max(0,Math.floor(p-b)),Math.ceil(g+b)]},[o,e]),u=({active:p,payload:g,label:y})=>p&&g&&g.length?m.jsxs("div",{className:"bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm border border-gray-200 dark:border-gray-700 rounded-xl shadow-xl p-4",children:[m.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-2",children:y}),m.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:m.jsxs("span",{className:"font-semibold",style:{color:a},children:[e,": ",g[0].value]})})]}):null,c=o.length>1?o[o.length-1][e]-o[0][e]:0,d=c>0?"#10b981":c<0?"#ef4444":"#6b7280",h=c>0?"↗":c<0?"↘":"→";return m.jsxs("div",{className:"h-64 sm:h-80",children:[m.jsx(gD,{width:"100%",height:"100%",children:m.jsxs(ste,{data:o,margin:{left:10,right:10,top:20,bottom:20},children:[m.jsxs("defs",{children:[m.jsxs("linearGradient",{id:`modernGradient-${n}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[m.jsx("stop",{offset:"0%",stopColor:a,stopOpacity:.4}),m.jsx("stop",{offset:"50%",stopColor:a,stopOpacity:.2}),m.jsx("stop",{offset:"100%",stopColor:a,stopOpacity:.05})]}),m.jsxs("filter",{id:`glow-${n}`,children:[m.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),m.jsxs("feMerge",{children:[m.jsx("feMergeNode",{in:"coloredBlur"}),m.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),s&&m.jsx(V_,{strokeDasharray:"2 4",strokeOpacity:.15,horizontal:!0,vertical:!1}),m.jsx(yp,{dataKey:"label",tick:{fontSize:11,fill:"#6b7280"},axisLine:!1,tickLine:!1,interval:"preserveStartEnd"}),m.jsx(wp,{tick:{fontSize:11,fill:"#6b7280"},axisLine:!1,tickLine:!1,width:50,domain:l,scale:"linear"}),m.jsx(fD,{content:m.jsx(u,{})}),m.jsx(eM,{type:"monotone",dataKey:e,stroke:a,strokeWidth:3,fill:`url(#modernGradient-${n})`,dot:{r:3,fill:a,stroke:"white",strokeWidth:2,filter:`url(#glow-${n})`},activeDot:{r:6,fill:a,stroke:"white",strokeWidth:3,className:"drop-shadow-lg animate-pulse"},className:"drop-shadow-sm"})]})}),m.jsxs("div",{className:"flex justify-between items-center mt-3 px-2",children:[m.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:i}),m.jsxs("div",{className:"flex items-center gap-2",children:[o.length>1&&m.jsx("div",{className:"flex items-center gap-1",children:m.jsxs("span",{className:"text-sm font-bold",style:{color:d},children:[h," ",Math.abs(c).toFixed(0)]})}),m.jsxs("span",{className:"text-xs text-gray-500",children:[o.length," partite"]})]})]})]})}function yte(t){let e=0,n=0,r=0,i=0;for(const a of t||[]){const o=Number((a==null?void 0:a.a)||0),l=Number((a==null?void 0:a.b)||0);String(o)===""&&String(l)===""||(r+=o,i+=l,o>l?e++:l>o&&n++)}let s=null;return e>n?s="A":n>e&&(s="B"),{setsA:e,setsB:n,gamesA:r,gamesB:i,winner:s}}function wte(t){return(t||[]).filter(e=>String((e==null?void 0:e.a)??"")!==""||String((e==null?void 0:e.b)??"")!=="").map(e=>`${Number(e.a||0)}-${Number(e.b||0)}`).join(", ")}function xte({sumA:t,sumB:e,gap:n,base:r,factor:i,gd:s,pts:a,winner:o,sets:l}){const u=yte(l||[]),d=(r+s)*i,h=wte(l||[]);return m.jsxs("div",{className:"leading-6 text-sm",children:[m.jsxs("div",{children:["Team A=",Or(t),", Team B=",Or(e),",  Gap=",Or(n)]}),m.jsxs("div",{children:["Fascia: ",Zw(n)]}),m.jsxs("div",{className:"mt-2",children:["Base = (",Or(t)," + ",Or(e),")/100 = ",Ao(r)]}),m.jsxs("div",{children:["DG (Differenza Game) = ",s]}),m.jsxs("div",{className:"mt-2",children:["Punti = (Base + DG) × factor = (",Ao(r)," + ",s,") × ",i.toFixed(2)," = ",Ao(d)]}),m.jsxs("div",{children:["Punti (arrotondato) = ",a]}),m.jsxs("div",{className:"mt-2 text-neutral-500",children:["Risultato set: ",u.setsA,"-",u.setsB," (",h,")"]})]})}function _te({players:t,matches:e,selectedPlayerId:n,onSelectPlayer:r,onShowFormula:i,T:s}){var k;const a=S.useRef(null),[o,l]=S.useState(n||((k=t[0])==null?void 0:k.id)||""),[u,c]=S.useState(""),[d,h]=S.useState("all");S.useEffect(()=>{n&&l(n)},[n]);const p=T=>{var O;return((O=t.find(R=>R.id===T))==null?void 0:O.name)||T},g=t.find(T=>T.id===o)||null;t.find(T=>T.id===u);const y=S.useMemo(()=>{if(d==="all")return e;const T=new Date,O=new Date;switch(d){case"1w":O.setDate(T.getDate()-7);break;case"2w":O.setDate(T.getDate()-14);break;case"30d":O.setDate(T.getDate()-30);break;case"3m":O.setMonth(T.getMonth()-3);break;case"6m":O.setMonth(T.getMonth()-6);break;default:return e}return(e||[]).filter(R=>new Date(R.date)>=O)},[e,d]),b=S.useMemo(()=>[...t].sort((T,O)=>O.rating-T.rating),[t]),w=g?b.findIndex(T=>T.id===g.id)+1:null,x=((g==null?void 0:g.wins)||0)+((g==null?void 0:g.losses)||0);x&&Math.round(g.wins/x*100);const _=S.useMemo(()=>{if(!o)return null;const T=(y||[]).filter(Y=>(Y.teamA||[]).includes(o)||(Y.teamB||[]).includes(o));if(T.length===0)return null;let O=0,R=0,C=0,G=0,L=0,K=0,J=0,z=0,Z=0,te=0,F=0;const V=[...T].sort((Y,M)=>new Date(Y.date)-new Date(M.date));V.forEach(Y=>{const M=(Y.teamA||[]).includes(o),H=M&&Y.winner==="A"||!M&&Y.winner==="B",B=M?Y.deltaA||0:Y.deltaB||0;J+=B,H?(L++,C++,G=0,O=Math.max(O,C),(M&&Y.setsA===2&&Y.setsB===0||!M&&Y.setsB===2&&Y.setsA===0)&&F++):(K++,G++,C=0,R=Math.max(R,G)),(Y.setsA===2&&Y.setsB===1||Y.setsA===1&&Y.setsB===2)&&te++,M?(z+=Y.gamesA||0,Z+=Y.gamesB||0):(z+=Y.gamesB||0,Z+=Y.gamesA||0)});let ne=0,xe=null;for(let Y=V.length-1;Y>=0;Y--){const M=V[Y],H=(M.teamA||[]).includes(o),B=H&&M.winner==="A"||!H&&M.winner==="B";if(xe===null)xe=B,ne=1;else if(xe===B)ne++;else break}const ye=J/T.length,Re=z+Z>0?z/(z+Z)*100:0,ve=L>0?F/L*100:0,tt=te>0?(L-F)/te*100:0;return{wins:L,losses:K,winRate:L+K>0?L/(L+K)*100:0,currentStreak:xe===null?0:xe?ne:-ne,maxWinStreak:O,maxLoseStreak:R,avgDelta:Math.round(ye*10)/10,gameEfficiency:Math.round(Re*10)/10,dominanceRate:Math.round(ve*10)/10,clutchRate:Math.round(tt*10)/10,totalMatches:T.length,closeMatches:te,dominantWins:F}},[o,y]),P=({label:T,value:O,sub:R,trend:C,color:G="default"})=>{const L={default:"",success:"text-green-600 dark:text-green-400",danger:"text-red-600 dark:text-red-400",warning:"text-yellow-600 dark:text-yellow-400",primary:"text-blue-600 dark:text-blue-400"};return m.jsxs("div",{className:`rounded-2xl ${s.cardBg} ${s.border} p-4 text-center`,children:[m.jsx("div",{className:`text-xs uppercase tracking-wide ${s.subtext}`,children:T}),m.jsxs("div",{className:`text-3xl font-bold leading-tight ${L[G]}`,children:[O,C&&m.jsx("span",{className:`text-xs ml-1 ${C>0?"text-green-500":C<0?"text-red-500":"text-gray-500"}`,children:C>0?"↗":C<0?"↘":"→"})]}),R?m.jsx("div",{className:`text-xs ${s.subtext} mt-1`,children:R}):null]})},N=S.useMemo(()=>[...t].sort(W_),[t]),D=S.useMemo(()=>{if(!o)return[];const T=new Map(t.map(C=>[C.id,Number(C.baseRating??C.startRating??C.rating??ge)])),O=[];O.push({date:null,label:"Start",rating:Math.round(T.get(o)??ge)});const R=[...y||[]].sort((C,G)=>new Date(C.date)-new Date(G.date));for(const C of R){Ea(C.sets);const G=(J,z)=>T.set(J,(T.get(J)??ge)+z),L=C.deltaA??0,K=C.deltaB??0;G(C.teamA[0],L),G(C.teamA[1],L),G(C.teamB[0],K),G(C.teamB[1],K),(C.teamA.includes(o)||C.teamB.includes(o))&&O.push({date:new Date(C.date),label:new Date(C.date).toLocaleString("it-IT",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}),rating:Math.round(T.get(o)??ge)})}return O},[o,t,y]);S.useMemo(()=>{if(!o)return{mates:[],opps:[]};const T=(y||[]).filter(L=>(L.teamA||[]).includes(o)||(L.teamB||[]).includes(o)),O=new Map,R=new Map,C=(L,K,J)=>{if(!K)return;const z=L.get(K)||{wins:0,losses:0};J?z.wins++:z.losses++,L.set(K,z)};for(const L of T){const K=(L.teamA||[]).includes(o),J=K&&L.winner==="A"||!K&&L.winner==="B",z=K?(L.teamA||[]).find(te=>te!==o):(L.teamB||[]).find(te=>te!==o),Z=K?L.teamB||[]:L.teamA||[];z&&C(O,z,J);for(const te of Z)C(R,te,J)}const G=L=>[...L.entries()].map(([K,J])=>{const z=J.wins+J.losses,Z=z?Math.round(J.wins/z*100):0;return{id:K,name:p(K),wins:J.wins,losses:J.losses,total:z,winPct:Z}}).sort((K,J)=>J.total-K.total||J.winPct-K.winPct||vM.compare(K.name,J.name));return{mates:G(O),opps:G(R)}},[o,y,t]);const I=()=>[`Statistiche — ${g?g.name:""}`,`Rating: ${g?Math.round(g.rating):"-"}`,`Record: ${(_==null?void 0:_.wins)||0}–${(_==null?void 0:_.losses)||0} (${Math.round((_==null?void 0:_.winRate)||0)}%)`,`Game Eff.: ${_?_.gameEfficiency:0}% • Δ medio: ${_?_.avgDelta:0}`,"#MarsicaPadel #Padel"].join(`
`),A=typeof window<"u"?`${window.location.origin}${window.location.pathname}#stats-${o||""}`:"";return m.jsx(On,{title:"Statistiche giocatore",right:m.jsx(gM,{size:"sm",title:`Statistiche — ${g?g.name:""}`,url:A,captureRef:a,captionBuilder:I,T:s}),T:s,children:m.jsxs("div",{ref:a,children:[m.jsxs("div",{className:"grid md:grid-cols-5 gap-3 mb-6 items-end",children:[m.jsxs("div",{className:"md:col-span-1",children:[m.jsx("div",{className:`text-xs font-medium ${s.subtext} mb-1`,children:"Giocatore"}),m.jsx("select",{value:o,onChange:T=>{l(T.target.value),r==null||r(T.target.value)},className:`${s.input} w-full`,children:N.map(T=>m.jsx("option",{value:T.id,children:T.name},T.id))})]}),m.jsxs("div",{className:"md:col-span-1",children:[m.jsx("div",{className:`text-xs font-medium ${s.subtext} mb-1`,children:"Periodo"}),m.jsxs("select",{value:d,onChange:T=>h(T.target.value),className:`${s.input} w-full`,children:[m.jsx("option",{value:"1w",children:"1 settimana"}),m.jsx("option",{value:"2w",children:"2 settimane"}),m.jsx("option",{value:"30d",children:"30 giorni"}),m.jsx("option",{value:"3m",children:"3 mesi"}),m.jsx("option",{value:"6m",children:"6 mesi"}),m.jsx("option",{value:"all",children:"Tutto"})]})]}),m.jsx(P,{label:"Posizione",value:w??"-"}),m.jsx(P,{label:"Rating",value:g?Math.round(g.rating):"-",color:"primary"}),m.jsx(P,{label:"Win Rate",value:`${_?Math.round(_.winRate):0}%`,sub:`${(_==null?void 0:_.wins)||0}–${(_==null?void 0:_.losses)||0}`})]}),_&&m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6",children:[m.jsx(P,{label:"Efficienza game",value:`${_.gameEfficiency}%`,sub:"% game vinti",color:"primary"}),m.jsx(P,{label:"Δ medio",value:_.avgDelta>0?`+${_.avgDelta}`:`${_.avgDelta}`,sub:"punti per partita",color:_.avgDelta>=0?"success":"danger"}),m.jsx(P,{label:"Streak migliori",value:`${_.maxWinStreak}`,sub:"vittorie consecutive",color:"success"}),m.jsx(P,{label:"Streak attive",value:_.currentStreak>0?`+${_.currentStreak}`:`${_.currentStreak}`,sub:_.currentStreak===0?"equilibrio":_.currentStreak>0?"vittorie":"sconfitte",color:_.currentStreak>0?"success":_.currentStreak<0?"danger":"default"})]}),m.jsxs("div",{className:`rounded-2xl ${s.cardBg} ${s.border} p-4 mb-6`,children:[m.jsxs("div",{className:"font-medium mb-3 flex items-center justify-between",children:[m.jsx("span",{children:"Andamento rating"}),m.jsx("span",{className:"text-xs text-gray-500",children:d==="all"?"Tutte le partite":"Periodo attivo"})]}),m.jsx(vte,{data:D,dataKey:"rating",chartId:`player-${o}`,color:"success",title:"Evoluzione del rating"})]}),m.jsxs("div",{className:`rounded-2xl ${s.cardBg} ${s.border} p-4 mb-6`,children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsx("div",{className:"font-medium",children:"Confronto diretto"}),m.jsxs("select",{value:u,onChange:T=>c(T.target.value),className:`${s.input} max-w-sm`,children:[m.jsx("option",{value:"",children:"Seleziona un giocatore…"}),N.filter(T=>T.id!==o).map(T=>m.jsx("option",{value:T.id,children:T.name},T.id))]})]}),u?(()=>{const T=t.find(ve=>ve.id===u),O=(y||[]).filter(ve=>(ve.teamA||[]).includes(T.id)||(ve.teamB||[]).includes(T.id));let R=0,C=0,G=0,L=0,K=0,J=0,z=0,Z=0,te=0;const F=[...O].sort((ve,tt)=>new Date(ve.date)-new Date(tt.date));F.forEach(ve=>{const tt=(ve.teamA||[]).includes(T.id),Y=tt&&ve.winner==="A"||!tt&&ve.winner==="B",M=tt?ve.deltaA||0:ve.deltaB||0;Y?(R++,Z++,te=0,J=Math.max(J,Z)):(C++,te++,Z=0,z=Math.max(z,te)),tt?(L+=ve.gamesA||0,K+=ve.gamesB||0):(L+=ve.gamesB||0,K+=ve.gamesA||0),G+=M});let V=0,ne=null;for(let ve=F.length-1;ve>=0;ve--){const tt=F[ve],Y=(tt.teamA||[]).includes(T.id),M=Y&&tt.winner==="A"||!Y&&tt.winner==="B";if(ne===null)ne=M,V=1;else if(ne===M)V++;else break}V=ne===null?0:ne?V:-V;const xe=R+C>0?Math.round(R/(R+C)*100):0,ye=L+K>0?Math.round(L/(L+K)*1e3)/10:0,Re=R+C>0?Math.round(G/(R+C)*10)/10:0;return m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{className:`border-b ${s.border} ${s.tableHeadText}`,children:[m.jsx("th",{className:"text-left py-2",children:"Metrica"}),m.jsx("th",{className:"text-center py-2",children:(g==null?void 0:g.name)||"-"}),m.jsx("th",{className:"text-center py-2",children:(T==null?void 0:T.name)||"-"}),m.jsx("th",{className:"text-center py-2",children:"Diff"})]})}),m.jsxs("tbody",{children:[m.jsxs("tr",{className:"border-b border-black/5 dark:border-white/5",children:[m.jsx("td",{className:"py-2 font-medium",children:"Rating"}),m.jsx("td",{className:"text-center py-2",children:g?Math.round(g.rating):"-"}),m.jsx("td",{className:"text-center py-2",children:T?Math.round(T.rating):"-"}),m.jsx("td",{className:"text-center py-2",children:g&&T?Math.round(g.rating-T.rating):"-"})]}),m.jsxs("tr",{className:"border-b border-black/5 dark:border-white/5",children:[m.jsx("td",{className:"py-2 font-medium",children:"Win Rate"}),m.jsxs("td",{className:"text-center py-2",children:[_?Math.round(_.winRate):0,"%"]}),m.jsxs("td",{className:"text-center py-2",children:[xe,"%"]}),m.jsxs("td",{className:"text-center py-2",children:[_?Math.round(_.winRate-xe):0,"%"]})]}),m.jsxs("tr",{className:"border-b border-black/5 dark:border-white/5",children:[m.jsx("td",{className:"py-2 font-medium",children:"Partite giocate"}),m.jsx("td",{className:"text-center py-2",children:_?_.totalMatches:0}),m.jsx("td",{className:"text-center py-2",children:R+C}),m.jsx("td",{className:"text-center py-2",children:_?_.totalMatches-(R+C):0})]}),m.jsxs("tr",{className:"border-b border-black/5 dark:border-white/5",children:[m.jsx("td",{className:"py-2 font-medium",children:"Efficienza game"}),m.jsxs("td",{className:"text-center py-2",children:[_?_.gameEfficiency:0,"%"]}),m.jsxs("td",{className:"text-center py-2",children:[ye,"%"]}),m.jsxs("td",{className:"text-center py-2",children:[_?Math.round((_.gameEfficiency-ye)*10)/10:0,"%"]})]}),m.jsxs("tr",{className:"border-b border-black/5 dark:border-white/5",children:[m.jsx("td",{className:"py-2 font-medium",children:"Δ medio"}),m.jsx("td",{className:"text-center py-2",children:_?_.avgDelta:0}),m.jsx("td",{className:"text-center py-2",children:Re}),m.jsx("td",{className:"text-center py-2",children:_?Math.round((_.avgDelta-Re)*10)/10:0})]}),m.jsxs("tr",{className:"border-b border-black/5 dark:border-white/5",children:[m.jsx("td",{className:"py-2 font-medium",children:"Streak migliori"}),m.jsx("td",{className:"text-center py-2",children:_?_.maxWinStreak:0}),m.jsx("td",{className:"text-center py-2",children:J}),m.jsx("td",{className:"text-center py-2",children:_?_.maxWinStreak-J:0})]}),m.jsxs("tr",{className:"border-b border-black/5 dark:border-white/5",children:[m.jsx("td",{className:"py-2 font-medium",children:"Streak peggiori"}),m.jsx("td",{className:"text-center py-2",children:_?_.maxLoseStreak:0}),m.jsx("td",{className:"text-center py-2",children:z}),m.jsx("td",{className:"text-center py-2",children:_?_.maxLoseStreak-z:0})]}),m.jsxs("tr",{children:[m.jsx("td",{className:"py-2 font-medium",children:"Streak attive"}),m.jsx("td",{className:"text-center py-2",children:_?_.currentStreak:0}),m.jsx("td",{className:"text-center py-2",children:V}),m.jsx("td",{className:"text-center py-2",children:_?_.currentStreak-V:0})]})]})]})})})():m.jsx("div",{className:`text-sm ${s.subtext}`,children:"Seleziona un giocatore per confrontare le statistiche"})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"font-medium",children:["Storico partite ",d!=="all"?"(periodo filtrato)":""]}),m.jsx("div",{className:"space-y-2",children:(y||[]).filter(T=>(T.teamA||[]).includes(o)||(T.teamB||[]).includes(o)).slice().sort((T,O)=>new Date(O.date)-new Date(T.date)).map(T=>{const O=(T.teamA||[]).includes(o),R=O?T.deltaA:T.deltaB,C=O&&T.winner==="A"||!O&&T.winner==="B",G=(O?T.teamA:T.teamB).map(z=>ho(p(z))).join(" & "),L=(O?T.teamB:T.teamA).map(z=>ho(p(z))).join(" & "),K=C?"text-emerald-500 font-semibold":"text-rose-500 font-semibold",J=C?"text-rose-500 font-semibold":"text-emerald-500 font-semibold";return m.jsxs("div",{className:`rounded-xl ${s.cardBg} ${s.border} p-3 flex items-center justify-between text-sm`,children:[m.jsxs("div",{className:"min-w-0",children:[m.jsx("span",{className:`${K}`,children:G})," ",m.jsx("span",{className:`${s.subtext}`,children:"vs"})," ",m.jsx("span",{className:`${J}`,children:L})," ",m.jsx("span",{className:"text-neutral-500",children:"—"})," ",m.jsxs("span",{className:"text-neutral-600 dark:text-neutral-300",children:["Sets ",T.setsA,"-",T.setsB," | Games ",T.gamesA,"-",T.gamesB]}),T.date&&m.jsxs("span",{className:"text-xs text-neutral-500 ml-2",children:["• ",new Date(T.date).toLocaleString()]})]}),m.jsxs("button",{type:"button",className:s.link,onClick:()=>i==null?void 0:i(m.jsx(xte,{sumA:T.sumA,sumB:T.sumB,gap:T.gap,base:T.base,factor:T.factor,gd:T.gd,pts:T.pts,winner:T.winner,sets:T.sets})),title:"Mostra formula punti",children:["Δ ",R>=0?"+":"",Math.round(R)]})]},T.id)})})]})]})})}const Md=t=>new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(t),yM=t=>new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR",minimumFractionDigits:2,maximumFractionDigits:2}).format(t);function bte(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}function Hl(t,e=30){const n=new Date(t);n.setSeconds(0,0);const r=n.getMinutes(),i=Math.floor(r/e)*e;return n.setMinutes(i),n}function Bs(t,e){const n=new Date(t);return n.setMinutes(n.getMinutes()+e),n}function rT(t,e,n,r){return t<r&&n<e}const iT=(t="00:00")=>{const[e,n]=String(t).split(":").map(r=>+r||0);return e*60+n},Ete=t=>t.getDay(),Ste=t=>t.getHours()*60+t.getMinutes();function sT(t,e,n){if(!e)return!1;const r=Ste(t),i=r>=iT(e.from)&&r<iT(e.to),s=Array.isArray(e.days)?e.days.includes(Ete(t)):!0,a=Array.isArray(e.courts)&&e.courts.length?e.courts.includes(n):!0;return i&&s&&a}function u0(t,e,n){const r=(e==null?void 0:e.pricing)||{},i=(r.discounted||[]).find(a=>sT(t,a,n));if(i)return{rate:Number(i.eurPerHour)||0,source:"discounted",rule:i};const s=(r.full||[]).find(a=>sT(t,a,n));return s?{rate:Number(s.eurPerHour)||0,source:"full",rule:s}:{rate:0,source:"none",rule:null}}function aT(t,e,n,r={},i){const s=Math.max(5,Number(n==null?void 0:n.slotMinutes)||30),a=Math.ceil(e/s);let o=new Date(t),l=0;for(let c=0;c<a;c++){const{rate:d}=u0(o,n,i);l+=d*s/60,o=new Date(o.getTime()+s*60*1e3)}const u=(n==null?void 0:n.addons)||{};return r.lighting&&u.lightingEnabled&&(l+=Number(u.lightingFee||0)),r.heating&&u.heatingEnabled&&(l+=Number(u.heatingFee||0)),Math.round(l*100)/100}function Ate({state:t,setState:e,players:n,playersById:r,T:i}){var ve,tt,Y;const s=t.bookingConfig,[a,o]=S.useState(()=>Hl(new Date,s.slotMinutes)),l=Array.isArray(t==null?void 0:t.courts)?t.courts:[],u=Array.isArray(t==null?void 0:t.bookings)?t.bookings:[],c=()=>o(Hl(new Date,s.slotMinutes)),d=M=>o(H=>{const B=new Date(H);return B.setDate(B.getDate()+M),B}),h=M=>{const[H,B,re]=M.split("-").map(Number),de=new Date(a);de.setFullYear(H),de.setMonth(B-1),de.setDate(re),de.setHours(0,0,0,0),o(de)},p=new Date(a);p.setHours(s.dayStartHour,0,0,0);const g=new Date(a);g.setHours(s.dayEndHour,0,0,0);const y=[];for(let M=new Date(p);M<g;M=Bs(M,s.slotMinutes))y.push(new Date(M));const w=`${(M=>M.charAt(0).toUpperCase()+M.slice(1))(new Intl.DateTimeFormat("it-IT",{weekday:"long"}).format(a))} - ${String(a.getDate()).padStart(2,"0")} ${new Intl.DateTimeFormat("it-IT",{month:"long"}).format(a)} ${a.getFullYear()}`,x=S.useMemo(()=>u.filter(M=>bte(new Date(M.start),a)).sort((M,H)=>new Date(M.start)-new Date(H.start)),[u,a]),_=S.useMemo(()=>{const M=new Map(l.map(H=>[H.id,[]]));for(const H of x){const B=M.get(H.courtId)||[];B.push(H),M.set(H.courtId,B)}return M},[x,l]),P=S.useMemo(()=>y.map(M=>u0(M,s,null).rate),[y,s]),N=S.useMemo(()=>Math.min(...P),[P]),D=S.useMemo(()=>Math.max(...P),[P]),I=M=>!isFinite(N)||!isFinite(D)||N===D?.18:.12+(M-N)/(D-N)*.22,A=S.useMemo(()=>[...n].sort((M,H)=>(M.name||"").localeCompare(H.name,"it",{sensitivity:"base"})),[n]),k=M=>{var H;return((H=r==null?void 0:r[M])==null?void 0:H.name)||""},T=M=>{const H=(M||"").trim().toLowerCase();if(!H)return null;const B=A.find(re=>re.name.trim().toLowerCase()===H);return(B==null?void 0:B.id)||null},[O,R]=S.useState(!1),[C,G]=S.useState(null),[L,K]=S.useState({courtId:"",start:null,duration:((ve=s.defaultDurations)==null?void 0:ve[0])||60,p1Name:"",p2Name:"",p3Name:"",p4Name:"",guest1:"",guest2:"",note:"",bookedBy:"",useLighting:!1,useHeating:!1});function J(M,H){var re;const B=Hl(H,s.slotMinutes);G(null),K({courtId:M,start:B,duration:((re=s.defaultDurations)==null?void 0:re[0])||60,p1Name:"",p2Name:"",p3Name:"",p4Name:"",guest1:"",guest2:"",note:"",bookedBy:"",useLighting:!1,useHeating:!1}),R(!0)}function z(M){var de,Se,De,Ye;G(M.id);const H=new Date(M.start),B=(M.players||[]).map(k),re=M.playerNames&&M.playerNames.length?M.playerNames:B;K({courtId:M.courtId,start:H,duration:M.duration,p1Name:re[0]||"",p2Name:re[1]||"",p3Name:re[2]||"",p4Name:re[3]||"",guest1:((de=M.guestNames)==null?void 0:de[0])||"",guest2:((Se=M.guestNames)==null?void 0:Se[1])||"",note:M.note||"",bookedBy:M.bookedByName||"",useLighting:!!((De=M.addons)!=null&&De.lighting),useHeating:!!((Ye=M.addons)!=null&&Ye.heating)}),R(!0)}function Z(M,H,B,re=null){const de=new Date(H),Se=Bs(H,B);return(_.get(M)||[]).find(Ye=>{if(re&&Ye.id===re)return!1;const bn=new Date(Ye.start),Bn=Bs(new Date(Ye.start),Ye.duration);return rT(de,Se,bn,Bn)})}const te=S.useRef("");S.useEffect(()=>{var B,re,de;const M=((B=L.p1Name)==null?void 0:B.trim())||"",H=te.current;(!((re=L.bookedBy)!=null&&re.trim())||((de=L.bookedBy)==null?void 0:de.trim())===H)&&M&&K(Se=>({...Se,bookedBy:M})),te.current=M},[L.p1Name]);function F(){var Bn;if(!L.courtId||!L.start){alert("Seleziona campo e orario.");return}const M=Hl(L.start,s.slotMinutes);if(M<new Date){alert("Non puoi prenotare nel passato.");return}const B=C||null;if(Z(L.courtId,M,L.duration,B)){alert("Esiste già una prenotazione che si sovrappone su questo campo.");return}const re=[L.p1Name,L.p2Name,L.p3Name,L.p4Name].map(St=>(St||"").trim()).filter(Boolean),de=re.map(T).filter(Boolean),Se=[L.guest1,L.guest2].map(St=>(St||"").trim()).filter(Boolean),De=L.bookedBy&&L.bookedBy.trim()||re[0]||Se[0]||"",Ye=aT(M,L.duration,s,{lighting:!!L.useLighting,heating:!!L.useHeating},L.courtId),bn={courtId:L.courtId,start:M.toISOString(),duration:L.duration,players:de,playerNames:re,guestNames:Se,price:Ye,note:((Bn=L.note)==null?void 0:Bn.trim())||"",bookedByName:De,addons:{lighting:!!L.useLighting,heating:!!L.useHeating},status:"booked"};if(C)e(St=>({...St,bookings:(St.bookings||[]).map(dn=>dn.id===C?{...dn,...bn,updatedAt:Date.now()}:dn)}));else{const St={id:crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).slice(2),createdAt:Date.now(),...bn};e(dn=>({...dn,bookings:[...dn.bookings||[],St]}))}R(!1)}function V(M){confirm("Cancellare la prenotazione?")&&e(H=>({...H,bookings:(H.bookings||[]).filter(B=>B.id!==M)}))}const ne=M=>{var H;return((H=l.find(B=>B.id===M))==null?void 0:H.name)||M},xe=52;function ye(M,H){var Yr,Qr;const B=_.get(M)||[],re=B.find(Ct=>{const Ve=new Date(Ct.start),ut=Bs(new Date(Ct.start),Ct.duration);return rT(Ve,ut,H,Bs(H,s.slotMinutes))}),de=B.some(Ct=>new Date(Ct.start).getTime()===Bs(H,s.slotMinutes).getTime());if(!re&&de){const Ct=H.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return m.jsx("div",{className:"relative w-full h-9 rounded-lg ring-1 text-[11px] font-medium bg-gray-300 dark:bg-gray-700 opacity-60 cursor-not-allowed border-dashed border-2 border-gray-400 flex items-center justify-center",title:"Slot non prenotabile: precede una prenotazione",children:m.jsx("span",{className:"absolute inset-0 grid place-items-center text-[11px] opacity-90",children:Ct})})}if(!re){const Ct=u0(H,s,M),Ve=I(Ct.rate),ut=Ct.source==="discounted",Fa=H.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return m.jsxs("button",{type:"button",onClick:()=>J(M,H),className:"relative w-full h-9 rounded-lg ring-1 text-[11px] font-medium",style:{background:`rgba(16,185,129,${Ve})`,borderColor:"rgba(16,185,129,0.35)"},title:ut?"Fascia scontata":"Tariffa standard",children:[ut&&m.jsx("span",{className:"absolute top-0.5 right-0.5 px-1.5 py-[1px] rounded-full text-[10px] leading-none",style:{background:"rgba(16,185,129,0.9)",color:"#0b0b0b",border:"1px solid rgba(16,185,129,0.6)"},children:"★ Promo"}),m.jsx("span",{className:"absolute inset-0 grid place-items-center text-[11px] opacity-90",children:Fa})]})}const Se=new Date(re.start),De=Bs(Se,re.duration);if(!(H.getTime()===Se.getTime()))return m.jsx("div",{className:"w-full h-9"});const Bn=Math.ceil((De-H)/(s.slotMinutes*60*1e3))*xe-6,St=(re.playerNames&&re.playerNames.length?re.playerNames:(re.players||[]).map(Ct=>{var Ve;return((Ve=r==null?void 0:r[Ct])==null?void 0:Ve.name)||"—"})).concat(re.guestNames||[]).slice(0,4),dn=m.jsx("span",{className:"text-2xl",children:"💡"}),Va=m.jsx("span",{className:"text-2xl",children:"🔥"});return m.jsx("div",{className:"w-full h-9 relative",children:m.jsxs("button",{type:"button",onClick:()=>z(re),className:"absolute left-0 right-0 px-2 py-2 ring-1 text-left text-[13px] font-semibold flex flex-col justify-center",style:{top:0,height:`${Bn}px`,background:"rgba(220, 38, 127, 0.35)",borderColor:"rgba(220, 38, 127, 0.6)",borderRadius:"8px",overflow:"hidden"},title:`${ne(re.courtId)} — ${Se.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})} (${re.duration}′) • clicca per modificare`,children:[m.jsxs("div",{className:"absolute left-2 top-2 flex flex-row items-center gap-2 z-20",children:[((Yr=re.addons)==null?void 0:Yr.lighting)&&dn,((Qr=re.addons)==null?void 0:Qr.heating)&&Va]}),m.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1 mt-2",children:[m.jsxs("div",{className:"min-w-0 flex flex-col",children:[m.jsxs("span",{className:"font-bold text-[15px] leading-tight",children:[Se.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," - ",De.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," • ",Md(re.price)]}),m.jsx("span",{className:"flex items-center gap-2 mt-1",children:m.jsx("div",{className:"text-[10px] font-medium opacity-80 flex flex-wrap gap-1",children:St.map((Ct,Ve)=>m.jsx("span",{className:"bg-white/20 px-1 py-0.5 rounded text-[9px] font-medium",children:Ct},Ve))})})]}),m.jsxs("div",{className:"shrink-0 text-[13px] opacity-80 font-bold",children:[Math.round(re.duration),"′"]})]}),m.jsxs("div",{className:"text-[12px] opacity-80 truncate",children:["Prenotato da: ",m.jsx("span",{className:"font-semibold",children:re.bookedByName||St[0]||"—"})]}),re.note&&m.jsx("div",{className:"text-[11px] opacity-70 mt-1 truncate",children:re.note})]})})}const Re=S.useMemo(()=>!L.start||!L.courtId?null:aT(new Date(L.start),L.duration,s,{lighting:L.useLighting,heating:L.useHeating},L.courtId),[L.start,L.duration,L.courtId,L.useLighting,L.useHeating,s]);return S.useMemo(()=>Re==null?null:Re/4,[Re]),m.jsxs(On,{title:"Prenotazione Campi",T:i,children:[m.jsxs("div",{className:`flex flex-col sm:flex-row sm:items-end gap-4 mb-6 ${i.cardBg} ${i.border} p-4`,children:[m.jsxs("div",{className:`flex items-center gap-2 rounded-xl px-4 py-2 shadow-lg ${i.cardBg}`,children:[m.jsx("button",{type:"button",className:`${i.btnGhostSm} text-lg font-bold`,onClick:()=>d(-1),title:"Giorno precedente",children:"←"}),m.jsx("button",{type:"button",className:`${i.btnGhostSm} text-sm font-semibold px-3 py-1 rounded-lg`,onClick:c,children:"Oggi"}),m.jsx("button",{type:"button",className:`${i.btnGhostSm} text-lg font-bold`,onClick:()=>d(1),title:"Giorno successivo",children:"→"})]}),m.jsxs("div",{className:"flex flex-col gap-1",children:[m.jsx("label",{className:`text-xs font-medium ${i.subtext}`,children:"Data"}),m.jsx("input",{type:"date",value:`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`,onChange:M=>h(M.target.value),className:i.input})]}),m.jsx("div",{className:"grow"}),m.jsx("div",{className:"flex flex-col items-end",children:m.jsxs("span",{className:`text-xs font-medium ${i.subtext}`,children:["Fasce: ",m.jsxs("span",{className:"font-bold text-blue-600 dark:text-emerald-400",children:[s.slotMinutes,"′"]})," • ",s.dayStartHour,":00–",s.dayEndHour,":00"]})})]}),m.jsx("div",{className:"text-2xl font-bold mb-6 text-center bg-gradient-to-r from-blue-500 to-purple-500 bg-clip-text text-transparent drop-shadow-lg dark:from-emerald-400 dark:to-lime-400",children:w}),m.jsx("div",{className:"overflow-x-auto pb-4",children:m.jsxs("div",{className:"min-w-[720px] grid gap-2",style:{gridTemplateColumns:`repeat(${l.length}, 1fr)`},children:[l.map(M=>m.jsx("div",{className:`px-2 py-3 text-base font-bold text-center rounded-xl shadow-md mb-2 ${i.cardBg} ${i.border}`,children:m.jsxs("span",{className:"inline-flex items-center gap-2",children:[m.jsx("span",{className:"w-7 h-7 rounded-full bg-blue-400 dark:bg-emerald-400 text-white flex items-center justify-center font-bold shadow",children:M.name[0]}),m.jsx("span",{children:M.name})]})},`hdr_${M.id}`)),y.map((M,H)=>m.jsx(ei.Fragment,{children:l.map(B=>m.jsx("div",{className:`px-0.5 py-0.5 ${i.cardBg} ${i.border} rounded-lg`,children:ye(B.id,M)},B.id+"_"+H))},M.getTime()))]})}),m.jsx(ex,{open:O,onClose:()=>R(!1),title:C?"Modifica prenotazione":"Nuova prenotazione",T:i,children:L.start?m.jsx("div",{className:`rounded-2xl p-6 shadow-2xl ${i.cardBg} ${i.border} backdrop-blur-lg`,children:m.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"flex flex-col gap-1",children:[m.jsx("label",{className:`text-xs font-semibold ${i.subtext}`,children:"Campo"}),m.jsx("select",{value:L.courtId,onChange:M=>K(H=>({...H,courtId:M.target.value})),className:i.input,children:t.courts.map(M=>m.jsx("option",{value:M.id,children:M.name},M.id))})]}),m.jsxs("div",{className:"flex flex-col gap-1",children:[m.jsx("label",{className:`text-xs font-semibold ${i.subtext}`,children:"Inizio"}),m.jsx("input",{type:"time",value:`${String(new Date(L.start).getHours()).padStart(2,"0")}:${String(new Date(L.start).getMinutes()).padStart(2,"0")}`,onChange:M=>{const[H,B]=M.target.value.split(":").map(Number),re=new Date(L.start);re.setHours(H,B,0,0),K(de=>({...de,start:Hl(re,s.slotMinutes)}))},className:i.input})]}),m.jsxs("div",{className:"flex flex-col gap-1",children:[m.jsx("label",{className:`text-xs font-semibold ${i.subtext}`,children:"Durata"}),m.jsx("select",{value:L.duration,onChange:M=>K(H=>({...H,duration:Number(M.target.value)})),className:i.input,children:(s.defaultDurations||[60,90,120]).map(M=>m.jsxs("option",{value:M,children:[M," minuti"]},M))})]}),m.jsxs("div",{className:"flex items-center gap-3 sm:col-span-2",children:[((tt=s.addons)==null?void 0:tt.lightingEnabled)&&m.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:L.useLighting,onChange:M=>K(H=>({...H,useLighting:M.target.checked}))}),m.jsx("span",{className:"text-sm font-medium text-blue-600 dark:text-emerald-400",children:"Illuminazione"}),m.jsxs("span",{className:`text-xs ${i.subtext}`,children:["+",Md(s.addons.lightingFee||0)]})]}),((Y=s.addons)==null?void 0:Y.heatingEnabled)&&m.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:L.useHeating,onChange:M=>K(H=>({...H,useHeating:M.target.checked}))}),m.jsx("span",{className:"text-sm font-medium text-purple-600 dark:text-lime-400",children:"Riscaldamento"}),m.jsxs("span",{className:`text-xs ${i.subtext}`,children:["+",Md(s.addons.heatingFee||0)]})]}),m.jsxs("div",{className:"ml-auto font-bold text-lg text-blue-700 dark:text-emerald-400",children:["Totale: ",Re==null?"—":Md(Re),Re!=null&&m.jsxs("span",{className:`ml-3 text-xs ${i.subtext}`,children:["/ giocatore: ",yM(Re/4)]})]})]}),m.jsx("datalist",{id:"players-list",children:A.map(M=>m.jsx("option",{value:M.name},M.id))}),m.jsx("div",{className:"sm:col-span-2 grid sm:grid-cols-2 gap-4",children:[["p1Name","Giocatore 1"],["p2Name","Giocatore 2"],["p3Name","Giocatore 3"],["p4Name","Giocatore 4"]].map(([M,H])=>m.jsxs("div",{className:"flex flex-col gap-1",children:[m.jsx("label",{className:`text-xs font-semibold ${i.subtext}`,children:H}),m.jsx("input",{list:"players-list",value:L[M],onChange:B=>K(re=>({...re,[M]:B.target.value})),className:i.input,placeholder:"Digita nome o scegli"})]},M))}),m.jsxs("div",{className:"sm:col-span-2 grid sm:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"flex flex-col gap-1",children:[m.jsx("label",{className:`text-xs font-semibold ${i.subtext}`,children:"Ospite 1 (nome libero)"}),m.jsx("input",{value:L.guest1,onChange:M=>K(H=>({...H,guest1:M.target.value})),className:i.input,placeholder:"Es. Mario (ospite)"})]}),m.jsxs("div",{className:"flex flex-col gap-1",children:[m.jsx("label",{className:`text-xs font-semibold ${i.subtext}`,children:"Ospite 2 (nome libero)"}),m.jsx("input",{value:L.guest2,onChange:M=>K(H=>({...H,guest2:M.target.value})),className:i.input,placeholder:"Es. Luca (ospite)"})]})]}),m.jsxs("div",{className:"sm:col-span-2",children:[m.jsx("label",{className:`text-xs font-semibold ${i.subtext}`,children:"Prenotazione a nome di"}),m.jsx("input",{value:L.bookedBy,onChange:M=>K(H=>({...H,bookedBy:M.target.value})),className:i.input,placeholder:"Es. Andrea Paris"})]}),m.jsxs("div",{className:"sm:col-span-2",children:[m.jsx("label",{className:`text-xs font-semibold ${i.subtext}`,children:"Note"}),m.jsx("input",{value:L.note,onChange:M=>K(H=>({...H,note:M.target.value})),className:i.input,placeholder:"Es. Lezioni, torneo, ecc."})]}),m.jsxs("div",{className:"sm:col-span-2 flex gap-2 flex-wrap mt-2",children:[m.jsx("button",{type:"button",onClick:F,className:i.btnPrimary,children:C?"Aggiorna prenotazione":"Conferma prenotazione"}),m.jsx("button",{type:"button",onClick:()=>R(!1),className:i.btnGhost,children:"Annulla"}),C&&m.jsx("button",{type:"button",onClick:()=>V(C),className:"bg-gradient-to-r from-rose-500 to-rose-600 text-white font-bold px-6 py-2 rounded-xl shadow-lg hover:scale-105 transition",children:"Elimina prenotazione"})]})]})}):m.jsx("div",{className:`text-center py-8 text-lg ${i.subtext}`,children:"Seleziona uno slot libero nella griglia."})})]})}const oT=(t=[])=>{if(!t.length)return"";const e=i=>`"${String(i).replace(/"/g,'""')}"`,n=Object.keys(t[0]).map(e).join(","),r=t.map(i=>Object.values(i).map(e).join(",")).join(`
`);return n+`
`+r};function Yg(t,e){const n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,r.rel="noopener",r.style.display="none",document.body.appendChild(r),r.click(),setTimeout(()=>{document.body.removeChild(r),URL.revokeObjectURL(n)},250)}const wM=["Andrea Paris","Giovanni Cardarelli","Nicola Di Marzio","Stefano Ruscitti","Domenico Di Gianfilippo","Giorgio Contestabile","Alfredo Di Donato","Paolo Chiola","Angelo Persia","Marco Idrofano","Lorenzo Eligi","Matteo Di Stefano","Claudio Morgante","Pierluigi Paris","Gabriele Rossi","Luca Bianchi","Marco Verdi","Antonio Esposito","Francesco Romano","Davide Moretti"];function Yn(){return{slotMinutes:30,dayStartHour:8,dayEndHour:23,defaultDurations:[60,90,120],pricing:{full:[{label:"Nuova fascia",pricePerHour:20,startHour:8,startMinute:0,endHour:11,endMinute:0,days:[1,2,3,4,5],courts:[]}],discounted:[]},addons:{lightingEnabled:!0,lightingFee:2,heatingEnabled:!0,heatingFee:4},baseRateWeekday:24,baseRatePeak:32,baseRateWeekend:28,peakStartHour:17,peakEndHour:22}}function c0(){const t=wM.map(a=>({id:qs(),name:a,baseRating:ge,rating:ge})),e=()=>{const a=[...t];return new Array(4).fill(0).map(()=>a.splice(Math.floor(Math.random()*a.length),1)[0])},n=[];for(let a=0;a<15;a++){const[o,l,u,c]=e(),d=[];let h=0,p=0;for(;h<2&&p<2;){const g=Math.random()<.5,y=6,b=Math.floor(Math.random()*5);g?(d.push({a:y,b}),h++):(d.push({a:b,b:y}),p++)}n.push({id:qs(),date:new Date().toISOString(),teamA:[o.id,l.id],teamB:[u.id,c.id],sets:d})}const r=[{id:qs(),name:"Campo 1 (Outdoor)"},{id:qs(),name:"Campo 2 (Outdoor)"},{id:qs(),name:"Campo 3 (Indoor)"}],i=[],s=Yn();return{players:t,matches:n,courts:r,bookings:i,bookingConfig:s}}const Pte=Object.freeze(Object.defineProperty({__proto__:null,ITA20:wM,getDefaultBookingConfig:Yn,makeSeed:c0},Symbol.toStringTag,{value:"Module"})),lT=t=>String(t).padStart(2,"0"),Ld=(t="09:00")=>{const e=/^(\d{1,2}):(\d{2})$/.exec(String(t).trim());if(!e)return"09:00";const n=Math.min(23,Math.max(0,Number(e[1]||0))),r=Math.min(59,Math.max(0,Number(e[2]||0)));return`${lT(n)}:${lT(r)}`};function Tte({value:t=[],onChange:e,T:n}){const r=["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],i=s=>{const a=t.includes(s);e(a?t.filter(o=>o!==s):[...t,s].sort((o,l)=>o-l))};return m.jsx("div",{className:"flex flex-wrap gap-1",children:r.map((s,a)=>m.jsx("button",{type:"button",onClick:()=>i(a),className:`px-2 h-6 rounded-md text-xs ring-1 ${t.includes(a)?"bg-emerald-500 text-black ring-emerald-500/60":`${n.ghostRing} ${n.cardBg}`}`,children:s},a))})}function Ite({courts:t=[],value:e=[],onChange:n,T:r}){const i=s=>{const a=e.includes(s);n(a?e.filter(o=>o!==s):[...e,s])};return m.jsxs("div",{className:"mt-2",children:[m.jsxs("div",{className:`text-xs ${r.subtext}`,children:["Campi ",m.jsx("span",{className:"opacity-70",children:"(vuoto = tutti)"})]}),m.jsx("div",{className:"mt-1 max-h-40 overflow-auto pr-1 rounded-md",children:t.length===0?m.jsx("div",{className:`text-xs ${r.subtext}`,children:"Nessun campo configurato."}):m.jsx("div",{className:"space-y-1",children:t.map(s=>m.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer select-none",children:[m.jsx("input",{type:"checkbox",className:"accent-emerald-500",checked:e.includes(s.id),onChange:()=>i(s.id)}),m.jsx("span",{className:"truncate",children:s.name})]},s.id))})}),m.jsxs("div",{className:"mt-2 flex gap-2",children:[m.jsx("button",{type:"button",className:r.btnGhost,onClick:()=>n(t.map(s=>s.id)),children:"Seleziona tutti"}),m.jsx("button",{type:"button",className:r.btnGhost,onClick:()=>n([]),children:"Pulisci"})]})]})}function uT({title:t,list:e=[],onChange:n,courts:r=[],T:i}){const s=(u,c)=>{const d=e.map((h,p)=>p===u?{...h,...c}:h);n(d)},a=u=>n(e.filter((c,d)=>d!==u)),o=()=>n([...e,{label:"Nuova fascia",eurPerHour:20,from:"08:00",to:"11:00",days:[1,2,3,4,5],courts:[]}]),l=u=>{const c=(Number(u)||0)*1.5;return yM(c/4)};return m.jsxs("div",{className:`rounded-2xl ${i.cardBg} ${i.border} p-3`,children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("div",{className:"font-medium",children:t}),m.jsx("button",{type:"button",className:i.btnGhost,onClick:o,children:"+ Aggiungi fascia"})]}),m.jsx("div",{className:"grid gap-3",children:e.map((u,c)=>m.jsxs("div",{className:`relative rounded-xl p-3 ${i.name==="dark"?`${i.cardBg} ${i.border}`:"bg-emerald-50 ring-2 ring-emerald-500/70"}`,children:[m.jsx("button",{type:"button",className:"absolute top-2 right-2 text-rose-500 text-xs hover:underline",onClick:()=>a(c),title:"Rimuovi fascia",children:"✕"}),m.jsxs("div",{className:"absolute bottom-2 right-3 px-2 py-1 rounded-md ring-1",style:{borderColor:"rgba(16,185,129,0.45)"},children:[m.jsx("div",{className:"text-xs font-normal mb-1",children:"1:30h/persona"}),m.jsx("div",{className:"text-2xl md:text-3xl font-extrabold leading-none",children:l(u.eurPerHour)})]}),m.jsxs("div",{className:"grid sm:grid-cols-4 gap-2",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("label",{className:`text-xs ${i.subtext}`,children:"Etichetta"}),m.jsx("input",{value:u.label||"",onChange:d=>s(c,{label:d.target.value}),className:i.input})]}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("label",{className:`text-xs ${i.subtext}`,children:"€/h"}),m.jsx("input",{type:"number",value:u.eurPerHour??0,onChange:d=>s(c,{eurPerHour:Number(d.target.value)||0}),className:i.input})]}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("label",{className:`text-xs ${i.subtext}`,children:"Inizio"}),m.jsx("input",{type:"time",value:Ld(u.from),onChange:d=>s(c,{from:Ld(d.target.value)}),className:i.input})]}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("label",{className:`text-xs ${i.subtext}`,children:"Fine"}),m.jsx("input",{type:"time",value:Ld(u.to),onChange:d=>s(c,{to:Ld(d.target.value)}),className:i.input})]})]}),m.jsxs("div",{className:"mt-2",children:[m.jsx("div",{className:`text-xs ${i.subtext}`,children:"Giorni"}),m.jsx(Tte,{value:Array.isArray(u.days)?u.days:[],onChange:d=>s(c,{days:d}),T:i})]}),m.jsx(Ite,{courts:r,value:Array.isArray(u.courts)?u.courts:[],onChange:d=>s(c,{courts:d}),T:i})]},c))})]})}function kte({state:t,setState:e,derived:n,leagueId:r,setLeagueId:i,clubMode:s,setClubMode:a,T:o}){const[l,u]=ei.useState(""),[c,d]=S.useState(""),[h,p]=S.useState(()=>{try{return sessionStorage.getItem("ml-extra-unlocked")==="1"}catch{return!1}}),g=F=>{var V;if((V=F==null?void 0:F.preventDefault)==null||V.call(F),c==="Paris2025"){p(!0);try{sessionStorage.setItem("ml-extra-unlocked","1")}catch{}}else alert("Password errata")},y=()=>{p(!1),d("");try{sessionStorage.removeItem("ml-extra-unlocked")}catch{}};async function b(){try{await hy(r,{...t,_updatedAt:Date.now()}),u(`✅ Salvato su cloud: leagues/${r}`)}catch(F){u(`❌ Errore salvataggio: ${(F==null?void 0:F.message)||F}`)}}async function w(){try{const F=await ZN(r);F&&typeof F=="object"?(e(F),u(`✅ Caricato dal cloud: leagues/${r}`)):u("⚠️ Documento non trovato sul cloud")}catch(F){u(`❌ Errore caricamento: ${(F==null?void 0:F.message)||F}`)}}const x=()=>Yg("paris-league-backup.json",new Blob([JSON.stringify(t,null,2)],{type:"application/json;charset=utf-8"})),_=F=>{const V=new FileReader;V.onload=()=>{try{e(JSON.parse(V.result)),alert("Import riuscito!")}catch{alert("File non valido")}},V.readAsText(F)},P=()=>{const F=n.players.slice().sort((V,ne)=>ne.rating-V.rating).map((V,ne)=>({pos:ne+1,name:V.name,rating:V.rating.toFixed(2),wins:V.wins||0,losses:V.losses||0}));if(!F.length)return alert("Nessun dato da esportare.");Yg("classifica.csv",new Blob([oT(F)],{type:"text/csv;charset=utf-8"}))},N=()=>{const F=n.matches.map(V=>{var ne,xe;return{date:new Date(V.date).toLocaleString(),teamA:V.teamA.join("+"),teamB:V.teamB.join("+"),sets:(V.sets||[]).map(ye=>`${ye.a}-${ye.b}`).join(" "),gamesA:V.gamesA,gamesB:V.gamesB,winner:V.winner,deltaA:((ne=V.deltaA)==null?void 0:ne.toFixed(2))??"",deltaB:((xe=V.deltaB)==null?void 0:xe.toFixed(2))??""}});if(!F.length)return alert("Nessuna partita da esportare.");Yg("partite.csv",new Blob([oT(F)],{type:"text/csv;charset=utf-8"}))},D=()=>{confirm("Rigenerare simulazione iniziale?")&&aw(async()=>{const{makeSeed:F}=await Promise.resolve().then(()=>Pte);return{makeSeed:F}},void 0).then(({makeSeed:F})=>e(F()))},[I,A]=S.useState(""),k=()=>{const F=I.trim();F&&(e(V=>({...V,courts:[...V.courts||[],{id:crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).slice(2),name:F}]})),A(""))},T=F=>{confirm("Rimuovere il campo? Le prenotazioni collegate saranno conservate.")&&e(V=>({...V,courts:(V.courts||[]).filter(ne=>ne.id!==F)}))},O=t.bookingConfig||Yn(),[R,C]=S.useState(()=>({...O}));S.useEffect(()=>{C(F=>{try{const V=JSON.stringify(F),ne=JSON.stringify(O);return V===ne?{...O}:F}catch{return F}})},[t.bookingConfig]);const G=()=>{let F=R.defaultDurations;typeof F=="string"&&(F=F.split(",").map(ne=>Number(ne.trim())).filter(ne=>!Number.isNaN(ne)&&ne>0));const V={...R,slotMinutes:Math.max(5,Number(R.slotMinutes)||30),dayStartHour:Math.min(23,Math.max(0,Number(R.dayStartHour)||8)),dayEndHour:Math.min(24,Math.max(1,Number(R.dayEndHour)||23)),defaultDurations:F&&F.length?F:[60,90,120]};e(ne=>({...ne,bookingConfig:V})),alert("Parametri salvati!")},L=()=>C(Yn()),K=R.pricing||Yn().pricing,J=F=>C(V=>({...V,pricing:F})),z=F=>J({...K,full:F}),Z=F=>J({...K,discounted:F}),te=R.addons||Yn().addons;return m.jsxs(On,{title:"Extra – Impostazioni",T:o,children:[h?m.jsx("div",{className:`rounded-2xl ${o.cardBg} ${o.border} p-3 mb-4`,children:m.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[m.jsxs("div",{children:[m.jsx("div",{className:"font-medium",children:"Modalità Circolo"}),m.jsx("div",{className:`text-sm ${o.subtext}`,children:s?"Attiva — le tab amministrative (Giocatori, Crea Partita, Prenotazione Campi, Crea Tornei) sono visibili.":"Disattiva — solo Classifica e Statistiche sono visibili agli utenti."})]}),m.jsx("div",{className:"flex gap-2",children:s?m.jsx("button",{type:"button",className:o.btnGhost,onClick:()=>a(!1),children:"Disattiva"}):m.jsx("button",{type:"button",className:o.btnPrimary,onClick:()=>a(!0),children:"Attiva"})})]})}):m.jsxs("div",{className:`rounded-2xl ${o.cardBg} ${o.border} p-3 mb-4`,children:[m.jsx("div",{className:"font-medium mb-1",children:"Modalità Circolo"}),m.jsx("div",{className:`text-sm ${o.subtext}`,children:"Sblocca il pannello per abilitare o disabilitare la Modalità Circolo."})]}),h?m.jsxs("div",{className:"mb-3 flex gap-2",children:[m.jsx("button",{type:"button",className:o.btnGhost,onClick:y,children:"Blocca pannello"}),m.jsx("button",{type:"button",className:o.btnGhost,onClick:b,children:"Forza salva su cloud"}),m.jsx("button",{type:"button",className:o.btnGhost,onClick:w,children:"Forza carica da cloud"})]}):m.jsxs("form",{onSubmit:g,className:"flex flex-col sm:flex-row gap-3 items-stretch sm:items-end mb-3",children:[m.jsxs("div",{className:"flex-1 min-w-[200px]",children:[m.jsx("label",{className:`text-xs ${o.subtext}`,children:"Password pannello (Paris2025)"}),m.jsx("input",{type:"password",value:c,onChange:F=>d(F.target.value),placeholder:"Inserisci password",className:`${o.input} w-full`})]}),m.jsx("button",{type:"submit",className:o.btnPrimary,children:"Sblocca pannello"}),m.jsx("button",{type:"button",className:o.btnGhost,onClick:b,children:"Forza salva su cloud"}),m.jsx("button",{type:"button",className:o.btnGhost,onClick:w,children:"Forza carica da cloud"})]}),h?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex flex-col sm:flex-row sm:flex-wrap items-stretch sm:items-center gap-2 mb-3",children:[m.jsx("span",{className:"text-sm",children:"Lega:"}),m.jsx("input",{className:`${o.input} w-full sm:w-64`,value:r,placeholder:"lega-andrea-2025",onChange:F=>i(F.target.value)}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{type:"button",className:o.btnGhost,onClick:b,children:"Forza salva su cloud"}),m.jsx("button",{type:"button",className:o.btnGhost,onClick:w,children:"Forza carica da cloud"})]})]}),l&&m.jsx("div",{className:`text-xs ${o.subtext} mb-4`,children:l}),m.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[m.jsx("button",{type:"button",className:o.btnPrimary,onClick:x,children:"Backup JSON"}),m.jsxs("label",{className:`${o.btnGhost} cursor-pointer`,children:["Import JSON",m.jsx("input",{type:"file",className:"hidden",accept:"application/json",onChange:F=>{var V;return((V=F.target.files)==null?void 0:V[0])&&_(F.target.files[0])}})]}),m.jsx("button",{type:"button",className:o.btnGhost,onClick:P,children:"Export Classifica CSV"}),m.jsx("button",{type:"button",className:o.btnGhost,onClick:N,children:"Export Partite CSV"}),m.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-xl px-4 py-2 font-medium ring-1 ring-rose-500/40 text-rose-500 hover:bg-rose-500/10 transition",onClick:D,children:"Rigenera simulazione"})]}),m.jsxs("div",{className:`rounded-2xl ${o.cardBg} ${o.border} p-3 mb-4`,children:[m.jsx("div",{className:"font-medium mb-2",children:"Campi"}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 items-stretch sm:items-end mb-3",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:`text-xs ${o.subtext}`,children:"Nuovo campo"}),m.jsx("input",{value:I,onChange:F=>A(F.target.value),className:o.input,placeholder:"Es. Campo 4 (Coperto)"})]}),m.jsx("button",{type:"button",className:o.btnGhost,onClick:k,children:"Aggiungi"})]}),m.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:(t.courts||[]).map(F=>m.jsx("div",{className:`rounded-xl ${o.cardBg} ${o.border} p-3`,children:m.jsxs("div",{className:"flex items-start justify-between gap-3",children:[m.jsx("div",{className:"min-w-0",children:m.jsx("div",{className:"font-medium truncate",children:F.name})}),m.jsx("button",{type:"button",className:"text-rose-500 text-sm hover:underline shrink-0",onClick:()=>T(F.id),children:"Rimuovi"})]})},F.id))})]}),m.jsxs("div",{className:`rounded-2xl ${o.cardBg} ${o.border} p-3`,onKeyDown:F=>{F.key==="Enter"&&F.preventDefault()},children:[m.jsx("div",{className:"font-medium mb-2",children:"Prenotazioni — Parametri"}),m.jsxs("div",{className:"grid sm:grid-cols-3 gap-3 mb-4",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("label",{className:`text-xs ${o.subtext}`,children:"Minuti slot"}),m.jsx("input",{type:"number",value:R.slotMinutes,onChange:F=>C(V=>({...V,slotMinutes:Number(F.target.value)})),className:o.input})]}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("label",{className:`text-xs ${o.subtext}`,children:"Apertura (ora)"}),m.jsx("input",{type:"number",value:R.dayStartHour,onChange:F=>C(V=>({...V,dayStartHour:Number(F.target.value)})),className:o.input})]}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("label",{className:`text-xs ${o.subtext}`,children:"Chiusura (ora)"}),m.jsx("input",{type:"number",value:R.dayEndHour,onChange:F=>C(V=>({...V,dayEndHour:Number(F.target.value)})),className:o.input})]})]}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[m.jsx(uT,{title:"Fasce — Prezzo Pieno",list:K.full||[],onChange:z,courts:t.courts||[],T:o}),m.jsx(uT,{title:"Fasce — Scontato",list:K.discounted||[],onChange:Z,courts:t.courts||[],T:o})]}),m.jsxs("div",{className:"mt-4 rounded-xl p-3 border border-white/10",children:[m.jsx("div",{className:"font-medium mb-2",children:"Opzioni per prenotazione (costo fisso)"}),m.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{id:"cfg-lighting-enabled",type:"checkbox",checked:!!te.lightingEnabled,onChange:F=>C(V=>({...V,addons:{...V.addons,lightingEnabled:F.target.checked}}))}),m.jsx("label",{htmlFor:"cfg-lighting-enabled",className:"cursor-pointer",children:"Abilita Illuminazione"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:`text-xs ${o.subtext}`,children:"Costo Illuminazione"}),m.jsx("input",{type:"number",className:`${o.input} w-28`,value:te.lightingFee||0,onChange:F=>C(V=>({...V,addons:{...V.addons,lightingFee:Number(F.target.value)||0}}))})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{id:"cfg-heating-enabled",type:"checkbox",checked:!!te.heatingEnabled,onChange:F=>C(V=>({...V,addons:{...V.addons,heatingEnabled:F.target.checked}}))}),m.jsx("label",{htmlFor:"cfg-heating-enabled",className:"cursor-pointer",children:"Abilita Riscaldamento"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:`text-xs ${o.subtext}`,children:"Costo Riscaldamento"}),m.jsx("input",{type:"number",className:`${o.input} w-28`,value:te.heatingFee||0,onChange:F=>C(V=>({...V,addons:{...V.addons,heatingFee:Number(F.target.value)||0}}))})]})]}),m.jsxs("div",{className:`text-xs ${o.subtext} mt-2`,children:["Nota: l’",m.jsx("b",{children:"Illuminazione"})," e il ",m.jsx("b",{children:"Riscaldamento"})," sono opzioni per prenotazione (prezzo fisso, non a tempo)."]})]}),m.jsxs("div",{className:"mt-3 flex gap-2",children:[m.jsx("button",{type:"button",className:o.btnPrimary,onClick:G,children:"Salva parametri"}),m.jsx("button",{type:"button",className:o.btnGhost,onClick:L,children:"Ripristina default"})]})]}),m.jsxs("div",{className:`text-xs ${o.subtext} mt-3`,children:["I dati sono salvati ",m.jsx("b",{children:"in locale"})," (localStorage) e, se configurato, ",m.jsx("b",{children:"anche su Firestore"})," ","nel documento ",m.jsxs("code",{children:["leagues/",r]}),"."]})]}):m.jsx("div",{className:`text-xs ${o.subtext}`,children:"Sblocca per accedere a Backup/Import, sincronizzazione Cloud, gestione campi e parametri prenotazioni."})]})}function Cte({T:t}){return m.jsx(On,{title:"Crea Tornei",T:t,children:m.jsx("div",{className:`text-sm ${t.subtext}`,children:"Qui potrai creare e gestire i tornei (funzionalità in sviluppo)."})})}function Nte({T:t}){var g,y,b,w,x,_,P,N,D;const[e,n]=S.useState(null),[r,i]=S.useState(!0),[s,a]=S.useState(!1),[o,l]=S.useState("overview"),[u,c]=S.useState(!1);S.useEffect(()=>{const I=Ar.onAuthStateChanged(A=>{n(A),i(!1)});return()=>I()},[]);const d=async()=>{try{await Xw(),a(!1)}catch(I){console.error("Errore durante il logout:",I)}},h=I=>{switch(I){case"google.com":return"🔗";case"facebook.com":return"📘";case"password":return"🔐";default:return"📧"}},p=I=>{switch(I){case"google.com":return"Google";case"facebook.com":return"Facebook";case"password":return"Email/Password";default:return"Email"}};return r?m.jsx(On,{title:"Profilo Utente",icon:"👤",T:t,children:m.jsx("div",{className:"flex justify-center items-center h-64",children:m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent"}),m.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:m.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full animate-pulse"})})]})})}):e?m.jsxs(On,{title:"Profilo Utente",icon:"👤",T:t,children:[m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{className:"relative bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl p-8 text-white overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -translate-y-16 translate-x-16"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/5 rounded-full translate-y-12 -translate-x-12"}),m.jsxs("div",{className:"relative flex items-center space-x-6",children:[m.jsxs("div",{className:"relative",children:[e.photoURL?m.jsx("img",{src:e.photoURL,alt:"Avatar",className:"w-24 h-24 rounded-2xl border-4 border-white/20 shadow-xl"}):m.jsx("div",{className:"w-24 h-24 bg-white/20 rounded-2xl border-4 border-white/20 flex items-center justify-center backdrop-blur-sm",children:m.jsx("span",{className:"text-white text-3xl",children:"👤"})}),m.jsx("div",{className:"absolute -bottom-2 -right-2 w-8 h-8 bg-green-500 rounded-full border-4 border-white flex items-center justify-center",children:m.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h2",{className:"text-2xl font-bold mb-2",children:e.displayName||"Utente"}),m.jsx("p",{className:"text-white/80 mb-3",children:e.email}),m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("span",{className:"px-3 py-1 bg-white/20 rounded-full text-sm font-medium backdrop-blur-sm",children:"✅ Verificato"}),m.jsxs("span",{className:"px-3 py-1 bg-white/20 rounded-full text-sm font-medium backdrop-blur-sm",children:[h((g=e.providerData[0])==null?void 0:g.providerId)," ",p((y=e.providerData[0])==null?void 0:y.providerId)]})]})]})]})]}),m.jsx("div",{className:"border-b border-gray-200",children:m.jsx("nav",{className:"flex space-x-8",children:[{id:"overview",label:"Panoramica",icon:"📊"},{id:"security",label:"Sicurezza",icon:"🔒"},{id:"activity",label:"Attività",icon:"📈"}].map(I=>m.jsxs("button",{onClick:()=>l(I.id),className:`flex items-center space-x-2 py-4 px-2 border-b-2 font-medium text-sm transition-colors ${o===I.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[m.jsx("span",{children:I.icon}),m.jsx("span",{children:I.label})]},I.id))})}),o==="overview"&&m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[m.jsx("div",{className:"lg:col-span-2 space-y-6",children:m.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Informazioni Account"}),m.jsx("button",{onClick:()=>c(!u),className:"px-4 py-2 text-sm font-medium text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:u?"💾 Salva":"✏️ Modifica"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Display"}),m.jsx("input",{type:"text",value:e.displayName||"",disabled:!u,className:`w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors ${u?"bg-white":"bg-gray-50 text-gray-600"}`})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),m.jsx("input",{type:"email",value:e.email||"",disabled:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ID Utente"}),m.jsx("input",{type:"text",value:((b=e.uid)==null?void 0:b.substring(0,20))+"..."||"",disabled:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-600 font-mono text-sm"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data Registrazione"}),m.jsx("input",{type:"text",value:(w=e.metadata)!=null&&w.creationTime?new Date(e.metadata.creationTime).toLocaleDateString("it-IT"):"N/A",disabled:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]})]})]})}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistiche Account"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-gray-600",children:"Sessioni attive"}),m.jsx("span",{className:"font-semibold text-green-600",children:"1"})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-gray-600",children:"Ultimo accesso"}),m.jsx("span",{className:"text-sm text-gray-900",children:(x=e.metadata)!=null&&x.lastSignInTime?new Date(e.metadata.lastSignInTime).toLocaleDateString("it-IT"):"N/A"})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-gray-600",children:"Email verificata"}),m.jsx("span",{className:"text-green-600",children:"✅"})]})]})]}),m.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Azioni Rapide"}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("button",{className:"w-full px-4 py-3 text-left text-sm font-medium text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:"🔄 Aggiorna Profilo"}),m.jsx("button",{className:"w-full px-4 py-3 text-left text-sm font-medium text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:"📧 Cambia Email"}),m.jsx("button",{className:"w-full px-4 py-3 text-left text-sm font-medium text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:"🔐 Cambia Password"})]})]})]})]}),o==="security"&&m.jsx("div",{className:"space-y-6",children:m.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Impostazioni di Sicurezza"}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 border border-green-200 rounded-lg",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center",children:m.jsx("span",{className:"text-white",children:"🔐"})}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-green-800",children:"Autenticazione a Due Fattori"}),m.jsx("p",{className:"text-sm text-green-600",children:"Attiva tramite provider OAuth"})]})]}),m.jsx("span",{className:"text-green-600 font-semibold",children:"✅ Attiva"})]}),m.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:m.jsx("span",{className:"text-white",children:"📧"})}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-blue-800",children:"Email Verificata"}),m.jsx("p",{className:"text-sm text-blue-600",children:"La tua email è stata confermata"})]})]}),m.jsx("span",{className:"text-blue-600 font-semibold",children:"✅ Verificata"})]}),m.jsxs("div",{className:"flex items-center justify-between p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"w-10 h-10 bg-purple-500 rounded-full flex items-center justify-center",children:m.jsx("span",{className:"text-white",children:h((_=e.providerData[0])==null?void 0:_.providerId)})}),m.jsxs("div",{children:[m.jsxs("p",{className:"font-medium text-purple-800",children:["Provider: ",p((P=e.providerData[0])==null?void 0:P.providerId)]}),m.jsx("p",{className:"text-sm text-purple-600",children:"Metodo di autenticazione sicuro"})]})]}),m.jsx("span",{className:"text-purple-600 font-semibold",children:"🔒 Sicuro"})]})]})]})}),o==="activity"&&m.jsx("div",{className:"space-y-6",children:m.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Attività Recente"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[m.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center",children:m.jsx("span",{className:"text-white text-sm",children:"🔑"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"font-medium text-gray-900",children:"Login effettuato"}),m.jsx("p",{className:"text-sm text-gray-600",children:(N=e.metadata)!=null&&N.lastSignInTime?new Date(e.metadata.lastSignInTime).toLocaleString("it-IT"):"Data non disponibile"})]}),m.jsx("span",{className:"text-green-600 text-sm font-medium",children:"Successo"})]}),m.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[m.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:m.jsx("span",{className:"text-white text-sm",children:"👤"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"font-medium text-gray-900",children:"Account creato"}),m.jsx("p",{className:"text-sm text-gray-600",children:(D=e.metadata)!=null&&D.creationTime?new Date(e.metadata.creationTime).toLocaleString("it-IT"):"Data non disponibile"})]}),m.jsx("span",{className:"text-blue-600 text-sm font-medium",children:"Completato"})]})]})]})}),m.jsx("div",{className:"flex justify-center pt-8 border-t border-gray-200",children:m.jsx("button",{onClick:()=>a(!0),className:"px-8 py-3 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-medium rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:"🚪 Disconnetti Account"})})]}),s&&m.jsx(ex,{open:s,onClose:()=>a(!1),title:"Conferma Disconnessione",T:t,children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-16 h-16 mx-auto bg-red-100 rounded-full flex items-center justify-center mb-4",children:m.jsx("span",{className:"text-red-600 text-2xl",children:"⚠️"})}),m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Disconnetti Account"}),m.jsx("p",{className:"text-gray-600",children:"Sei sicuro di voler disconnettere il tuo account? Dovrai effettuare nuovamente il login per accedere."})]}),m.jsxs("div",{className:"flex justify-end space-x-4",children:[m.jsx("button",{onClick:()=>a(!1),className:"px-6 py-3 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",children:"Annulla"}),m.jsx("button",{onClick:d,className:"px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors shadow-lg",children:"Conferma Disconnessione"})]})]})})]}):m.jsx(On,{title:"Profilo Utente",icon:"👤",T:t,children:m.jsxs("div",{className:"text-center py-16",children:[m.jsx("div",{className:"mb-6",children:m.jsx("div",{className:"w-24 h-24 mx-auto bg-gray-100 rounded-full flex items-center justify-center",children:m.jsx("span",{className:"text-gray-400 text-3xl",children:"👤"})})}),m.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Non autenticato"}),m.jsx("p",{className:"text-gray-600",children:"Effettua il login per accedere al tuo profilo"})]})})}function cT({T:t,user:e,userProfile:n,setUserProfile:r}){const[i,s]=S.useState(""),[a,o]=S.useState(!1),[l,u]=S.useState(!1),[c,d]=S.useState({firstName:"",lastName:"",phone:""}),[h,p]=S.useState(!1);S.useEffect(()=>{Qw().catch(()=>{})},[]),S.useEffect(()=>{e&&n&&(n.firstName&&n.phone||(u(!0),d({firstName:n.firstName||"",lastName:n.lastName||"",phone:n.phone||""})))},[e,n]);const g=async()=>{try{await i2()}catch(x){alert("Errore Google: "+((x==null?void 0:x.message)||x))}},y=async()=>{try{await s2()}catch(x){alert("Errore Facebook: "+((x==null?void 0:x.message)||x))}},b=async()=>{try{o(!0),await a2(i.trim()),alert("Ti abbiamo inviato un link di accesso via email. Aprilo da questo dispositivo.")}catch(x){alert("Errore invio link: "+((x==null?void 0:x.message)||x))}finally{o(!1)}},w=async()=>{if(!c.firstName.trim()){alert("Il nome è obbligatorio");return}if(!c.phone.trim()){alert("Il numero di telefono è obbligatorio");return}try{p(!0);const x={...n,firstName:c.firstName.trim(),lastName:c.lastName.trim(),phone:c.phone.trim(),email:e.email};await Sc(e.uid,x);const _=[c.firstName,c.lastName].filter(Boolean).join(" ");_&&await o2(e,_),r(x),u(!1)}catch(x){alert("Errore salvataggio profilo: "+((x==null?void 0:x.message)||x))}finally{p(!1)}};return e?l||!(n!=null&&n.firstName)||!(n!=null&&n.phone)?m.jsx("div",{className:"space-y-6",children:m.jsx(On,{title:"Completa la Registrazione",T:t,children:m.jsxs("div",{className:`rounded-2xl ${t.cardBg} ${t.border} p-6 space-y-4`,children:[m.jsxs("div",{className:"text-center space-y-2",children:[m.jsxs("h2",{className:"text-xl font-bold",children:["Ciao ",e.displayName||e.email,"!"]}),m.jsx("p",{className:`text-sm ${t.subtext}`,children:"Per completare la registrazione, inserisci i tuoi dati:"})]}),m.jsxs("div",{className:"grid gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:`text-sm font-medium ${t.subtext}`,children:"Nome *"}),m.jsx("input",{type:"text",value:c.firstName,onChange:x=>d(_=>({..._,firstName:x.target.value})),className:`${t.input} w-full mt-1`,placeholder:"Inserisci il tuo nome"})]}),m.jsxs("div",{children:[m.jsx("label",{className:`text-sm font-medium ${t.subtext}`,children:"Cognome"}),m.jsx("input",{type:"text",value:c.lastName,onChange:x=>d(_=>({..._,lastName:x.target.value})),className:`${t.input} w-full mt-1`,placeholder:"Inserisci il tuo cognome"})]}),m.jsxs("div",{children:[m.jsx("label",{className:`text-sm font-medium ${t.subtext}`,children:"Numero di Telefono *"}),m.jsx("input",{type:"tel",value:c.phone,onChange:x=>d(_=>({..._,phone:x.target.value})),className:`${t.input} w-full mt-1`,placeholder:"+39 123 456 7890"})]}),m.jsxs("div",{children:[m.jsx("label",{className:`text-sm font-medium ${t.subtext}`,children:"Email"}),m.jsx("input",{type:"email",value:e.email||"",disabled:!0,className:`${t.input} w-full mt-1 opacity-50 cursor-not-allowed`})]})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[m.jsx("button",{type:"button",className:t.btnPrimary,onClick:w,disabled:h,children:h?"Salvando...":"Completa Registrazione"}),m.jsx("button",{type:"button",className:"text-rose-500 hover:opacity-80 text-sm px-4",onClick:()=>Xw(),children:"Esci"})]}),m.jsx("p",{className:`text-xs ${t.subtext}`,children:"* Campi obbligatori"})]})})}):null:m.jsx("div",{className:"space-y-6",children:m.jsx(On,{title:"Benvenuto in Marsica Padel League",T:t,children:m.jsxs("div",{className:`rounded-2xl ${t.cardBg} ${t.border} p-6 space-y-4`,children:[m.jsxs("div",{className:"text-center space-y-2",children:[m.jsx("h2",{className:"text-xl font-bold",children:"Accedi o Registrati"}),m.jsx("p",{className:`text-sm ${t.subtext}`,children:"Per accedere alla piattaforma è necessario registrarsi con email, nome e numero di telefono"})]}),m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsxs("button",{type:"button",className:`${t.btnPrimary} flex items-center justify-center gap-2`,onClick:g,children:[m.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[m.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),m.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),m.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),m.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continua con Google"]}),m.jsxs("button",{type:"button",className:`${t.btnGhost} flex items-center justify-center gap-2`,onClick:y,children:[m.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:m.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Continua con Facebook"]})]}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 flex items-center",children:m.jsx("span",{className:`w-full border-t ${t.border}`})}),m.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:m.jsx("span",{className:`${t.cardBg} px-2 ${t.subtext}`,children:"Oppure"})})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:`text-sm font-medium ${t.subtext}`,children:"Email"}),m.jsx("input",{type:"email",value:i,placeholder:"esempio@mail.com",onChange:x=>s(x.target.value),className:`${t.input} w-full mt-1`})]}),m.jsx("button",{type:"button",className:t.btnGhost,disabled:!i||a,onClick:b,children:a?"Invio in corso...":"Invia link di accesso"}),m.jsx("p",{className:`text-xs ${t.subtext}`,children:"Ti invieremo un link di accesso sicuro via email"})]})]})})})}function Ote(){const[t,e]=S.useState(localStorage.getItem("ml-theme")||"dark"),n=S.useMemo(()=>KU(t),[t]);S.useEffect(()=>{try{localStorage.setItem("ml-theme",t)}catch{}},[t]);const[r,i]=S.useState(localStorage.getItem(Ka+"-leagueId")||"lega-andrea-2025");S.useEffect(()=>localStorage.setItem(Ka+"-leagueId",r),[r]);const[s,a]=S.useState(()=>{try{const G=sessionStorage.getItem("ml-extra-unlocked")==="1",L=sessionStorage.getItem("ml-club-mode")==="1";return G&&L}catch{return!1}});S.useEffect(()=>{try{s?sessionStorage.setItem("ml-club-mode","1"):sessionStorage.removeItem("ml-club-mode")}catch{}},[s]);const[o,l]=S.useState(null),[u,c]=S.useState(!1),[d,h]=S.useState(null),[p,g]=S.useState(null),[y,b]=S.useState(!0);S.useEffect(()=>r2(async L=>{if(h(L),L)try{const{getUserProfile:K}=await aw(async()=>{const{getUserProfile:z}=await Promise.resolve().then(()=>HU);return{getUserProfile:z}},void 0),J=await K(L.uid);g(J)}catch(K){console.error("Error loading user profile:",K),g(null)}else g(null);b(!1)}),[]),S.useEffect(()=>{Qw().catch(()=>{})},[]);const w=S.useRef(null);if(!w.current){const G=(()=>{try{return localStorage.getItem("ml-client-id")}catch{return null}})();if(G)w.current=G;else{const L=Math.random().toString(36).slice(2,10);w.current=L;try{localStorage.setItem("ml-client-id",L)}catch{}}}const x=S.useRef(0),_=G=>{l(L=>{const K=typeof G=="function"?G(L):G,J=Date.now(),z=((L==null?void 0:L._rev)||0)+1;return x.current=J+2e3,{...K,_updatedAt:J,_rev:z,_lastWriter:w.current}})};S.useEffect(()=>{(async()=>{try{const G=await ZN(r);if(G&&typeof G=="object"&&Array.isArray(G.players)&&Array.isArray(G.matches)){const K={...G};Array.isArray(K.courts)||(K.courts=[]),Array.isArray(K.bookings)||(K.bookings=[]),K.bookingConfig||(K.bookingConfig=Yn()),K.bookingConfig.pricing||(K.bookingConfig.pricing=Yn().pricing),K.bookingConfig.addons||(K.bookingConfig.addons=Yn().addons),l(K);try{localStorage.setItem(Ka,JSON.stringify(K))}catch{}}else{const K=c0();l(K);try{await hy(r,{...K,_updatedAt:Date.now(),_rev:1,_lastWriter:w.current})}catch{}}}catch(G){console.warn("initial load error:",G);const L=c0();l(L)}})()},[r]),S.useEffect(()=>{if(!r)return;let G=null;try{G=UU(r,L=>{if(!(L&&typeof L=="object"&&Array.isArray(L.players)&&Array.isArray(L.matches))||Date.now()<x.current)return;const J={...L};Array.isArray(J.courts)||(J.courts=[]),Array.isArray(J.bookings)||(J.bookings=[]),J.bookingConfig||(J.bookingConfig=Yn()),J.bookingConfig.pricing||(J.bookingConfig.pricing=Yn().pricing),J.bookingConfig.addons||(J.bookingConfig.addons=Yn().addons),c(!0),l(z=>{const Z=(z==null?void 0:z._rev)??0,te=(J==null?void 0:J._rev)??0,F=(z==null?void 0:z._updatedAt)??0,V=(J==null?void 0:J._updatedAt)??0;return te>Z||te===Z&&V>F?J:z}),c(!1)})}catch(L){console.warn("subscribe err:",L)}return()=>G&&G()},[r]),S.useEffect(()=>{if(!o||u)return;const G=["players","matches","courts","bookings","bookingConfig"];if(!localStorage.getItem(Ka)||G.some(K=>JSON.stringify(o[K])!==JSON.stringify(JSON.parse(localStorage.getItem(Ka))[K])))try{localStorage.setItem(Ka,JSON.stringify(o));const K={...o,_updatedAt:Date.now(),_lastWriter:w.current},J=setTimeout(()=>{hy(r,K).catch(()=>{})},800);return()=>clearTimeout(J)}catch{}},[o,r,u]);const[P,N]=S.useState("classifica"),[D,I]=S.useState(""),[A,k]=S.useState("");S.useEffect(()=>{!s&&new Set(["giocatori","crea","prenota","tornei"]).has(P)&&N("classifica")},[s,P]);const T=S.useMemo(()=>o?qU(o.players||[],o.matches||[]):{players:[],matches:[]},[o]),O=S.useMemo(()=>Object.fromEntries((T.players||[]).map(G=>[G.id,G])),[T]),R=G=>{k(G),N("stats")},C=p&&p.firstName&&p.phone;return y?m.jsx("div",{className:`min-h-screen ${n.pageBg} ${n.text} flex items-center justify-center`,"data-theme":t,children:m.jsx("div",{className:"text-lg",children:"Caricamento..."})}):!d||!C?m.jsxs("div",{className:`min-h-screen ${n.pageBg} ${n.text}`,"data-theme":t,children:[m.jsx("style",{children:`
          [data-theme="dark"] input[type="date"]::-webkit-calendar-picker-indicator,
          [data-theme="dark"] input[type="time"]::-webkit-calendar-picker-indicator,
          [data-theme="dark"] input[type="datetime-local"]::-webkit-calendar-picker-indicator { filter: invert(1); }
        `}),m.jsx("header",{className:`sticky top-0 z-20 ${n.headerBg}`,children:m.jsxs("div",{className:"max-w-6xl mx-auto px-3 sm:px-4 py-3 flex items-center justify-between gap-2",children:[m.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0",children:[m.jsx("img",{src:bS,alt:"Marsica Padel",className:"h-8 w-auto rounded-md shadow shrink-0"}),m.jsxs("div",{className:"text-lg sm:text-2xl font-bold tracking-wide truncate",children:["Marsica ",m.jsx("span",{className:"bg-gradient-to-r from-emerald-400 to-lime-400 bg-clip-text text-transparent",children:"Padel"})," League"]})]}),m.jsx("button",{type:"button","aria-label":"Cambia tema",onClick:()=>e(G=>G==="dark"?"light":"dark"),className:`ml-1 px-3 py-1.5 rounded-xl text-sm transition ring-1 ${n.ghostRing} shrink-0`,title:t==="dark"?"Passa al tema chiaro":"Passa al tema scuro",children:t==="dark"?"☀️":"🌙"})]})}),t==="dark"&&m.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-0 h-40 bg-gradient-to-b from-emerald-500/20 to-transparent blur-2xl"}),m.jsx("main",{className:"max-w-2xl mx-auto px-3 sm:px-4 py-5 sm:py-6",children:m.jsx(cT,{T:n,user:d,userProfile:p,setUserProfile:g})})]}):m.jsxs("div",{className:`min-h-screen ${n.pageBg} ${n.text}`,"data-theme":t,children:[m.jsx("style",{children:`
        [data-theme="dark"] input[type="date"]::-webkit-calendar-picker-indicator,
        [data-theme="dark"] input[type="time"]::-webkit-calendar-picker-indicator,
        [data-theme="dark"] input[type="datetime-local"]::-webkit-calendar-picker-indicator { filter: invert(1); }
      `}),m.jsx("header",{className:`sticky top-0 z-20 ${n.headerBg}`,children:m.jsxs("div",{className:"max-w-6xl mx-auto px-3 sm:px-4 py-3 flex items-center justify-between gap-2",children:[m.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0",children:[m.jsx("img",{src:bS,alt:"Marsica Padel",className:"h-8 w-auto rounded-md shadow shrink-0"}),m.jsxs("div",{className:"text-lg sm:text-2xl font-bold tracking-wide truncate",children:["Marsica ",m.jsx("span",{className:"bg-gradient-to-r from-emerald-400 to-lime-400 bg-clip-text text-transparent",children:"Padel"})," League"]})]}),m.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto no-scrollbar",children:[m.jsx(QU,{active:P,setActive:N,clubMode:s,T:n,user:d}),m.jsx("button",{type:"button","aria-label":"Cambia tema",onClick:()=>e(G=>G==="dark"?"light":"dark"),className:`ml-1 px-3 py-1.5 rounded-xl text-sm transition ring-1 ${n.ghostRing} shrink-0`,title:t==="dark"?"Passa al tema chiaro":"Passa al tema scuro",children:t==="dark"?"☀️":"🌙"})]})]})}),t==="dark"&&m.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-0 h-40 bg-gradient-to-b from-emerald-500/20 to-transparent blur-2xl"}),m.jsx("main",{className:"max-w-6xl mx-auto px-3 sm:px-4 py-5 sm:py-6",children:o?m.jsxs(m.Fragment,{children:[P==="giocatori"&&s&&m.jsx(cte,{T:n,state:o,setState:_,onOpenStats:R,playersById:O}),P==="classifica"&&m.jsx(ote,{T:n,players:T.players,matches:T.matches,onOpenStats:R}),P==="crea"&&s&&m.jsx(gte,{T:n,state:o,setState:_,playersById:O,onShowFormula:I,derivedMatches:T.matches}),P==="stats"&&m.jsx(_te,{T:n,players:T.players,matches:T.matches,selectedPlayerId:A,onSelectPlayer:k,onShowFormula:I}),P==="prenota"&&s&&m.jsx(Ate,{T:n,state:o,setState:_,players:T.players,playersById:O}),P==="tornei"&&s&&m.jsx(Cte,{T:n}),P==="profile"&&m.jsx(Nte,{T:n}),P==="auth"&&m.jsx(cT,{T:n}),P==="extra"&&m.jsx(kte,{T:n,state:o,setState:_,derived:T,leagueId:r,setLeagueId:i,clubMode:s,setClubMode:a})]}):m.jsx("div",{className:"p-6",children:"Caricamento…"})}),m.jsx(ex,{open:!!D,onClose:()=>I(""),title:"Formula calcolo punti (RPA) – Spiegazione",T:n,children:D})]})}const xM=document.getElementById("root");if(!xM)throw new Error("Elemento #root non trovato in index.html");Ek(xM).render(m.jsx(Ote,{}));
